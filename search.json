[
  {
    "objectID": "index.html",
    "href": "index.html",
    "title": "The Art of Data Visualization with ggplot2",
    "section": "",
    "text": "서문\n\n\n\n\n\n\nNicola Rennie의 ggplot2를 활용한 데이터 시각화의 기술(일명 TidyTuesday 요리책) 온라인 버전에 오신 것을 환영합니다.\n이 책은 CRC Press에서 출판될 예정입니다.\n\n\n\nggplot2를 활용한 데이터 시각화의 기술(일명 TidyTuesday 요리책)에 오신 것을 환영합니다. TidyTuesday는 실제 데이터세트를 제공하여 데이터를 다루는 법을 더 쉽게 배울 수 있도록 돕는 매주 진행되는 소셜 데이터 프로젝트입니다. 참가자들은 매주 GitHub를 통해 공유되는 데이터를 탐색하고, 데이터 시각화와 같은 결과물을 만들어, 코드와 함께 커뮤니티에 공유하도록 장려됩니다.\n3년 동안 매주 기여하면서 저는 약 150개의 데이터세트를 다루었고 150개 이상의 데이터 시각화 작품을 만들었습니다. 이 책의 각 장에서는 서로 다른 데이터 시각화 사례를 다루며, 데이터 탐색 과정, 데이터 시각화 유형 선택, 손으로 그린 스케치를 통한 초기 디자인 구상, 차트의 첫 번째 구현, 그리고 플롯 스타일을 다듬는 반복적인 과정을 보여줍니다. 각 플롯에 대해 창작 과정의 단계별로 전체 R 코드를 제공하고 설명합니다. 여러분이 보게 될 시각화 중 어느 것도 이 책을 위해 특별히 만들어진 것은 없습니다. 각각은 수년에 걸쳐 실제 TidyTuesday 데이터세트를 사용하여 만든 독창적인 데이터 시각화입니다. 각 장을 이전에 본 적 없는 새로운 데이터세트로 시작하여 통찰력 있고 예술적인 시각화에 도달하는 과정을 다루는 사례 연구라고 생각하세요. 이 책은 바로 그 과정에 관한 것입니다. 때로는 데이터가 엉망이고, 때로는 코드가 조잡(hacky) 할 수도 있습니다. 때로는 뒤돌아보면 데이터를 더 잘 시각화할 수 있었을지도 모릅니다.\n데이터 시각화는 정보를 전달하는 매우 효과적이고 효율적인 수단이 될 수 있습니다. 데이터 시각화는 일반적으로 두 가지 목적 중 하나를 수행합니다. (i) 데이터의 불일치를 발견하고 측정할 흥미로운 관계를 식별하기 위한 탐색적 분석의 일부로서, 또는 (ii) 더 넓은 청중에게 주요 통찰력과 메시지를 전달하기 위해서입니다. 이 책의 사례 연구 특성상 우리는 이 두 가지 측면을 모두 다루겠지만, 주로 두 번째에 초점을 맞출 것입니다. 적절한 유형의 시각화를 선택하고 디자인에 대해 신중한 선택을 하면 독자에게 전달하려는 메시지를 명확하게 할 수 있습니다. 그렇다고 모든 차트가 일련의 규칙을 따르고 엄격한 형식을 고수해야 한다는 의미는 아닙니다. 대신 데이터 시각화는 과학과 창의성의 조화입니다. 훌륭한 예시로 꼽히는 주요 랜드마크 데이터 시각화 중 다수는 막대형 차트, 산점도 또는 선형 그래프와 같은 표준 범주에 맞지 않습니다.\n그렇긴 하지만, 이 책의 시각화가 반드시 해당 데이터와 관계를 보여주는 가장 효과적인 시각화 선택은 아닐 수 있습니다. 오히려 이 책은 R에서 시각화를 구축하는 기술적인 세부 사항에 초점을 맞춰 데이터 시각화를 만드는 전체 과정을 예시로 보여주는 것을 목표로 합니다. 데이터 시각화를 변형하는 데 사용할 수 있는 몇 가지 비표준 솔루션과 독특한 아이디어를 보게 될 것입니다.\n\n\n감사의 말\n수년 전 TidyTuesday를 우연히 발견하지 못했다면 이 책은 결코 세상에 나올 수 없었을 것입니다. 그래서 TidyTuesday를 만든 팀에게 매우 감사합니다. 특히 데이터 과학 커뮤니티를 구축하고 다른 오픈 소스 프로젝트와 함께 TidyTuesday 데이터세트를 유지 관리하는 데 자신의 여가 시간을 많이 할애해 준 Jon Harmon에게 특별히 감사합니다. 또한 TidyTuesday와 더 넓은 데이터 과학 학습 커뮤니티를 지원해 준 Tom Mock, Tracy Teal, Lydia Gibson, Tan Ho에게도 특별한 감사를 전합니다. 수년 동안 TidyTuesday를 위해 데이터세트를 큐레이팅하고 제출해 준 분들에게도 많은 감사를 드립니다.\n더 넓게는 R 및 데이터 시각화 커뮤니티가 이 책을 쓰기 전과 쓰는 동안 영감과 지지, 그리고 지식의 원천이 되어 주었습니다. 그들은 앞으로도 계속 그럴 것이라고 확신합니다.\n또한 초기 초안을 검토하는 데 도움을 주고 이 책을 쓰는 과정 내내 격려해 준 Emanuele Giorgi와 Claudio Fronterrè에게 감사드립니다. 이 책의 출판에 동의해 준 CRC Press, 귀중한 피드백을 제공해 준 리뷰어들, 그리고 지도와 지원을 아끼지 않은 Lara Spieker에게 특별한 감사를 전합니다.\n간단히 말해서, 제 주변의 거대하고 괴짜 같은(nerdy) 데이터 커뮤니티에 매우 감사합니다.\n\n\n\n\nAnscombe, F. J. 1973. “Graphs in Statistical Analysis.” The American Statistician 27 (1): 17–21. https://doi.org/10.1080/00031305.1973.10478966.\n\n\nAphalo, Pedro J. 2024. Learn R: As a Language. Second Edition. CRC Press. https://www.learnr-book.info/.\n\n\nAuguie, Baptiste. 2019. egg: Extensions for ’ggplot2’: Custom Geom, Custom Themes, Plot Alignment, Labelled Panels, Symmetric Scales, and Fixed Panel Size. https://CRAN.R-project.org/package=egg.\n\n\nBarthelme, Simon. 2024. imager: Image Processing Library Based on ’CImg’. https://CRAN.R-project.org/package=imager.\n\n\nBrand, Teun van den. 2025. “ggplot2 4.0.0.” https://www.tidyverse.org/blog/2025/09/ggplot2-4-0-0/.\n\n\nBridson, Robert. 2007. “Fast Poisson Disk Sampling in Arbitrary Dimensions.” In ACM SIGGRAPH 2007 Sketches. SIGGRAPH ’07. New York, NY, USA: Association for Computing Machinery. https://doi.org/10.1145/1278780.1278807.\n\n\nBrown, Mark J.F., and Paxton, Robert J. 2009. “The Conservation of Bees: A Global Perspective.” Apidologie 40 (3): 410–16. https://doi.org/10.1051/apido/2009019.\n\n\nCameron, Allan, and Teun van den Brand. 2024. geomtextpath: Curved Text in ’ggplot2’. https://CRAN.R-project.org/package=geomtextpath.\n\n\nCARTO. 2016. ’CARTOColors’ Palettes. https://carto.com/carto-colors/.\n\n\nChang, Winston. 2023. extrafont: Tools for Using Fonts. https://CRAN.R-project.org/package=extrafont.\n\n\nCheung, Foo. 2021. dumbbell: Displaying Changes Between Two Points Using Dumbbell Plots. https://CRAN.R-project.org/package=dumbbell.\n\n\nCowgill, Matt, and John Helveston. 2021. ggannotate: Interactively Annotate ggplot2 Plots. https://github.com/MattCowgill/ggannotate.\n\n\nCsárdi, Gábor, and Jim Hester. 2024. pak: Another Approach to Package Installation. https://CRAN.R-project.org/package=pak.\n\n\nCsárdi, Gábor, Jim Hester, Hadley Wickham, Winston Chang, Martin Morgan, and Dan Tenenbaum. 2024. remotes: R Package Installation from Remote Repositories, Including ’GitHub’. https://CRAN.R-project.org/package=remotes.\n\n\nDomin, Iaroslav. 2024. ggview: ’ggplot2’ Picture Previewer. https://CRAN.R-project.org/package=ggview.\n\n\nEngler, Jan Broder. 2024. “Tidyplots Empowers Life Scientists with Easy Code-Based Data Visualization.” bioRxiv. https://doi.org/10.1101/2024.11.08.621836.\n\n\nFC, Mike, Trevor L. Davis, and ggplot2 authors. 2024. ggpattern: ’ggplot2’ Pattern Geoms. https://CRAN.R-project.org/package=ggpattern.\n\n\nFlaticon.com. 2024. “Wind Power Flaticon.” https://www.flaticon.com/free-icon/wind-power_5670189.\n\n\nFont Awesome. 2024. “Font Awesome 6.” https://fontawesome.com/.\n\n\nFranconeri, Steven L., Lace M. Padilla, Priti Shah, Jeffrey M. Zacks, and Jessica Hullman. 2021. “The Science of Visual Data Communication: What Works.” Psychological Science in the Public Interest 22 (3): 110–61. https://doi.org/10.1177/15291006211051956.\n\n\nGarnier, Simon, Ross, Noam, Rudis, Robert, Camargo, et al. 2024. viridis(Lite) - Colorblind-Friendly Color Maps for R. https://doi.org/10.5281/zenodo.4679423.\n\n\nGohel, David, and Panagiotis Skintzos. 2024. ggiraph: Make ’ggplot2’ Graphics Interactive. https://CRAN.R-project.org/package=ggiraph.\n\n\nGovernment Analysis Function. 2021. “Data Visualisation: Colours.” https://analysisfunction.civilservice.gov.uk/policy-store/data-visualisation-colours-in-charts/.\n\n\nHafen, Ryan. 2023. geofacet: ’ggplot2’ Faceting Utilities for Geographical Data. https://CRAN.R-project.org/package=geofacet.\n\n\nHarmon, Jon. 2024. Web APIs with R. CRC Press. https://wapir.io/.\n\n\nHester, Jim, Florent Angly, Russ Hyde, Michael Chirico, Kun Ren, Alexander Rosenstock, and Indrajeet Patil. 2024. lintr: A ’Linter’ for R Code. https://CRAN.R-project.org/package=lintr.\n\n\nHester, Jim, and Jennifer Bryan. 2024. glue: Interpreted String Literals. https://glue.tidyverse.org/.\n\n\nHughes, Ellis. 2022a. camcorder: Record Your Plot History. https://CRAN.R-project.org/package=camcorder.\n\n\n———. 2022b. tidytuesdayR: Access the Weekly ’TidyTuesday’ Project Dataset. https://CRAN.R-project.org/package=tidytuesdayR.\n\n\nHvitfeldt, Emil. 2021. paletteer: Comprehensive Collection of Color Palettes. https://github.com/EmilHvitfeldt/paletteer.\n\n\n———. 2025. animalshelter: Animal Shelter Data. https://github.com/EmilHvitfeldt/animalshelter.\n\n\nIannone, Richard. 2024. fontawesome: Easily Work with ’Font Awesome’ Icons. https://CRAN.R-project.org/package=fontawesome.\n\n\nInternet Assigned Numbers Authority. 2023. “The tz Database: Time Zone and Daylight Saving Time Data.” Internet Assigned Numbers Authority. https://data.iana.org/time-zones/tz-link.html.\n\n\nJax (@lysrix). 2017. “Lemur.” https://unsplash.com/photos/red-and-white-rodent-h5xrh3CNT-k.\n\n\nKays, R., R. R. Dunn, A. W. Parsons, B. Mcdonald, T. Perkins, S. A. Powers, L. Shell, et al. 2020. “The Small Home Ranges and Large Local Ecological Impacts of Pet Cats.” Animal Conservation 23 (5): 516–23. https://doi.org/10.1111/acv.12563.\n\n\nKeyes, David. 2024. R for the Rest of Us: A Statistics-Free Introduction. No Starch Press. https://book.rfortherestofus.com/.\n\n\nLong Beach Animal Shelter. 2025. “Animal Shelter Data.” City of Long Beach Animal Care Services. https://data.longbeach.gov/explore/dataset/animal-shelter-intakes-and-outcomes/information/.\n\n\nLucchesi, Lydia, and Petra Kuhnert. 2020. Vizumap: Visualizing Uncertainty in Spatial Data. https://github.com/lydialucchesi/Vizumap.\n\n\nMapping Museums. 2021. “Mapping Museums Data.” www.mappingmuseums.org.\n\n\nMassicotte, Philippe, and Andy South. 2023. rnaturalearth: World Map Data from Natural Earth. https://docs.ropensci.org/rnaturalearth/.\n\n\nMatejka, Justin, and George Fitzmaurice. 2017. “Same Stats, Different Graphs: Generating Datasets with Varied Appearance and Identical Statistics Through Simulated Annealing.” In, 1290–94. https://doi.org/10.1145/3025453.3025912.\n\n\nMcDonald, J. L., and H. Cole. 2020. “Data from: The Small Home Ranges and Large Local Ecological Impacts of Pet Cats [United Kingdom].” Movebank data repository. https://doi.org/doi:10.5441/001/1.pf315732.\n\n\nMcWhite, Claire D., and Claus O. Wilke. 2024. colorblindr: Simulate colorblindness in R figures. https://github.com/clauswilke/colorblindr.\n\n\nMid-Atlantic Apiculture Research and Extension Consortium. 2024. “Seasonal Cycles of Activities in Colonies.” https://canr.udel.edu/maarec/honey-bee-biology/seasonal-cycles-of-activities-in-colonies/.\n\n\nmikefc. 2024. poissoned: Tileable Poisson Disc Sampling. https://github.com/coolbutuseless/poissoned.\n\n\nMills, Blake Robert. 2022. MetBrewer: Color Palettes Inspired by Works at the Metropolitan Museum of Art. https://CRAN.R-project.org/package=MetBrewer.\n\n\nMIT Election Data and Science Lab. 2017. “U.S. House 1976–2022.” Harvard Dataverse. https://doi.org/10.7910/DVN/IG0UN2.\n\n\nMüller, Kirill, and Lorenz Walthert. 2023. styler: Non-Invasive Pretty Printing of R Code. https://CRAN.R-project.org/package=styler.\n\n\nMüller, Kirill, and Hadley Wickham. 2023. tibble: Simple Data Frames. https://CRAN.R-project.org/package=tibble.\n\n\nMuth, Lisa. 2018. “An Alternative to Pink & Blue: Colors for Gender Data.” https://blog.datawrapper.de/gendercolor/.\n\n\nNatural Resources Canada. 2021. “Canadian Wind Turbine Database.” Natural Resources Canada (Government of Canada). https://open.canada.ca/data/en/dataset/79fdad93-9025-49ad-ba16-c26d718cc070.\n\n\nNoblet, Guillaume. 2025. ggbranding: Add Personal Branding to ’ggplot2’ Charts. https://github.com/gnoblet/ggbranding.\n\n\nNowosad, Jakub. 2018. ’CARTOColors’ Palettes. https://jakubnowosad.com/rcartocolor/.\n\n\nOoms, Jeroen. 2024. magick: Advanced Graphics and Image-Processing in R. https://CRAN.R-project.org/package=magick.\n\n\nOur World in Data. 2019. “Medical Doctors Per 1,000 People.” https://ourworldindata.org/grapher/physicians-per-1000-people.\n\n\nPebesma, Edzer. 2018. “Simple Features for R: Standardized Support for Spatial Vector Data.” The R Journal 10 (1): 439–46. https://doi.org/10.32614/RJ-2018-009.\n\n\nPedersen, Thomas Lin. 2022. ggforce: Accelerating ’ggplot2’. https://CRAN.R-project.org/package=ggforce.\n\n\n———. 2024. patchwork: The Composer of Plots. https://CRAN.R-project.org/package=patchwork.\n\n\n———. 2025. “Fonts in R.” https://www.tidyverse.org/blog/2025/05/fonts-in-r/.\n\n\nPedersen, Thomas Lin, and Martin Mitáš. 2024. marquee: Markdown Parser and Renderer for R Graphics. https://CRAN.R-project.org/package=marquee.\n\n\nPedersen, Thomas Lin, Jeroen Ooms, and Devon Govett. 2024. systemfonts: System Native Font Finding. https://CRAN.R-project.org/package=systemfonts.\n\n\nPedersen, Thomas Lin, and Maxim Shemanarev. 2023. ragg: Graphic Devices Based on AGG. https://CRAN.R-project.org/package=ragg.\n\n\nPLDB contributors. 2022. “PLDB: A Programming Language Database.” PLDB. https://pldb.com.\n\n\nQiu, Yixuan. 2022. sysfonts: Loading Fonts into R. https://CRAN.R-project.org/package=sysfonts.\n\n\n———. 2023. showtext: Using Fonts More Easily in R Graphs. https://CRAN.R-project.org/package=showtext.\n\n\nR Core Team. 2024. R: A Language and Environment for Statistical Computing. Vienna, Austria: R Foundation for Statistical Computing. https://www.R-project.org/.\n\n\nR4DS Online Learning Community. 2023. “Tidy Tuesday: A Weekly Social Data Project.” https://github.com/rfordatascience/tidytuesday.\n\n\nRennie, Nicola. 2023a. “Adding Social Media Icons to Charts with ggplot2.” https://nrennie.rbind.io/blog/adding-social-media-icons-ggplot2/.\n\n\n———. 2023b. “Creating Template Files with R.” https://nrennie.rbind.io/blog/script-templates-r/.\n\n\n———. 2023c. “Four Ways to Streamline Your R Workflows.” https://nrennie.rbind.io/blog/four-ways-streamline-r-workflows/.\n\n\n———. 2024a. ggtextcircle: Circular Text in ’ggplot2’. https://github.com/nrennie/ggtextcircle.\n\n\n———. 2024b. nobel: Access data from the Nobel Prize API via R. https://github.com/nrennie/nobel.\n\n\n———. 2024c. “tidytuesday.” GitHub Repository. GitHub. https://github.com/nrennie/tidytuesday.\n\n\nRennie, Nicola, and Andreas Krause. 2024. “Presenting data the Significance way - Part 1.” Significance 21 (3): 36–39. https://doi.org/10.1093/jrssig/qmae045.\n\n\nReynolds, Gina. 2025. “Everyday ggplot2 extension.” https://evamaerey.github.io/everyday_ggplot2_extension/.\n\n\nRStudio. 2018a. “forcats Hex Sticker.” https://github.com/rstudio/hex-stickers/blob/main/PNG/forcats.png.\n\n\n———. 2018b. “ggplot2 Hex Sticker.” https://github.com/rstudio/hex-stickers/blob/main/PNG/ggplot2.png.\n\n\n———. 2018c. “purrr Hex Sticker.” https://github.com/rstudio/hex-stickers/blob/main/PNG/purrr.png.\n\n\n———. 2018d. “readr Hex Sticker.” https://github.com/rstudio/hex-stickers/blob/main/PNG/readr.png.\n\n\n———. 2018e. “tibble Hex Sticker.” https://github.com/rstudio/hex-stickers/blob/main/PNG/tibble.png.\n\n\n———. 2020a. “dplyr Hex Sticker.” https://github.com/rstudio/hex-stickers/blob/main/PNG/dplyr.png.\n\n\n———. 2020b. “stringr Hex Sticker.” https://github.com/rstudio/hex-stickers/blob/main/PNG/stringr.png.\n\n\n———. 2020c. “tidyr Hex Sticker.” https://github.com/rstudio/hex-stickers/blob/main/PNG/tidyr.png.\n\n\nRudis, Bob, Ben Bolker, and Jan Schulz. 2017. ggalt: Extra Coordinate Systems, ’Geoms’, Statistical Transformations, Scales and Fonts for ’ggplot2’. https://CRAN.R-project.org/package=ggalt.\n\n\nRudis, Bob, and Dave Gandy. 2023. waffle: Create Waffle Chart Visualizations. https://CRAN.R-project.org/package=waffle.\n\n\nSarkar, Deepayan. 2008. Lattice: Multivariate Data Visualization with r. New York: Springer. http://lmdvr.r-forge.r-project.org.\n\n\nSchauberger, Philipp, and Alexander Walker. 2023. openxlsx: Read, Write and Edit xlsx Files. https://CRAN.R-project.org/package=openxlsx.\n\n\nScheuch, Christoph. 2025. owidapi: Access the Our World in Data Chart API. https://doi.org/10.32614/CRAN.package.owidapi.\n\n\nSchloerke, Barret, Di Cook, Joseph Larmarange, Francois Briatte, Moritz Marbach, Edwin Thoen, Amos Elberg, and Jason Crowley. 2024. GGally: Extension to ’ggplot2’. https://CRAN.R-project.org/package=GGally.\n\n\nSchloss, Karen B., Connor C. Gramazio, Allison T. Silverman, Madeline L. Parker, and Audrey S. Wang. 2019. “Mapping Color to Meaning in Colormap Data Visualizations.” IEEE Transactions on Visualization and Computer Graphics 25 (1): 810–19. https://doi.org/10.1109/TVCG.2018.2865147.\n\n\nShalloway, Bryan. 2023. funspotr: Spot R Functions & Packages. https://CRAN.R-project.org/package=funspotr.\n\n\nSievert, Carson. 2020. Interactive Web-Based Data Visualization with r, Plotly, and Shiny. Chapman; Hall/CRC. https://plotly-r.com.\n\n\nSlowikowski, Kamil. 2024. ggrepel: Automatically Position Non-Overlapping Text Labels with ’ggplot2’. https://CRAN.R-project.org/package=ggrepel.\n\n\nTierney, Nicholas. 2017. “visdat: Visualising Whole Data Frames.” JOSS 2 (16): 355. https://doi.org/10.21105/joss.00355.\n\n\nTierney, Nicholas, and Dianne Cook. 2023. “Expanding Tidy Data Principles to Facilitate Missing Data Exploration, Visualization and Assessment of Imputations.” Journal of Statistical Software 105 (7): 1–31. https://doi.org/10.18637/jss.v105.i07.\n\n\nTol, Paul. 2021. “Paul Tol’s Notes: Colour schemes and templates.” https://sronpersonalpages.nl/~pault/.\n\n\nUnited States Census Bureau. 2021a. “Historical Population Change Data (1910-2020).” https://www.census.gov/data/tables/time-series/dec/popchange-data-text.html.\n\n\n———. 2021b. “State Area Measurements and Internal Point Coordinates.” https://www.census.gov/geographies/reference-files/2010/geo/state-area.html.\n\n\nUnited States Department of Agriculture: Economics, Statistics and Market Information System. 2022. “Honey Bee Colonies.” USDA Economics, Statistics and Market Information System. https://usda.library.cornell.edu/concern/publications/rn301137d.\n\n\nWalker, Kyle. 2022. crsuggest: Obtain Suggested Coordinate Reference System Information for Spatial Data. https://CRAN.R-project.org/package=crsuggest.\n\n\nWanzer, Dana Linnell, Tarek Azzam, Natalie D. Jones, and Darrel Skousen. 2021. “The Role of Titles in Enhancing Data Visualization.” Evaluation and Program Planning 84: 101896. https://doi.org/10.1016/j.evalprogplan.2020.101896.\n\n\nWickham, Hadley. 2016. ggplot2: Elegant Graphics for Data Analysis. Springer-Verlag New York. https://ggplot2.tidyverse.org.\n\n\n———. 2023a. forcats: Tools for Working with Categorical Variables (Factors). https://doi.org/10.32614/CRAN.package.forcats.\n\n\n———. 2023b. stringr: Simple, Consistent Wrappers for Common String Operations. https://CRAN.R-project.org/package=stringr.\n\n\nWickham, Hadley, Mara Averick, Jennifer Bryan, Winston Chang, Lucy D’Agostino McGowan, Romain François, Garrett Grolemund, et al. 2019. “Welcome to the tidyverse.” Journal of Open Source Software 4 (43): 1686. https://doi.org/10.21105/joss.01686.\n\n\nWickham, Hadley, and Jennifer Bryan. 2023. readxl: Read Excel Files. https://CRAN.R-project.org/package=readxl.\n\n\nWickham, Hadley, Mine Çetinkaya-Rundel, and Garrett Grolemund. 2023. R for Data Science. Second Edition. O-Reilly. https://r4ds.hadley.nz.\n\n\nWickham, Hadley, Romain François, Lionel Henry, Kirill Müller, and Davis Vaughan. 2023. dplyr: A Grammar of Data Manipulation. https://CRAN.R-project.org/package=dplyr.\n\n\nWickham, Hadley, and Lionel Henry. 2023. purrr: Functional Programming Tools. https://CRAN.R-project.org/package=purrr.\n\n\nWickham, Hadley, Jim Hester, and Jennifer Bryan. 2024. readr: Read Rectangular Text Data. https://CRAN.R-project.org/package=readr.\n\n\nWickham, Hadley, Thomas Lin Pedersen, and Dana Seidel. 2023. scales: Scale Functions for Visualization. https://CRAN.R-project.org/package=scales.\n\n\nWickham, Hadley, Davis Vaughan, and Maximilian Girlich. 2024. tidyr: Tidy Messy Data. https://CRAN.R-project.org/package=tidyr.\n\n\nWilke, Claus. 2022. ggtextures: Drawing Textured Rectangles and Bars with grid and ggplot2. https://github.com/clauswilke/ggtextures.\n\n\nWilke, Claus O. 2024. cowplot: Streamlined Plot Theme and Plot Annotations for ’ggplot2’. https://wilkelab.org/cowplot/.\n\n\nWilke, Claus O., and Brenton M. Wiernik. 2022. ggtext: Improved Text Rendering Support for ’ggplot2’. https://CRAN.R-project.org/package=ggtext.\n\n\nwww.nobelprize.org. 2024. “Nobel Prize API Version 2.1.” https://api.nobelprize.org/2.1/laureates.\n\n\nYork, Piers. 2023. owidR: Import Data from Our World in Data. https://github.com/piersyork/owidR.\n\n\nYu, Guangchuang. 2023. ggimage: Use Image in ’ggplot2’. https://CRAN.R-project.org/package=ggimage.\n\n\nYutani, Hiroaki. 2023. gghighlight: Highlight Lines and Points in ’ggplot2’. https://CRAN.R-project.org/package=gghighlight.\n\n\nZehr, Sarah M., Richard G. Roach, David Haring, Julie Taylor, Freda H. Cameron, and Anne D. Yoder. 2014. “Life history profiles for 27 strepsirrhine primate taxa generated using captive data from the Duke Lemur Center.” Scientific Data 1 (1). https://doi.org/10.1038/sdata.2014.19.",
    "crumbs": [
      "서문"
    ]
  },
  {
    "objectID": "author.html",
    "href": "author.html",
    "title": "저자",
    "section": "",
    "text": "Nicola Rennie\n\n nicola-rennie\n nrennie\n fosstodon.org/@nrennie\n nrennie\n nrennie.rbind.io\n\n\nNicola Rennie는 수학과 통계를 학문적 배경으로 하는 데이터 시각화 전문가이자 열광적인 지지자입니다. 그녀는 운송 수요 분석 및 시각화에 중점을 둔 통계 및 운영 연구 박사 학위를 보유하고 있습니다. 그녀는 복잡하고 정량적인 정보를 접근 가능한 방식으로 전달하기 위해 데이터 시각화를 사용하는 방법과 시각화와 예술의 교차점에 특히 관심이 있습니다. 그녀는 학부 및 대학원 수준에서 데이터 과학 기초, 통계 방법 및 프로그래밍을 다루는 과정을 가르친 경험이 있습니다. Nicola는 또한 이전에 데이터 과학 컨설팅 분야에서 근무했으며 R을 사용한 고급 데이터 시각화, 통계 모델링 및 재현 가능한 보고를 포함한 주제를 다루는 교육 과정을 제공했습니다. 그녀는 여러 ggplot2 확장 패키지를 포함하여 여러 R 패키지의 저자이자 관리자입니다. Nicola는 R 및 데이터 과학 모임의 정기 연사이며, R-Ladies Lancaster의 챕터 주최자이자 R-Ladies Global Team의 일원이었습니다. 그녀는 Royal Statistical Society의 Best Practices for Data Visualisation Guide 공동 저자이며 Royal Statistical Society의 활동적인 회원입니다. 그녀의 데이터 시각화 중 일부는 Information is Beautiful Awards의 후보 목록에 올랐습니다.\n\n\n\n\nAnscombe, F. J. 1973. “Graphs in Statistical Analysis.” The American Statistician 27 (1): 17–21. https://doi.org/10.1080/00031305.1973.10478966.\n\n\nAphalo, Pedro J. 2024. Learn R: As a Language. Second Edition. CRC Press. https://www.learnr-book.info/.\n\n\nAuguie, Baptiste. 2019. egg: Extensions for ’ggplot2’: Custom Geom, Custom Themes, Plot Alignment, Labelled Panels, Symmetric Scales, and Fixed Panel Size. https://CRAN.R-project.org/package=egg.\n\n\nBarthelme, Simon. 2024. imager: Image Processing Library Based on ’CImg’. https://CRAN.R-project.org/package=imager.\n\n\nBrand, Teun van den. 2025. “ggplot2 4.0.0.” https://www.tidyverse.org/blog/2025/09/ggplot2-4-0-0/.\n\n\nBridson, Robert. 2007. “Fast Poisson Disk Sampling in Arbitrary Dimensions.” In ACM SIGGRAPH 2007 Sketches. SIGGRAPH ’07. New York, NY, USA: Association for Computing Machinery. https://doi.org/10.1145/1278780.1278807.\n\n\nBrown, Mark J.F., and Paxton, Robert J. 2009. “The Conservation of Bees: A Global Perspective.” Apidologie 40 (3): 410–16. https://doi.org/10.1051/apido/2009019.\n\n\nCameron, Allan, and Teun van den Brand. 2024. geomtextpath: Curved Text in ’ggplot2’. https://CRAN.R-project.org/package=geomtextpath.\n\n\nCARTO. 2016. ’CARTOColors’ Palettes. https://carto.com/carto-colors/.\n\n\nChang, Winston. 2023. extrafont: Tools for Using Fonts. https://CRAN.R-project.org/package=extrafont.\n\n\nCheung, Foo. 2021. dumbbell: Displaying Changes Between Two Points Using Dumbbell Plots. https://CRAN.R-project.org/package=dumbbell.\n\n\nCowgill, Matt, and John Helveston. 2021. ggannotate: Interactively Annotate ggplot2 Plots. https://github.com/MattCowgill/ggannotate.\n\n\nCsárdi, Gábor, and Jim Hester. 2024. pak: Another Approach to Package Installation. https://CRAN.R-project.org/package=pak.\n\n\nCsárdi, Gábor, Jim Hester, Hadley Wickham, Winston Chang, Martin Morgan, and Dan Tenenbaum. 2024. remotes: R Package Installation from Remote Repositories, Including ’GitHub’. https://CRAN.R-project.org/package=remotes.\n\n\nDomin, Iaroslav. 2024. ggview: ’ggplot2’ Picture Previewer. https://CRAN.R-project.org/package=ggview.\n\n\nEngler, Jan Broder. 2024. “Tidyplots Empowers Life Scientists with Easy Code-Based Data Visualization.” bioRxiv. https://doi.org/10.1101/2024.11.08.621836.\n\n\nFC, Mike, Trevor L. Davis, and ggplot2 authors. 2024. ggpattern: ’ggplot2’ Pattern Geoms. https://CRAN.R-project.org/package=ggpattern.\n\n\nFlaticon.com. 2024. “Wind Power Flaticon.” https://www.flaticon.com/free-icon/wind-power_5670189.\n\n\nFont Awesome. 2024. “Font Awesome 6.” https://fontawesome.com/.\n\n\nFranconeri, Steven L., Lace M. Padilla, Priti Shah, Jeffrey M. Zacks, and Jessica Hullman. 2021. “The Science of Visual Data Communication: What Works.” Psychological Science in the Public Interest 22 (3): 110–61. https://doi.org/10.1177/15291006211051956.\n\n\nGarnier, Simon, Ross, Noam, Rudis, Robert, Camargo, et al. 2024. viridis(Lite) - Colorblind-Friendly Color Maps for R. https://doi.org/10.5281/zenodo.4679423.\n\n\nGohel, David, and Panagiotis Skintzos. 2024. ggiraph: Make ’ggplot2’ Graphics Interactive. https://CRAN.R-project.org/package=ggiraph.\n\n\nGovernment Analysis Function. 2021. “Data Visualisation: Colours.” https://analysisfunction.civilservice.gov.uk/policy-store/data-visualisation-colours-in-charts/.\n\n\nHafen, Ryan. 2023. geofacet: ’ggplot2’ Faceting Utilities for Geographical Data. https://CRAN.R-project.org/package=geofacet.\n\n\nHarmon, Jon. 2024. Web APIs with R. CRC Press. https://wapir.io/.\n\n\nHester, Jim, Florent Angly, Russ Hyde, Michael Chirico, Kun Ren, Alexander Rosenstock, and Indrajeet Patil. 2024. lintr: A ’Linter’ for R Code. https://CRAN.R-project.org/package=lintr.\n\n\nHester, Jim, and Jennifer Bryan. 2024. glue: Interpreted String Literals. https://glue.tidyverse.org/.\n\n\nHughes, Ellis. 2022a. camcorder: Record Your Plot History. https://CRAN.R-project.org/package=camcorder.\n\n\n———. 2022b. tidytuesdayR: Access the Weekly ’TidyTuesday’ Project Dataset. https://CRAN.R-project.org/package=tidytuesdayR.\n\n\nHvitfeldt, Emil. 2021. paletteer: Comprehensive Collection of Color Palettes. https://github.com/EmilHvitfeldt/paletteer.\n\n\n———. 2025. animalshelter: Animal Shelter Data. https://github.com/EmilHvitfeldt/animalshelter.\n\n\nIannone, Richard. 2024. fontawesome: Easily Work with ’Font Awesome’ Icons. https://CRAN.R-project.org/package=fontawesome.\n\n\nInternet Assigned Numbers Authority. 2023. “The tz Database: Time Zone and Daylight Saving Time Data.” Internet Assigned Numbers Authority. https://data.iana.org/time-zones/tz-link.html.\n\n\nJax (@lysrix). 2017. “Lemur.” https://unsplash.com/photos/red-and-white-rodent-h5xrh3CNT-k.\n\n\nKays, R., R. R. Dunn, A. W. Parsons, B. Mcdonald, T. Perkins, S. A. Powers, L. Shell, et al. 2020. “The Small Home Ranges and Large Local Ecological Impacts of Pet Cats.” Animal Conservation 23 (5): 516–23. https://doi.org/10.1111/acv.12563.\n\n\nKeyes, David. 2024. R for the Rest of Us: A Statistics-Free Introduction. No Starch Press. https://book.rfortherestofus.com/.\n\n\nLong Beach Animal Shelter. 2025. “Animal Shelter Data.” City of Long Beach Animal Care Services. https://data.longbeach.gov/explore/dataset/animal-shelter-intakes-and-outcomes/information/.\n\n\nLucchesi, Lydia, and Petra Kuhnert. 2020. Vizumap: Visualizing Uncertainty in Spatial Data. https://github.com/lydialucchesi/Vizumap.\n\n\nMapping Museums. 2021. “Mapping Museums Data.” www.mappingmuseums.org.\n\n\nMassicotte, Philippe, and Andy South. 2023. rnaturalearth: World Map Data from Natural Earth. https://docs.ropensci.org/rnaturalearth/.\n\n\nMatejka, Justin, and George Fitzmaurice. 2017. “Same Stats, Different Graphs: Generating Datasets with Varied Appearance and Identical Statistics Through Simulated Annealing.” In, 1290–94. https://doi.org/10.1145/3025453.3025912.\n\n\nMcDonald, J. L., and H. Cole. 2020. “Data from: The Small Home Ranges and Large Local Ecological Impacts of Pet Cats [United Kingdom].” Movebank data repository. https://doi.org/doi:10.5441/001/1.pf315732.\n\n\nMcWhite, Claire D., and Claus O. Wilke. 2024. colorblindr: Simulate colorblindness in R figures. https://github.com/clauswilke/colorblindr.\n\n\nMid-Atlantic Apiculture Research and Extension Consortium. 2024. “Seasonal Cycles of Activities in Colonies.” https://canr.udel.edu/maarec/honey-bee-biology/seasonal-cycles-of-activities-in-colonies/.\n\n\nmikefc. 2024. poissoned: Tileable Poisson Disc Sampling. https://github.com/coolbutuseless/poissoned.\n\n\nMills, Blake Robert. 2022. MetBrewer: Color Palettes Inspired by Works at the Metropolitan Museum of Art. https://CRAN.R-project.org/package=MetBrewer.\n\n\nMIT Election Data and Science Lab. 2017. “U.S. House 1976–2022.” Harvard Dataverse. https://doi.org/10.7910/DVN/IG0UN2.\n\n\nMüller, Kirill, and Lorenz Walthert. 2023. styler: Non-Invasive Pretty Printing of R Code. https://CRAN.R-project.org/package=styler.\n\n\nMüller, Kirill, and Hadley Wickham. 2023. tibble: Simple Data Frames. https://CRAN.R-project.org/package=tibble.\n\n\nMuth, Lisa. 2018. “An Alternative to Pink & Blue: Colors for Gender Data.” https://blog.datawrapper.de/gendercolor/.\n\n\nNatural Resources Canada. 2021. “Canadian Wind Turbine Database.” Natural Resources Canada (Government of Canada). https://open.canada.ca/data/en/dataset/79fdad93-9025-49ad-ba16-c26d718cc070.\n\n\nNoblet, Guillaume. 2025. ggbranding: Add Personal Branding to ’ggplot2’ Charts. https://github.com/gnoblet/ggbranding.\n\n\nNowosad, Jakub. 2018. ’CARTOColors’ Palettes. https://jakubnowosad.com/rcartocolor/.\n\n\nOoms, Jeroen. 2024. magick: Advanced Graphics and Image-Processing in R. https://CRAN.R-project.org/package=magick.\n\n\nOur World in Data. 2019. “Medical Doctors Per 1,000 People.” https://ourworldindata.org/grapher/physicians-per-1000-people.\n\n\nPebesma, Edzer. 2018. “Simple Features for R: Standardized Support for Spatial Vector Data.” The R Journal 10 (1): 439–46. https://doi.org/10.32614/RJ-2018-009.\n\n\nPedersen, Thomas Lin. 2022. ggforce: Accelerating ’ggplot2’. https://CRAN.R-project.org/package=ggforce.\n\n\n———. 2024. patchwork: The Composer of Plots. https://CRAN.R-project.org/package=patchwork.\n\n\n———. 2025. “Fonts in R.” https://www.tidyverse.org/blog/2025/05/fonts-in-r/.\n\n\nPedersen, Thomas Lin, and Martin Mitáš. 2024. marquee: Markdown Parser and Renderer for R Graphics. https://CRAN.R-project.org/package=marquee.\n\n\nPedersen, Thomas Lin, Jeroen Ooms, and Devon Govett. 2024. systemfonts: System Native Font Finding. https://CRAN.R-project.org/package=systemfonts.\n\n\nPedersen, Thomas Lin, and Maxim Shemanarev. 2023. ragg: Graphic Devices Based on AGG. https://CRAN.R-project.org/package=ragg.\n\n\nPLDB contributors. 2022. “PLDB: A Programming Language Database.” PLDB. https://pldb.com.\n\n\nQiu, Yixuan. 2022. sysfonts: Loading Fonts into R. https://CRAN.R-project.org/package=sysfonts.\n\n\n———. 2023. showtext: Using Fonts More Easily in R Graphs. https://CRAN.R-project.org/package=showtext.\n\n\nR Core Team. 2024. R: A Language and Environment for Statistical Computing. Vienna, Austria: R Foundation for Statistical Computing. https://www.R-project.org/.\n\n\nR4DS Online Learning Community. 2023. “Tidy Tuesday: A Weekly Social Data Project.” https://github.com/rfordatascience/tidytuesday.\n\n\nRennie, Nicola. 2023a. “Adding Social Media Icons to Charts with ggplot2.” https://nrennie.rbind.io/blog/adding-social-media-icons-ggplot2/.\n\n\n———. 2023b. “Creating Template Files with R.” https://nrennie.rbind.io/blog/script-templates-r/.\n\n\n———. 2023c. “Four Ways to Streamline Your R Workflows.” https://nrennie.rbind.io/blog/four-ways-streamline-r-workflows/.\n\n\n———. 2024a. ggtextcircle: Circular Text in ’ggplot2’. https://github.com/nrennie/ggtextcircle.\n\n\n———. 2024b. nobel: Access data from the Nobel Prize API via R. https://github.com/nrennie/nobel.\n\n\n———. 2024c. “tidytuesday.” GitHub Repository. GitHub. https://github.com/nrennie/tidytuesday.\n\n\nRennie, Nicola, and Andreas Krause. 2024. “Presenting data the Significance way - Part 1.” Significance 21 (3): 36–39. https://doi.org/10.1093/jrssig/qmae045.\n\n\nReynolds, Gina. 2025. “Everyday ggplot2 extension.” https://evamaerey.github.io/everyday_ggplot2_extension/.\n\n\nRStudio. 2018a. “forcats Hex Sticker.” https://github.com/rstudio/hex-stickers/blob/main/PNG/forcats.png.\n\n\n———. 2018b. “ggplot2 Hex Sticker.” https://github.com/rstudio/hex-stickers/blob/main/PNG/ggplot2.png.\n\n\n———. 2018c. “purrr Hex Sticker.” https://github.com/rstudio/hex-stickers/blob/main/PNG/purrr.png.\n\n\n———. 2018d. “readr Hex Sticker.” https://github.com/rstudio/hex-stickers/blob/main/PNG/readr.png.\n\n\n———. 2018e. “tibble Hex Sticker.” https://github.com/rstudio/hex-stickers/blob/main/PNG/tibble.png.\n\n\n———. 2020a. “dplyr Hex Sticker.” https://github.com/rstudio/hex-stickers/blob/main/PNG/dplyr.png.\n\n\n———. 2020b. “stringr Hex Sticker.” https://github.com/rstudio/hex-stickers/blob/main/PNG/stringr.png.\n\n\n———. 2020c. “tidyr Hex Sticker.” https://github.com/rstudio/hex-stickers/blob/main/PNG/tidyr.png.\n\n\nRudis, Bob, Ben Bolker, and Jan Schulz. 2017. ggalt: Extra Coordinate Systems, ’Geoms’, Statistical Transformations, Scales and Fonts for ’ggplot2’. https://CRAN.R-project.org/package=ggalt.\n\n\nRudis, Bob, and Dave Gandy. 2023. waffle: Create Waffle Chart Visualizations. https://CRAN.R-project.org/package=waffle.\n\n\nSarkar, Deepayan. 2008. Lattice: Multivariate Data Visualization with r. New York: Springer. http://lmdvr.r-forge.r-project.org.\n\n\nSchauberger, Philipp, and Alexander Walker. 2023. openxlsx: Read, Write and Edit xlsx Files. https://CRAN.R-project.org/package=openxlsx.\n\n\nScheuch, Christoph. 2025. owidapi: Access the Our World in Data Chart API. https://doi.org/10.32614/CRAN.package.owidapi.\n\n\nSchloerke, Barret, Di Cook, Joseph Larmarange, Francois Briatte, Moritz Marbach, Edwin Thoen, Amos Elberg, and Jason Crowley. 2024. GGally: Extension to ’ggplot2’. https://CRAN.R-project.org/package=GGally.\n\n\nSchloss, Karen B., Connor C. Gramazio, Allison T. Silverman, Madeline L. Parker, and Audrey S. Wang. 2019. “Mapping Color to Meaning in Colormap Data Visualizations.” IEEE Transactions on Visualization and Computer Graphics 25 (1): 810–19. https://doi.org/10.1109/TVCG.2018.2865147.\n\n\nShalloway, Bryan. 2023. funspotr: Spot R Functions & Packages. https://CRAN.R-project.org/package=funspotr.\n\n\nSievert, Carson. 2020. Interactive Web-Based Data Visualization with r, Plotly, and Shiny. Chapman; Hall/CRC. https://plotly-r.com.\n\n\nSlowikowski, Kamil. 2024. ggrepel: Automatically Position Non-Overlapping Text Labels with ’ggplot2’. https://CRAN.R-project.org/package=ggrepel.\n\n\nTierney, Nicholas. 2017. “visdat: Visualising Whole Data Frames.” JOSS 2 (16): 355. https://doi.org/10.21105/joss.00355.\n\n\nTierney, Nicholas, and Dianne Cook. 2023. “Expanding Tidy Data Principles to Facilitate Missing Data Exploration, Visualization and Assessment of Imputations.” Journal of Statistical Software 105 (7): 1–31. https://doi.org/10.18637/jss.v105.i07.\n\n\nTol, Paul. 2021. “Paul Tol’s Notes: Colour schemes and templates.” https://sronpersonalpages.nl/~pault/.\n\n\nUnited States Census Bureau. 2021a. “Historical Population Change Data (1910-2020).” https://www.census.gov/data/tables/time-series/dec/popchange-data-text.html.\n\n\n———. 2021b. “State Area Measurements and Internal Point Coordinates.” https://www.census.gov/geographies/reference-files/2010/geo/state-area.html.\n\n\nUnited States Department of Agriculture: Economics, Statistics and Market Information System. 2022. “Honey Bee Colonies.” USDA Economics, Statistics and Market Information System. https://usda.library.cornell.edu/concern/publications/rn301137d.\n\n\nWalker, Kyle. 2022. crsuggest: Obtain Suggested Coordinate Reference System Information for Spatial Data. https://CRAN.R-project.org/package=crsuggest.\n\n\nWanzer, Dana Linnell, Tarek Azzam, Natalie D. Jones, and Darrel Skousen. 2021. “The Role of Titles in Enhancing Data Visualization.” Evaluation and Program Planning 84: 101896. https://doi.org/10.1016/j.evalprogplan.2020.101896.\n\n\nWickham, Hadley. 2016. ggplot2: Elegant Graphics for Data Analysis. Springer-Verlag New York. https://ggplot2.tidyverse.org.\n\n\n———. 2023a. forcats: Tools for Working with Categorical Variables (Factors). https://doi.org/10.32614/CRAN.package.forcats.\n\n\n———. 2023b. stringr: Simple, Consistent Wrappers for Common String Operations. https://CRAN.R-project.org/package=stringr.\n\n\nWickham, Hadley, Mara Averick, Jennifer Bryan, Winston Chang, Lucy D’Agostino McGowan, Romain François, Garrett Grolemund, et al. 2019. “Welcome to the tidyverse.” Journal of Open Source Software 4 (43): 1686. https://doi.org/10.21105/joss.01686.\n\n\nWickham, Hadley, and Jennifer Bryan. 2023. readxl: Read Excel Files. https://CRAN.R-project.org/package=readxl.\n\n\nWickham, Hadley, Mine Çetinkaya-Rundel, and Garrett Grolemund. 2023. R for Data Science. Second Edition. O-Reilly. https://r4ds.hadley.nz.\n\n\nWickham, Hadley, Romain François, Lionel Henry, Kirill Müller, and Davis Vaughan. 2023. dplyr: A Grammar of Data Manipulation. https://CRAN.R-project.org/package=dplyr.\n\n\nWickham, Hadley, and Lionel Henry. 2023. purrr: Functional Programming Tools. https://CRAN.R-project.org/package=purrr.\n\n\nWickham, Hadley, Jim Hester, and Jennifer Bryan. 2024. readr: Read Rectangular Text Data. https://CRAN.R-project.org/package=readr.\n\n\nWickham, Hadley, Thomas Lin Pedersen, and Dana Seidel. 2023. scales: Scale Functions for Visualization. https://CRAN.R-project.org/package=scales.\n\n\nWickham, Hadley, Davis Vaughan, and Maximilian Girlich. 2024. tidyr: Tidy Messy Data. https://CRAN.R-project.org/package=tidyr.\n\n\nWilke, Claus. 2022. ggtextures: Drawing Textured Rectangles and Bars with grid and ggplot2. https://github.com/clauswilke/ggtextures.\n\n\nWilke, Claus O. 2024. cowplot: Streamlined Plot Theme and Plot Annotations for ’ggplot2’. https://wilkelab.org/cowplot/.\n\n\nWilke, Claus O., and Brenton M. Wiernik. 2022. ggtext: Improved Text Rendering Support for ’ggplot2’. https://CRAN.R-project.org/package=ggtext.\n\n\nwww.nobelprize.org. 2024. “Nobel Prize API Version 2.1.” https://api.nobelprize.org/2.1/laureates.\n\n\nYork, Piers. 2023. owidR: Import Data from Our World in Data. https://github.com/piersyork/owidR.\n\n\nYu, Guangchuang. 2023. ggimage: Use Image in ’ggplot2’. https://CRAN.R-project.org/package=ggimage.\n\n\nYutani, Hiroaki. 2023. gghighlight: Highlight Lines and Points in ’ggplot2’. https://CRAN.R-project.org/package=gghighlight.\n\n\nZehr, Sarah M., Richard G. Roach, David Haring, Julie Taylor, Freda H. Cameron, and Anne D. Yoder. 2014. “Life history profiles for 27 strepsirrhine primate taxa generated using captive data from the Duke Lemur Center.” Scientific Data 1 (1). https://doi.org/10.1038/sdata.2014.19.",
    "crumbs": [
      "저자"
    ]
  },
  {
    "objectID": "introduction.html",
    "href": "introduction.html",
    "title": "1  소개",
    "section": "",
    "text": "1.1 이 책의 대상 독자는 누구인가요?\n이 책은 주로 R로 데이터 시각화 기술을 개발하고자 하는 분들을 대상으로 합니다. 이 책의 독자는 R, 더 구체적으로는 tidyverse 생태계에 대한 기본 지식이 있으면 유용할 수 있습니다. 하지만 예제에 사용된 모든 코드는 자세히 설명되어 있습니다. 독자가 ggplot2에 숙련되어 있을 필요는 없지만, 이미 숙련된 분들에게도 이 책은 흥미로울 것입니다. 또한 R(및 ggplot2)에 이미 익숙하고 데이터 시각화 디자인 기술을 더 발전시키고자 하는 분들에게도 관심이 갈 것입니다. 다른 도구를 사용하여 데이터 시각화를 디자인하고 있으며 R에서 동일한 작업을 수행하는 방법을 배우고 싶은 분들에게도 흥미로울 것입니다.",
    "crumbs": [
      "<span class='chapter-number'>1</span>  <span class='chapter-title'>소개</span>"
    ]
  },
  {
    "objectID": "introduction.html#이-책을-읽기-전에-무엇을-알아야-하나요",
    "href": "introduction.html#이-책을-읽기-전에-무엇을-알아야-하나요",
    "title": "1  소개",
    "section": "1.2 이 책을 읽기 전에 무엇을 알아야 하나요?",
    "text": "1.2 이 책을 읽기 전에 무엇을 알아야 하나요?\n이 책은 여러분이 R 사용의 기초를 알고 tidyverse가 무엇인지 알고 있다고 가정합니다. 예를 들어, 여러분은 다음을 할 수 있어야 합니다:\n\n패키지 설치 및 로드\n함수 호출 및 출력을 변수에 저장\n\nR에 익숙하지 않다면 다음 책들을 미리 읽어보면 좋습니다:\n\nR for Data Science (Second Edition) - Hadley Wickham, Mine Çetinkaya-Rundel, Garrett Grolemund 저. 온라인 r4ds.hadley.nz (Wickham, Çetinkaya-Rundel, and Grolemund 2023)에서 볼 수 있습니다.\nR for the Rest of Us: A Statistics-Free Introduction - David Keyes 저. 온라인 book.rfortherestofus.com (Keyes 2024)에서 볼 수 있습니다.\nLearn R: As a Language - Aphalo 저. 온라인 www.learnr-book.info (Aphalo 2024)에서 볼 수 있습니다.",
    "crumbs": [
      "<span class='chapter-number'>1</span>  <span class='chapter-title'>소개</span>"
    ]
  },
  {
    "objectID": "introduction.html#이-책에서-사용된-코드-스타일",
    "href": "introduction.html#이-책에서-사용된-코드-스타일",
    "title": "1  소개",
    "section": "1.3 이 책에서 사용된 코드 스타일",
    "text": "1.3 이 책에서 사용된 코드 스타일\nR에는 다양한 버전, 다양한 패키지, 다양한 코드 작성 스타일이 존재하며, 한 가지 최고의 방법만 있는 것은 아닙니다. 여러분이 코드를 작성하는 방식은 이 책에서 보는 방식과 다를 수 있으며, 그것은 완전히 괜찮습니다. 책 전체에서 코드를 일관되게 유지하기 위해 몇 가지 선택을 했습니다:\n\nR에서 파이프 연산자는 왼쪽에 있는 것을 가져와 오른쪽에 있는 함수로 전달합니다 (Wickham, Çetinkaya-Rundel, and Grolemund 2023). 파이프 연산자에 대한 자세한 설명은 R for Data Science에서 찾을 수 있습니다. 파이프(%&gt;%)는 magrittr 패키지를 통해 R에 처음 도입되었습니다. R 버전 4.1.0부터는 기본 R 버전의 파이프(|&gt;)가 존재합니다. 이 책 전체에서는 기본 R 파이프가 사용됩니다. 두 버전의 파이프 사이에는 약간의 차이가 있지만, 이 책에서는 서로 바꿔 사용할 수 있습니다.\n\n \n\n이 책에서는 주로 기본 R을 사용하여 초기 탐색 및 시각화를 수행한 다음, ggplot2와 관련 확장 패키지를 사용하여 각 장의 최종 그래픽을 만듭니다.\nR에서는 패키지의 함수를 로드하는 방법이 여러 가지 있습니다: library() 함수를 통해 전체 패키지를 로드하는 방법, 네임스페이싱(함수 이름 앞에 패키지 이름과 ::를 붙임)을 사용하는 방법, 또는 (R 버전 4.5.0부터) use() 함수를 사용하는 방법이 있습니다. 네임스페이싱은 두 가지 이유로 유용합니다. (i) 학습 관점에서 함수가 어디서 왔고 어떻게 연결되는지 쉽게 인식할 수 있게 해주고, (ii) 프로그래밍 관점에서 충돌과 오류를 줄여줍니다(우리 모두가 덜 겪고 싶어하는 것이죠!). 하지만 이 책을 초보자가 더 쉽게 접근할 수 있게 하고 코드가 이전 버전의 R에서도 작동하도록 하기 위해 전체적으로 library()를 사용할 것입니다. 각 장은 어떤 패키지가 사용될지 논의하는 섹션으로 시작하며, 함수가 어디서 왔는지는 전체적으로 설명됩니다.\n\n \n\n패키지 이름은 굵은 고정폭 글꼴로 표시하여 동일하거나 유사한 이름을 가진 함수와 구별하는 데 도움을 줍니다. 예를 들어 ggplot2와 같습니다.\n전체 패키지 버전 목록을 포함한 모든 소프트웨어 요구 사항은 부록에서 확인할 수 있습니다.",
    "crumbs": [
      "<span class='chapter-number'>1</span>  <span class='chapter-title'>소개</span>"
    ]
  },
  {
    "objectID": "introduction.html#코드는-시간이-지남에-따라-진화합니다",
    "href": "introduction.html#코드는-시간이-지남에-따라-진화합니다",
    "title": "1  소개",
    "section": "1.4 코드는 시간이 지남에 따라 진화합니다",
    "text": "1.4 코드는 시간이 지남에 따라 진화합니다\n최종 이미지 중 일부는 초기에 만들어져 소셜 미디어에 게시된 것과 약간 다를 수 있음을 알 수 있습니다. 또한 이 책의 내용을 github.com/nrennie/tidytuesday GitHub 저장소의 원본 스크립트와 비교하면 코드를 생성하는 데 사용된 코드에 약간의 차이가 있음을 발견할 수 있습니다. 이러한 차이는 주로 다음 네 가지 이유 중 하나 때문일 가능성이 큽니다:\n\n패키지가 업데이트되어 최신 구문을 사용하도록 코드가 변경되었습니다. 많은 코드 변경 사항은 ggplot2 버전 3.5.0의 변경 사항과 관련이 있습니다.\n첫 번째 장에서 모든 것을 설명하는 것을 피하기 위해 시각화의 일부 측면이 생략되었을 수 있습니다. 하지만 이러한 측면은 모두 나중에 나오는 장에서 다뤄지고 링크됩니다.\n수년 간의 연습 끝에 초기 플롯의 일부 코드를 다시 작성하는 더 효율적인 방법이 있을 수 있습니다. 모든 변경 사항은 명확하게 라벨이 지정되고 논의됩니다.\n저작권 문제로 인해 일부 이미지가 다를 수 있습니다.",
    "crumbs": [
      "<span class='chapter-number'>1</span>  <span class='chapter-title'>소개</span>"
    ]
  },
  {
    "objectID": "introduction.html#이-책의-구조",
    "href": "introduction.html#이-책의-구조",
    "title": "1  소개",
    "section": "1.5 이 책의 구조",
    "text": "1.5 이 책의 구조\n이 책에는 네 가지 주요 섹션이 있습니다:\n\n일반적인 차트도 지루할 필요는 없습니다!: 선형 차트 및 막대형 차트와 같은 고전적인 차트 유형을 더 효과적이고 흥미롭게 만드는 방법을 가르쳐줍니다.\n아이콘, 글꼴 및 텍스트 활용: R에 글꼴을 로드하는 다양한 방법을 보고, 차트 내에서 아이콘을 사용하고, 기존 범례 대신 색상 텍스트를 사용하는 방법을 배웁니다.\n이미지 작업: R에서 이미지를 로드하고 처리하는 예제를 보고, 사용자 정의 라벨을 만들기 위해 플롯에 이미지를 추가하는 방법을 배웁니다.\n공간 데이터 시각화: 공간 데이터를 조작하고, 등치 지역도(choropleth map), 좌표 플롯을 만들고, 지리적 격자에 작은 다중 플롯을 배열하는 방법을 배웁니다.\n\n각 장은 서로 다른 시각화에 대한 사례 연구이며, 대략 동일한 구조를 따릅니다:\n\n데이터: 각 장에서 사용되는 데이터세트 소개 및 R로 로드하는 방법. 각 장을 통해 R 패키지, 로컬 CSV 파일, API 및 URL에서 직접 데이터를 로드하는 방법을 볼 수 있습니다.\n탐색 작업: 데이터세트의 구조를 탐색하고, 문제를 식별하고, 시각화에 대한 잠재적 접근 방식을 고려합니다.\n플롯 준비: 플롯을 만드는 데 필요한 데이터 랭글링을 수행하고 기본 ggplot2 기능을 사용하여 초안을 만듭니다.\n고급 스타일링: 기본 플롯을 편집하여 글꼴, 색상, 텍스트 및 범례를 포함한 사용자 정의 스타일링으로 출판 품질로 만듭니다.\n성찰: 각 장에서 만든 시각화를 개선할 수 있는 방법과 디자인의 어떤 측면이 성공적인지에 대한 몇 가지 생각입니다.\n연습 문제: 시각화 개선에 대한 후속 조치를 위한 몇 가지 질문입니다. 이 연습 문제는 정해진 답이 있는 규범적인 질문보다는 개방형으로 의도되었습니다. 다양한 솔루션을 어떻게 설계하고 구현할지 생각해보도록 권장합니다. 소셜 미디어에 공유하는 것은 선택 사항입니다!\n\n마지막에는 플롯을 개선하기 위한 몇 가지 추가 팁과 요령이 담긴 추가 장이 있습니다.\n\n\n\n\nAnscombe, F. J. 1973. “Graphs in Statistical Analysis.” The American Statistician 27 (1): 17–21. https://doi.org/10.1080/00031305.1973.10478966.\n\n\nAphalo, Pedro J. 2024. Learn R: As a Language. Second Edition. CRC Press. https://www.learnr-book.info/.\n\n\nAuguie, Baptiste. 2019. egg: Extensions for ’ggplot2’: Custom Geom, Custom Themes, Plot Alignment, Labelled Panels, Symmetric Scales, and Fixed Panel Size. https://CRAN.R-project.org/package=egg.\n\n\nBarthelme, Simon. 2024. imager: Image Processing Library Based on ’CImg’. https://CRAN.R-project.org/package=imager.\n\n\nBrand, Teun van den. 2025. “ggplot2 4.0.0.” https://www.tidyverse.org/blog/2025/09/ggplot2-4-0-0/.\n\n\nBridson, Robert. 2007. “Fast Poisson Disk Sampling in Arbitrary Dimensions.” In ACM SIGGRAPH 2007 Sketches. SIGGRAPH ’07. New York, NY, USA: Association for Computing Machinery. https://doi.org/10.1145/1278780.1278807.\n\n\nBrown, Mark J.F., and Paxton, Robert J. 2009. “The Conservation of Bees: A Global Perspective.” Apidologie 40 (3): 410–16. https://doi.org/10.1051/apido/2009019.\n\n\nCameron, Allan, and Teun van den Brand. 2024. geomtextpath: Curved Text in ’ggplot2’. https://CRAN.R-project.org/package=geomtextpath.\n\n\nCARTO. 2016. ’CARTOColors’ Palettes. https://carto.com/carto-colors/.\n\n\nChang, Winston. 2023. extrafont: Tools for Using Fonts. https://CRAN.R-project.org/package=extrafont.\n\n\nCheung, Foo. 2021. dumbbell: Displaying Changes Between Two Points Using Dumbbell Plots. https://CRAN.R-project.org/package=dumbbell.\n\n\nCowgill, Matt, and John Helveston. 2021. ggannotate: Interactively Annotate ggplot2 Plots. https://github.com/MattCowgill/ggannotate.\n\n\nCsárdi, Gábor, and Jim Hester. 2024. pak: Another Approach to Package Installation. https://CRAN.R-project.org/package=pak.\n\n\nCsárdi, Gábor, Jim Hester, Hadley Wickham, Winston Chang, Martin Morgan, and Dan Tenenbaum. 2024. remotes: R Package Installation from Remote Repositories, Including ’GitHub’. https://CRAN.R-project.org/package=remotes.\n\n\nDomin, Iaroslav. 2024. ggview: ’ggplot2’ Picture Previewer. https://CRAN.R-project.org/package=ggview.\n\n\nEngler, Jan Broder. 2024. “Tidyplots Empowers Life Scientists with Easy Code-Based Data Visualization.” bioRxiv. https://doi.org/10.1101/2024.11.08.621836.\n\n\nFC, Mike, Trevor L. Davis, and ggplot2 authors. 2024. ggpattern: ’ggplot2’ Pattern Geoms. https://CRAN.R-project.org/package=ggpattern.\n\n\nFlaticon.com. 2024. “Wind Power Flaticon.” https://www.flaticon.com/free-icon/wind-power_5670189.\n\n\nFont Awesome. 2024. “Font Awesome 6.” https://fontawesome.com/.\n\n\nFranconeri, Steven L., Lace M. Padilla, Priti Shah, Jeffrey M. Zacks, and Jessica Hullman. 2021. “The Science of Visual Data Communication: What Works.” Psychological Science in the Public Interest 22 (3): 110–61. https://doi.org/10.1177/15291006211051956.\n\n\nGarnier, Simon, Ross, Noam, Rudis, Robert, Camargo, et al. 2024. viridis(Lite) - Colorblind-Friendly Color Maps for R. https://doi.org/10.5281/zenodo.4679423.\n\n\nGohel, David, and Panagiotis Skintzos. 2024. ggiraph: Make ’ggplot2’ Graphics Interactive. https://CRAN.R-project.org/package=ggiraph.\n\n\nGovernment Analysis Function. 2021. “Data Visualisation: Colours.” https://analysisfunction.civilservice.gov.uk/policy-store/data-visualisation-colours-in-charts/.\n\n\nHafen, Ryan. 2023. geofacet: ’ggplot2’ Faceting Utilities for Geographical Data. https://CRAN.R-project.org/package=geofacet.\n\n\nHarmon, Jon. 2024. Web APIs with R. CRC Press. https://wapir.io/.\n\n\nHester, Jim, Florent Angly, Russ Hyde, Michael Chirico, Kun Ren, Alexander Rosenstock, and Indrajeet Patil. 2024. lintr: A ’Linter’ for R Code. https://CRAN.R-project.org/package=lintr.\n\n\nHester, Jim, and Jennifer Bryan. 2024. glue: Interpreted String Literals. https://glue.tidyverse.org/.\n\n\nHughes, Ellis. 2022a. camcorder: Record Your Plot History. https://CRAN.R-project.org/package=camcorder.\n\n\n———. 2022b. tidytuesdayR: Access the Weekly ’TidyTuesday’ Project Dataset. https://CRAN.R-project.org/package=tidytuesdayR.\n\n\nHvitfeldt, Emil. 2021. paletteer: Comprehensive Collection of Color Palettes. https://github.com/EmilHvitfeldt/paletteer.\n\n\n———. 2025. animalshelter: Animal Shelter Data. https://github.com/EmilHvitfeldt/animalshelter.\n\n\nIannone, Richard. 2024. fontawesome: Easily Work with ’Font Awesome’ Icons. https://CRAN.R-project.org/package=fontawesome.\n\n\nInternet Assigned Numbers Authority. 2023. “The tz Database: Time Zone and Daylight Saving Time Data.” Internet Assigned Numbers Authority. https://data.iana.org/time-zones/tz-link.html.\n\n\nJax (@lysrix). 2017. “Lemur.” https://unsplash.com/photos/red-and-white-rodent-h5xrh3CNT-k.\n\n\nKays, R., R. R. Dunn, A. W. Parsons, B. Mcdonald, T. Perkins, S. A. Powers, L. Shell, et al. 2020. “The Small Home Ranges and Large Local Ecological Impacts of Pet Cats.” Animal Conservation 23 (5): 516–23. https://doi.org/10.1111/acv.12563.\n\n\nKeyes, David. 2024. R for the Rest of Us: A Statistics-Free Introduction. No Starch Press. https://book.rfortherestofus.com/.\n\n\nLong Beach Animal Shelter. 2025. “Animal Shelter Data.” City of Long Beach Animal Care Services. https://data.longbeach.gov/explore/dataset/animal-shelter-intakes-and-outcomes/information/.\n\n\nLucchesi, Lydia, and Petra Kuhnert. 2020. Vizumap: Visualizing Uncertainty in Spatial Data. https://github.com/lydialucchesi/Vizumap.\n\n\nMapping Museums. 2021. “Mapping Museums Data.” www.mappingmuseums.org.\n\n\nMassicotte, Philippe, and Andy South. 2023. rnaturalearth: World Map Data from Natural Earth. https://docs.ropensci.org/rnaturalearth/.\n\n\nMatejka, Justin, and George Fitzmaurice. 2017. “Same Stats, Different Graphs: Generating Datasets with Varied Appearance and Identical Statistics Through Simulated Annealing.” In, 1290–94. https://doi.org/10.1145/3025453.3025912.\n\n\nMcDonald, J. L., and H. Cole. 2020. “Data from: The Small Home Ranges and Large Local Ecological Impacts of Pet Cats [United Kingdom].” Movebank data repository. https://doi.org/doi:10.5441/001/1.pf315732.\n\n\nMcWhite, Claire D., and Claus O. Wilke. 2024. colorblindr: Simulate colorblindness in R figures. https://github.com/clauswilke/colorblindr.\n\n\nMid-Atlantic Apiculture Research and Extension Consortium. 2024. “Seasonal Cycles of Activities in Colonies.” https://canr.udel.edu/maarec/honey-bee-biology/seasonal-cycles-of-activities-in-colonies/.\n\n\nmikefc. 2024. poissoned: Tileable Poisson Disc Sampling. https://github.com/coolbutuseless/poissoned.\n\n\nMills, Blake Robert. 2022. MetBrewer: Color Palettes Inspired by Works at the Metropolitan Museum of Art. https://CRAN.R-project.org/package=MetBrewer.\n\n\nMIT Election Data and Science Lab. 2017. “U.S. House 1976–2022.” Harvard Dataverse. https://doi.org/10.7910/DVN/IG0UN2.\n\n\nMüller, Kirill, and Lorenz Walthert. 2023. styler: Non-Invasive Pretty Printing of R Code. https://CRAN.R-project.org/package=styler.\n\n\nMüller, Kirill, and Hadley Wickham. 2023. tibble: Simple Data Frames. https://CRAN.R-project.org/package=tibble.\n\n\nMuth, Lisa. 2018. “An Alternative to Pink & Blue: Colors for Gender Data.” https://blog.datawrapper.de/gendercolor/.\n\n\nNatural Resources Canada. 2021. “Canadian Wind Turbine Database.” Natural Resources Canada (Government of Canada). https://open.canada.ca/data/en/dataset/79fdad93-9025-49ad-ba16-c26d718cc070.\n\n\nNoblet, Guillaume. 2025. ggbranding: Add Personal Branding to ’ggplot2’ Charts. https://github.com/gnoblet/ggbranding.\n\n\nNowosad, Jakub. 2018. ’CARTOColors’ Palettes. https://jakubnowosad.com/rcartocolor/.\n\n\nOoms, Jeroen. 2024. magick: Advanced Graphics and Image-Processing in R. https://CRAN.R-project.org/package=magick.\n\n\nOur World in Data. 2019. “Medical Doctors Per 1,000 People.” https://ourworldindata.org/grapher/physicians-per-1000-people.\n\n\nPebesma, Edzer. 2018. “Simple Features for R: Standardized Support for Spatial Vector Data.” The R Journal 10 (1): 439–46. https://doi.org/10.32614/RJ-2018-009.\n\n\nPedersen, Thomas Lin. 2022. ggforce: Accelerating ’ggplot2’. https://CRAN.R-project.org/package=ggforce.\n\n\n———. 2024. patchwork: The Composer of Plots. https://CRAN.R-project.org/package=patchwork.\n\n\n———. 2025. “Fonts in R.” https://www.tidyverse.org/blog/2025/05/fonts-in-r/.\n\n\nPedersen, Thomas Lin, and Martin Mitáš. 2024. marquee: Markdown Parser and Renderer for R Graphics. https://CRAN.R-project.org/package=marquee.\n\n\nPedersen, Thomas Lin, Jeroen Ooms, and Devon Govett. 2024. systemfonts: System Native Font Finding. https://CRAN.R-project.org/package=systemfonts.\n\n\nPedersen, Thomas Lin, and Maxim Shemanarev. 2023. ragg: Graphic Devices Based on AGG. https://CRAN.R-project.org/package=ragg.\n\n\nPLDB contributors. 2022. “PLDB: A Programming Language Database.” PLDB. https://pldb.com.\n\n\nQiu, Yixuan. 2022. sysfonts: Loading Fonts into R. https://CRAN.R-project.org/package=sysfonts.\n\n\n———. 2023. showtext: Using Fonts More Easily in R Graphs. https://CRAN.R-project.org/package=showtext.\n\n\nR Core Team. 2024. R: A Language and Environment for Statistical Computing. Vienna, Austria: R Foundation for Statistical Computing. https://www.R-project.org/.\n\n\nR4DS Online Learning Community. 2023. “Tidy Tuesday: A Weekly Social Data Project.” https://github.com/rfordatascience/tidytuesday.\n\n\nRennie, Nicola. 2023a. “Adding Social Media Icons to Charts with ggplot2.” https://nrennie.rbind.io/blog/adding-social-media-icons-ggplot2/.\n\n\n———. 2023b. “Creating Template Files with R.” https://nrennie.rbind.io/blog/script-templates-r/.\n\n\n———. 2023c. “Four Ways to Streamline Your R Workflows.” https://nrennie.rbind.io/blog/four-ways-streamline-r-workflows/.\n\n\n———. 2024a. ggtextcircle: Circular Text in ’ggplot2’. https://github.com/nrennie/ggtextcircle.\n\n\n———. 2024b. nobel: Access data from the Nobel Prize API via R. https://github.com/nrennie/nobel.\n\n\n———. 2024c. “tidytuesday.” GitHub Repository. GitHub. https://github.com/nrennie/tidytuesday.\n\n\nRennie, Nicola, and Andreas Krause. 2024. “Presenting data the Significance way - Part 1.” Significance 21 (3): 36–39. https://doi.org/10.1093/jrssig/qmae045.\n\n\nReynolds, Gina. 2025. “Everyday ggplot2 extension.” https://evamaerey.github.io/everyday_ggplot2_extension/.\n\n\nRStudio. 2018a. “forcats Hex Sticker.” https://github.com/rstudio/hex-stickers/blob/main/PNG/forcats.png.\n\n\n———. 2018b. “ggplot2 Hex Sticker.” https://github.com/rstudio/hex-stickers/blob/main/PNG/ggplot2.png.\n\n\n———. 2018c. “purrr Hex Sticker.” https://github.com/rstudio/hex-stickers/blob/main/PNG/purrr.png.\n\n\n———. 2018d. “readr Hex Sticker.” https://github.com/rstudio/hex-stickers/blob/main/PNG/readr.png.\n\n\n———. 2018e. “tibble Hex Sticker.” https://github.com/rstudio/hex-stickers/blob/main/PNG/tibble.png.\n\n\n———. 2020a. “dplyr Hex Sticker.” https://github.com/rstudio/hex-stickers/blob/main/PNG/dplyr.png.\n\n\n———. 2020b. “stringr Hex Sticker.” https://github.com/rstudio/hex-stickers/blob/main/PNG/stringr.png.\n\n\n———. 2020c. “tidyr Hex Sticker.” https://github.com/rstudio/hex-stickers/blob/main/PNG/tidyr.png.\n\n\nRudis, Bob, Ben Bolker, and Jan Schulz. 2017. ggalt: Extra Coordinate Systems, ’Geoms’, Statistical Transformations, Scales and Fonts for ’ggplot2’. https://CRAN.R-project.org/package=ggalt.\n\n\nRudis, Bob, and Dave Gandy. 2023. waffle: Create Waffle Chart Visualizations. https://CRAN.R-project.org/package=waffle.\n\n\nSarkar, Deepayan. 2008. Lattice: Multivariate Data Visualization with r. New York: Springer. http://lmdvr.r-forge.r-project.org.\n\n\nSchauberger, Philipp, and Alexander Walker. 2023. openxlsx: Read, Write and Edit xlsx Files. https://CRAN.R-project.org/package=openxlsx.\n\n\nScheuch, Christoph. 2025. owidapi: Access the Our World in Data Chart API. https://doi.org/10.32614/CRAN.package.owidapi.\n\n\nSchloerke, Barret, Di Cook, Joseph Larmarange, Francois Briatte, Moritz Marbach, Edwin Thoen, Amos Elberg, and Jason Crowley. 2024. GGally: Extension to ’ggplot2’. https://CRAN.R-project.org/package=GGally.\n\n\nSchloss, Karen B., Connor C. Gramazio, Allison T. Silverman, Madeline L. Parker, and Audrey S. Wang. 2019. “Mapping Color to Meaning in Colormap Data Visualizations.” IEEE Transactions on Visualization and Computer Graphics 25 (1): 810–19. https://doi.org/10.1109/TVCG.2018.2865147.\n\n\nShalloway, Bryan. 2023. funspotr: Spot R Functions & Packages. https://CRAN.R-project.org/package=funspotr.\n\n\nSievert, Carson. 2020. Interactive Web-Based Data Visualization with r, Plotly, and Shiny. Chapman; Hall/CRC. https://plotly-r.com.\n\n\nSlowikowski, Kamil. 2024. ggrepel: Automatically Position Non-Overlapping Text Labels with ’ggplot2’. https://CRAN.R-project.org/package=ggrepel.\n\n\nTierney, Nicholas. 2017. “visdat: Visualising Whole Data Frames.” JOSS 2 (16): 355. https://doi.org/10.21105/joss.00355.\n\n\nTierney, Nicholas, and Dianne Cook. 2023. “Expanding Tidy Data Principles to Facilitate Missing Data Exploration, Visualization and Assessment of Imputations.” Journal of Statistical Software 105 (7): 1–31. https://doi.org/10.18637/jss.v105.i07.\n\n\nTol, Paul. 2021. “Paul Tol’s Notes: Colour schemes and templates.” https://sronpersonalpages.nl/~pault/.\n\n\nUnited States Census Bureau. 2021a. “Historical Population Change Data (1910-2020).” https://www.census.gov/data/tables/time-series/dec/popchange-data-text.html.\n\n\n———. 2021b. “State Area Measurements and Internal Point Coordinates.” https://www.census.gov/geographies/reference-files/2010/geo/state-area.html.\n\n\nUnited States Department of Agriculture: Economics, Statistics and Market Information System. 2022. “Honey Bee Colonies.” USDA Economics, Statistics and Market Information System. https://usda.library.cornell.edu/concern/publications/rn301137d.\n\n\nWalker, Kyle. 2022. crsuggest: Obtain Suggested Coordinate Reference System Information for Spatial Data. https://CRAN.R-project.org/package=crsuggest.\n\n\nWanzer, Dana Linnell, Tarek Azzam, Natalie D. Jones, and Darrel Skousen. 2021. “The Role of Titles in Enhancing Data Visualization.” Evaluation and Program Planning 84: 101896. https://doi.org/10.1016/j.evalprogplan.2020.101896.\n\n\nWickham, Hadley. 2016. ggplot2: Elegant Graphics for Data Analysis. Springer-Verlag New York. https://ggplot2.tidyverse.org.\n\n\n———. 2023a. forcats: Tools for Working with Categorical Variables (Factors). https://doi.org/10.32614/CRAN.package.forcats.\n\n\n———. 2023b. stringr: Simple, Consistent Wrappers for Common String Operations. https://CRAN.R-project.org/package=stringr.\n\n\nWickham, Hadley, Mara Averick, Jennifer Bryan, Winston Chang, Lucy D’Agostino McGowan, Romain François, Garrett Grolemund, et al. 2019. “Welcome to the tidyverse.” Journal of Open Source Software 4 (43): 1686. https://doi.org/10.21105/joss.01686.\n\n\nWickham, Hadley, and Jennifer Bryan. 2023. readxl: Read Excel Files. https://CRAN.R-project.org/package=readxl.\n\n\nWickham, Hadley, Mine Çetinkaya-Rundel, and Garrett Grolemund. 2023. R for Data Science. Second Edition. O-Reilly. https://r4ds.hadley.nz.\n\n\nWickham, Hadley, Romain François, Lionel Henry, Kirill Müller, and Davis Vaughan. 2023. dplyr: A Grammar of Data Manipulation. https://CRAN.R-project.org/package=dplyr.\n\n\nWickham, Hadley, and Lionel Henry. 2023. purrr: Functional Programming Tools. https://CRAN.R-project.org/package=purrr.\n\n\nWickham, Hadley, Jim Hester, and Jennifer Bryan. 2024. readr: Read Rectangular Text Data. https://CRAN.R-project.org/package=readr.\n\n\nWickham, Hadley, Thomas Lin Pedersen, and Dana Seidel. 2023. scales: Scale Functions for Visualization. https://CRAN.R-project.org/package=scales.\n\n\nWickham, Hadley, Davis Vaughan, and Maximilian Girlich. 2024. tidyr: Tidy Messy Data. https://CRAN.R-project.org/package=tidyr.\n\n\nWilke, Claus. 2022. ggtextures: Drawing Textured Rectangles and Bars with grid and ggplot2. https://github.com/clauswilke/ggtextures.\n\n\nWilke, Claus O. 2024. cowplot: Streamlined Plot Theme and Plot Annotations for ’ggplot2’. https://wilkelab.org/cowplot/.\n\n\nWilke, Claus O., and Brenton M. Wiernik. 2022. ggtext: Improved Text Rendering Support for ’ggplot2’. https://CRAN.R-project.org/package=ggtext.\n\n\nwww.nobelprize.org. 2024. “Nobel Prize API Version 2.1.” https://api.nobelprize.org/2.1/laureates.\n\n\nYork, Piers. 2023. owidR: Import Data from Our World in Data. https://github.com/piersyork/owidR.\n\n\nYu, Guangchuang. 2023. ggimage: Use Image in ’ggplot2’. https://CRAN.R-project.org/package=ggimage.\n\n\nYutani, Hiroaki. 2023. gghighlight: Highlight Lines and Points in ’ggplot2’. https://CRAN.R-project.org/package=gghighlight.\n\n\nZehr, Sarah M., Richard G. Roach, David Haring, Julie Taylor, Freda H. Cameron, and Anne D. Yoder. 2014. “Life history profiles for 27 strepsirrhine primate taxa generated using captive data from the Duke Lemur Center.” Scientific Data 1 (1). https://doi.org/10.1038/sdata.2014.19.",
    "crumbs": [
      "<span class='chapter-number'>1</span>  <span class='chapter-title'>소개</span>"
    ]
  },
  {
    "objectID": "common-charts.html",
    "href": "common-charts.html",
    "title": "일반적인 차트도 지루할 필요는 없습니다!",
    "section": "",
    "text": "차트라는 단어를 들었을 때 떠오르는 몇 가지 일반적인 플롯 유형이 있습니다(막대형 차트, 산점도, 선형 차트). 이러한 차트가 일반적이라는 사실은 종종 데이터를 전달하는 데 좋은 선택이 되게 합니다. 독자가 이해하는 데 많은 노력이 필요하지 않기 때문입니다. 그러나 일부 차트 디자이너는 이러한 차트를 만드는 데 많은 시간이나 노력이 필요하지 않고 매우 표준적이기 때문에 지루한 차트로 여길 수 있습니다. 이 섹션에서는 이러한 일반적인 차트의 몇 가지 예를 논의하고 지루하지 않게 승화시키는 방법을 보여줍니다!\n\n 2  프로그래밍 언어: ggplot2를 이용한 덤벨 차트 에서는 ggplot2로 덤벨 차트를 만드는 방법과 포함된 데이터를 기반으로 차트를 주제에 맞게 스타일링하는 방법에 대해 설명합니다.\n 3  영국 박물관: gghighlight로 선형 차트 강조하기 에서는 많은 선을 그릴 때 명확성을 유지하고 더 나은 비교를 가능하게 하는 방법을 포함하여 선형 차트를 다룹니다.\n 4  꿀벌 군집 손실:푸아송 디스크 샘플링으로 수량 시각화 에서는 데이터를 다른 방식으로 표현하기 위해 변환하는 과정과 다양한 범주를 기반으로 작은 다중 차트의 격자를 배열하는 방법을 설명합니다.\n 5  동물 보호소 입소: ggforce를 사용한 게이지 차트 만들기 에서는 ggforce 확장 패키지를 사용하여 사용자 정의 차트를 만들고 막대형 차트를 게이지 차트로 변환하는 방법에 대해 설명합니다.\n\n이 섹션에서는 또한 R에 글꼴을 로드하고 GitHub에서 패키지를 설치하는 내용도 다룹니다.\n\n\n\n\nAnscombe, F. J. 1973. “Graphs in Statistical Analysis.” The American Statistician 27 (1): 17–21. https://doi.org/10.1080/00031305.1973.10478966.\n\n\nAphalo, Pedro J. 2024. Learn R: As a Language. Second Edition. CRC Press. https://www.learnr-book.info/.\n\n\nAuguie, Baptiste. 2019. egg: Extensions for ’ggplot2’: Custom Geom, Custom Themes, Plot Alignment, Labelled Panels, Symmetric Scales, and Fixed Panel Size. https://CRAN.R-project.org/package=egg.\n\n\nBarthelme, Simon. 2024. imager: Image Processing Library Based on ’CImg’. https://CRAN.R-project.org/package=imager.\n\n\nBrand, Teun van den. 2025. “ggplot2 4.0.0.” https://www.tidyverse.org/blog/2025/09/ggplot2-4-0-0/.\n\n\nBridson, Robert. 2007. “Fast Poisson Disk Sampling in Arbitrary Dimensions.” In ACM SIGGRAPH 2007 Sketches. SIGGRAPH ’07. New York, NY, USA: Association for Computing Machinery. https://doi.org/10.1145/1278780.1278807.\n\n\nBrown, Mark J.F., and Paxton, Robert J. 2009. “The Conservation of Bees: A Global Perspective.” Apidologie 40 (3): 410–16. https://doi.org/10.1051/apido/2009019.\n\n\nCameron, Allan, and Teun van den Brand. 2024. geomtextpath: Curved Text in ’ggplot2’. https://CRAN.R-project.org/package=geomtextpath.\n\n\nCARTO. 2016. ’CARTOColors’ Palettes. https://carto.com/carto-colors/.\n\n\nChang, Winston. 2023. extrafont: Tools for Using Fonts. https://CRAN.R-project.org/package=extrafont.\n\n\nCheung, Foo. 2021. dumbbell: Displaying Changes Between Two Points Using Dumbbell Plots. https://CRAN.R-project.org/package=dumbbell.\n\n\nCowgill, Matt, and John Helveston. 2021. ggannotate: Interactively Annotate ggplot2 Plots. https://github.com/MattCowgill/ggannotate.\n\n\nCsárdi, Gábor, and Jim Hester. 2024. pak: Another Approach to Package Installation. https://CRAN.R-project.org/package=pak.\n\n\nCsárdi, Gábor, Jim Hester, Hadley Wickham, Winston Chang, Martin Morgan, and Dan Tenenbaum. 2024. remotes: R Package Installation from Remote Repositories, Including ’GitHub’. https://CRAN.R-project.org/package=remotes.\n\n\nDomin, Iaroslav. 2024. ggview: ’ggplot2’ Picture Previewer. https://CRAN.R-project.org/package=ggview.\n\n\nEngler, Jan Broder. 2024. “Tidyplots Empowers Life Scientists with Easy Code-Based Data Visualization.” bioRxiv. https://doi.org/10.1101/2024.11.08.621836.\n\n\nFC, Mike, Trevor L. Davis, and ggplot2 authors. 2024. ggpattern: ’ggplot2’ Pattern Geoms. https://CRAN.R-project.org/package=ggpattern.\n\n\nFlaticon.com. 2024. “Wind Power Flaticon.” https://www.flaticon.com/free-icon/wind-power_5670189.\n\n\nFont Awesome. 2024. “Font Awesome 6.” https://fontawesome.com/.\n\n\nFranconeri, Steven L., Lace M. Padilla, Priti Shah, Jeffrey M. Zacks, and Jessica Hullman. 2021. “The Science of Visual Data Communication: What Works.” Psychological Science in the Public Interest 22 (3): 110–61. https://doi.org/10.1177/15291006211051956.\n\n\nGarnier, Simon, Ross, Noam, Rudis, Robert, Camargo, et al. 2024. viridis(Lite) - Colorblind-Friendly Color Maps for R. https://doi.org/10.5281/zenodo.4679423.\n\n\nGohel, David, and Panagiotis Skintzos. 2024. ggiraph: Make ’ggplot2’ Graphics Interactive. https://CRAN.R-project.org/package=ggiraph.\n\n\nGovernment Analysis Function. 2021. “Data Visualisation: Colours.” https://analysisfunction.civilservice.gov.uk/policy-store/data-visualisation-colours-in-charts/.\n\n\nHafen, Ryan. 2023. geofacet: ’ggplot2’ Faceting Utilities for Geographical Data. https://CRAN.R-project.org/package=geofacet.\n\n\nHarmon, Jon. 2024. Web APIs with R. CRC Press. https://wapir.io/.\n\n\nHester, Jim, Florent Angly, Russ Hyde, Michael Chirico, Kun Ren, Alexander Rosenstock, and Indrajeet Patil. 2024. lintr: A ’Linter’ for R Code. https://CRAN.R-project.org/package=lintr.\n\n\nHester, Jim, and Jennifer Bryan. 2024. glue: Interpreted String Literals. https://glue.tidyverse.org/.\n\n\nHughes, Ellis. 2022a. camcorder: Record Your Plot History. https://CRAN.R-project.org/package=camcorder.\n\n\n———. 2022b. tidytuesdayR: Access the Weekly ’TidyTuesday’ Project Dataset. https://CRAN.R-project.org/package=tidytuesdayR.\n\n\nHvitfeldt, Emil. 2021. paletteer: Comprehensive Collection of Color Palettes. https://github.com/EmilHvitfeldt/paletteer.\n\n\n———. 2025. animalshelter: Animal Shelter Data. https://github.com/EmilHvitfeldt/animalshelter.\n\n\nIannone, Richard. 2024. fontawesome: Easily Work with ’Font Awesome’ Icons. https://CRAN.R-project.org/package=fontawesome.\n\n\nInternet Assigned Numbers Authority. 2023. “The tz Database: Time Zone and Daylight Saving Time Data.” Internet Assigned Numbers Authority. https://data.iana.org/time-zones/tz-link.html.\n\n\nJax (@lysrix). 2017. “Lemur.” https://unsplash.com/photos/red-and-white-rodent-h5xrh3CNT-k.\n\n\nKays, R., R. R. Dunn, A. W. Parsons, B. Mcdonald, T. Perkins, S. A. Powers, L. Shell, et al. 2020. “The Small Home Ranges and Large Local Ecological Impacts of Pet Cats.” Animal Conservation 23 (5): 516–23. https://doi.org/10.1111/acv.12563.\n\n\nKeyes, David. 2024. R for the Rest of Us: A Statistics-Free Introduction. No Starch Press. https://book.rfortherestofus.com/.\n\n\nLong Beach Animal Shelter. 2025. “Animal Shelter Data.” City of Long Beach Animal Care Services. https://data.longbeach.gov/explore/dataset/animal-shelter-intakes-and-outcomes/information/.\n\n\nLucchesi, Lydia, and Petra Kuhnert. 2020. Vizumap: Visualizing Uncertainty in Spatial Data. https://github.com/lydialucchesi/Vizumap.\n\n\nMapping Museums. 2021. “Mapping Museums Data.” www.mappingmuseums.org.\n\n\nMassicotte, Philippe, and Andy South. 2023. rnaturalearth: World Map Data from Natural Earth. https://docs.ropensci.org/rnaturalearth/.\n\n\nMatejka, Justin, and George Fitzmaurice. 2017. “Same Stats, Different Graphs: Generating Datasets with Varied Appearance and Identical Statistics Through Simulated Annealing.” In, 1290–94. https://doi.org/10.1145/3025453.3025912.\n\n\nMcDonald, J. L., and H. Cole. 2020. “Data from: The Small Home Ranges and Large Local Ecological Impacts of Pet Cats [United Kingdom].” Movebank data repository. https://doi.org/doi:10.5441/001/1.pf315732.\n\n\nMcWhite, Claire D., and Claus O. Wilke. 2024. colorblindr: Simulate colorblindness in R figures. https://github.com/clauswilke/colorblindr.\n\n\nMid-Atlantic Apiculture Research and Extension Consortium. 2024. “Seasonal Cycles of Activities in Colonies.” https://canr.udel.edu/maarec/honey-bee-biology/seasonal-cycles-of-activities-in-colonies/.\n\n\nmikefc. 2024. poissoned: Tileable Poisson Disc Sampling. https://github.com/coolbutuseless/poissoned.\n\n\nMills, Blake Robert. 2022. MetBrewer: Color Palettes Inspired by Works at the Metropolitan Museum of Art. https://CRAN.R-project.org/package=MetBrewer.\n\n\nMIT Election Data and Science Lab. 2017. “U.S. House 1976–2022.” Harvard Dataverse. https://doi.org/10.7910/DVN/IG0UN2.\n\n\nMüller, Kirill, and Lorenz Walthert. 2023. styler: Non-Invasive Pretty Printing of R Code. https://CRAN.R-project.org/package=styler.\n\n\nMüller, Kirill, and Hadley Wickham. 2023. tibble: Simple Data Frames. https://CRAN.R-project.org/package=tibble.\n\n\nMuth, Lisa. 2018. “An Alternative to Pink & Blue: Colors for Gender Data.” https://blog.datawrapper.de/gendercolor/.\n\n\nNatural Resources Canada. 2021. “Canadian Wind Turbine Database.” Natural Resources Canada (Government of Canada). https://open.canada.ca/data/en/dataset/79fdad93-9025-49ad-ba16-c26d718cc070.\n\n\nNoblet, Guillaume. 2025. ggbranding: Add Personal Branding to ’ggplot2’ Charts. https://github.com/gnoblet/ggbranding.\n\n\nNowosad, Jakub. 2018. ’CARTOColors’ Palettes. https://jakubnowosad.com/rcartocolor/.\n\n\nOoms, Jeroen. 2024. magick: Advanced Graphics and Image-Processing in R. https://CRAN.R-project.org/package=magick.\n\n\nOur World in Data. 2019. “Medical Doctors Per 1,000 People.” https://ourworldindata.org/grapher/physicians-per-1000-people.\n\n\nPebesma, Edzer. 2018. “Simple Features for R: Standardized Support for Spatial Vector Data.” The R Journal 10 (1): 439–46. https://doi.org/10.32614/RJ-2018-009.\n\n\nPedersen, Thomas Lin. 2022. ggforce: Accelerating ’ggplot2’. https://CRAN.R-project.org/package=ggforce.\n\n\n———. 2024. patchwork: The Composer of Plots. https://CRAN.R-project.org/package=patchwork.\n\n\n———. 2025. “Fonts in R.” https://www.tidyverse.org/blog/2025/05/fonts-in-r/.\n\n\nPedersen, Thomas Lin, and Martin Mitáš. 2024. marquee: Markdown Parser and Renderer for R Graphics. https://CRAN.R-project.org/package=marquee.\n\n\nPedersen, Thomas Lin, Jeroen Ooms, and Devon Govett. 2024. systemfonts: System Native Font Finding. https://CRAN.R-project.org/package=systemfonts.\n\n\nPedersen, Thomas Lin, and Maxim Shemanarev. 2023. ragg: Graphic Devices Based on AGG. https://CRAN.R-project.org/package=ragg.\n\n\nPLDB contributors. 2022. “PLDB: A Programming Language Database.” PLDB. https://pldb.com.\n\n\nQiu, Yixuan. 2022. sysfonts: Loading Fonts into R. https://CRAN.R-project.org/package=sysfonts.\n\n\n———. 2023. showtext: Using Fonts More Easily in R Graphs. https://CRAN.R-project.org/package=showtext.\n\n\nR Core Team. 2024. R: A Language and Environment for Statistical Computing. Vienna, Austria: R Foundation for Statistical Computing. https://www.R-project.org/.\n\n\nR4DS Online Learning Community. 2023. “Tidy Tuesday: A Weekly Social Data Project.” https://github.com/rfordatascience/tidytuesday.\n\n\nRennie, Nicola. 2023a. “Adding Social Media Icons to Charts with ggplot2.” https://nrennie.rbind.io/blog/adding-social-media-icons-ggplot2/.\n\n\n———. 2023b. “Creating Template Files with R.” https://nrennie.rbind.io/blog/script-templates-r/.\n\n\n———. 2023c. “Four Ways to Streamline Your R Workflows.” https://nrennie.rbind.io/blog/four-ways-streamline-r-workflows/.\n\n\n———. 2024a. ggtextcircle: Circular Text in ’ggplot2’. https://github.com/nrennie/ggtextcircle.\n\n\n———. 2024b. nobel: Access data from the Nobel Prize API via R. https://github.com/nrennie/nobel.\n\n\n———. 2024c. “tidytuesday.” GitHub Repository. GitHub. https://github.com/nrennie/tidytuesday.\n\n\nRennie, Nicola, and Andreas Krause. 2024. “Presenting data the Significance way - Part 1.” Significance 21 (3): 36–39. https://doi.org/10.1093/jrssig/qmae045.\n\n\nReynolds, Gina. 2025. “Everyday ggplot2 extension.” https://evamaerey.github.io/everyday_ggplot2_extension/.\n\n\nRStudio. 2018a. “forcats Hex Sticker.” https://github.com/rstudio/hex-stickers/blob/main/PNG/forcats.png.\n\n\n———. 2018b. “ggplot2 Hex Sticker.” https://github.com/rstudio/hex-stickers/blob/main/PNG/ggplot2.png.\n\n\n———. 2018c. “purrr Hex Sticker.” https://github.com/rstudio/hex-stickers/blob/main/PNG/purrr.png.\n\n\n———. 2018d. “readr Hex Sticker.” https://github.com/rstudio/hex-stickers/blob/main/PNG/readr.png.\n\n\n———. 2018e. “tibble Hex Sticker.” https://github.com/rstudio/hex-stickers/blob/main/PNG/tibble.png.\n\n\n———. 2020a. “dplyr Hex Sticker.” https://github.com/rstudio/hex-stickers/blob/main/PNG/dplyr.png.\n\n\n———. 2020b. “stringr Hex Sticker.” https://github.com/rstudio/hex-stickers/blob/main/PNG/stringr.png.\n\n\n———. 2020c. “tidyr Hex Sticker.” https://github.com/rstudio/hex-stickers/blob/main/PNG/tidyr.png.\n\n\nRudis, Bob, Ben Bolker, and Jan Schulz. 2017. ggalt: Extra Coordinate Systems, ’Geoms’, Statistical Transformations, Scales and Fonts for ’ggplot2’. https://CRAN.R-project.org/package=ggalt.\n\n\nRudis, Bob, and Dave Gandy. 2023. waffle: Create Waffle Chart Visualizations. https://CRAN.R-project.org/package=waffle.\n\n\nSarkar, Deepayan. 2008. Lattice: Multivariate Data Visualization with r. New York: Springer. http://lmdvr.r-forge.r-project.org.\n\n\nSchauberger, Philipp, and Alexander Walker. 2023. openxlsx: Read, Write and Edit xlsx Files. https://CRAN.R-project.org/package=openxlsx.\n\n\nScheuch, Christoph. 2025. owidapi: Access the Our World in Data Chart API. https://doi.org/10.32614/CRAN.package.owidapi.\n\n\nSchloerke, Barret, Di Cook, Joseph Larmarange, Francois Briatte, Moritz Marbach, Edwin Thoen, Amos Elberg, and Jason Crowley. 2024. GGally: Extension to ’ggplot2’. https://CRAN.R-project.org/package=GGally.\n\n\nSchloss, Karen B., Connor C. Gramazio, Allison T. Silverman, Madeline L. Parker, and Audrey S. Wang. 2019. “Mapping Color to Meaning in Colormap Data Visualizations.” IEEE Transactions on Visualization and Computer Graphics 25 (1): 810–19. https://doi.org/10.1109/TVCG.2018.2865147.\n\n\nShalloway, Bryan. 2023. funspotr: Spot R Functions & Packages. https://CRAN.R-project.org/package=funspotr.\n\n\nSievert, Carson. 2020. Interactive Web-Based Data Visualization with r, Plotly, and Shiny. Chapman; Hall/CRC. https://plotly-r.com.\n\n\nSlowikowski, Kamil. 2024. ggrepel: Automatically Position Non-Overlapping Text Labels with ’ggplot2’. https://CRAN.R-project.org/package=ggrepel.\n\n\nTierney, Nicholas. 2017. “visdat: Visualising Whole Data Frames.” JOSS 2 (16): 355. https://doi.org/10.21105/joss.00355.\n\n\nTierney, Nicholas, and Dianne Cook. 2023. “Expanding Tidy Data Principles to Facilitate Missing Data Exploration, Visualization and Assessment of Imputations.” Journal of Statistical Software 105 (7): 1–31. https://doi.org/10.18637/jss.v105.i07.\n\n\nTol, Paul. 2021. “Paul Tol’s Notes: Colour schemes and templates.” https://sronpersonalpages.nl/~pault/.\n\n\nUnited States Census Bureau. 2021a. “Historical Population Change Data (1910-2020).” https://www.census.gov/data/tables/time-series/dec/popchange-data-text.html.\n\n\n———. 2021b. “State Area Measurements and Internal Point Coordinates.” https://www.census.gov/geographies/reference-files/2010/geo/state-area.html.\n\n\nUnited States Department of Agriculture: Economics, Statistics and Market Information System. 2022. “Honey Bee Colonies.” USDA Economics, Statistics and Market Information System. https://usda.library.cornell.edu/concern/publications/rn301137d.\n\n\nWalker, Kyle. 2022. crsuggest: Obtain Suggested Coordinate Reference System Information for Spatial Data. https://CRAN.R-project.org/package=crsuggest.\n\n\nWanzer, Dana Linnell, Tarek Azzam, Natalie D. Jones, and Darrel Skousen. 2021. “The Role of Titles in Enhancing Data Visualization.” Evaluation and Program Planning 84: 101896. https://doi.org/10.1016/j.evalprogplan.2020.101896.\n\n\nWickham, Hadley. 2016. ggplot2: Elegant Graphics for Data Analysis. Springer-Verlag New York. https://ggplot2.tidyverse.org.\n\n\n———. 2023a. forcats: Tools for Working with Categorical Variables (Factors). https://doi.org/10.32614/CRAN.package.forcats.\n\n\n———. 2023b. stringr: Simple, Consistent Wrappers for Common String Operations. https://CRAN.R-project.org/package=stringr.\n\n\nWickham, Hadley, Mara Averick, Jennifer Bryan, Winston Chang, Lucy D’Agostino McGowan, Romain François, Garrett Grolemund, et al. 2019. “Welcome to the tidyverse.” Journal of Open Source Software 4 (43): 1686. https://doi.org/10.21105/joss.01686.\n\n\nWickham, Hadley, and Jennifer Bryan. 2023. readxl: Read Excel Files. https://CRAN.R-project.org/package=readxl.\n\n\nWickham, Hadley, Mine Çetinkaya-Rundel, and Garrett Grolemund. 2023. R for Data Science. Second Edition. O-Reilly. https://r4ds.hadley.nz.\n\n\nWickham, Hadley, Romain François, Lionel Henry, Kirill Müller, and Davis Vaughan. 2023. dplyr: A Grammar of Data Manipulation. https://CRAN.R-project.org/package=dplyr.\n\n\nWickham, Hadley, and Lionel Henry. 2023. purrr: Functional Programming Tools. https://CRAN.R-project.org/package=purrr.\n\n\nWickham, Hadley, Jim Hester, and Jennifer Bryan. 2024. readr: Read Rectangular Text Data. https://CRAN.R-project.org/package=readr.\n\n\nWickham, Hadley, Thomas Lin Pedersen, and Dana Seidel. 2023. scales: Scale Functions for Visualization. https://CRAN.R-project.org/package=scales.\n\n\nWickham, Hadley, Davis Vaughan, and Maximilian Girlich. 2024. tidyr: Tidy Messy Data. https://CRAN.R-project.org/package=tidyr.\n\n\nWilke, Claus. 2022. ggtextures: Drawing Textured Rectangles and Bars with grid and ggplot2. https://github.com/clauswilke/ggtextures.\n\n\nWilke, Claus O. 2024. cowplot: Streamlined Plot Theme and Plot Annotations for ’ggplot2’. https://wilkelab.org/cowplot/.\n\n\nWilke, Claus O., and Brenton M. Wiernik. 2022. ggtext: Improved Text Rendering Support for ’ggplot2’. https://CRAN.R-project.org/package=ggtext.\n\n\nwww.nobelprize.org. 2024. “Nobel Prize API Version 2.1.” https://api.nobelprize.org/2.1/laureates.\n\n\nYork, Piers. 2023. owidR: Import Data from Our World in Data. https://github.com/piersyork/owidR.\n\n\nYu, Guangchuang. 2023. ggimage: Use Image in ’ggplot2’. https://CRAN.R-project.org/package=ggimage.\n\n\nYutani, Hiroaki. 2023. gghighlight: Highlight Lines and Points in ’ggplot2’. https://CRAN.R-project.org/package=gghighlight.\n\n\nZehr, Sarah M., Richard G. Roach, David Haring, Julie Taylor, Freda H. Cameron, and Anne D. Yoder. 2014. “Life history profiles for 27 strepsirrhine primate taxa generated using captive data from the Duke Lemur Center.” Scientific Data 1 (1). https://doi.org/10.1038/sdata.2014.19.",
    "crumbs": [
      "일반적인 차트도 지루할 필요는 없습니다!"
    ]
  },
  {
    "objectID": "programming-languages.html",
    "href": "programming-languages.html",
    "title": "2  프로그래밍 언어: ggplot2를 이용한 덤벨 차트",
    "section": "",
    "text": "2.1 데이터\n이 장에서는 점과 선을 결합하여 덤벨 차트를 만들고, 데이터 기반 캡션을 생성하며, 테마, 글꼴, 색상을 사용하여 차트 스타일을 지정하는 방법을 배웁니다.\n이 장을 마치면 다음을 할 수 있게 됩니다:\n이 장에 필요한 패키지를 로드하는 것으로 시작합니다.\n데이터 랭글링에 사용할 dplyr 및 tidyr 패키지와 ggplot2 자체에 대해서는 이미 약간 익숙하다고 가정합니다! 다른 패키지들은 사용할 때 소개하겠지만, 각 패키지의 목적에 대해 간단히 요약하면 다음과 같습니다:\n이 장에서는 프로그래밍 언어 데이터베이스(PLDB) (PLDB contributors 2022)를 살펴보겠습니다. 이 데이터베이스는 프로그래밍 언어 백과사전으로, 순위, 생성 시기, 언어 유형, 해당 언어를 사용하는 GitHub 저장소 수 등 몇 가지 변수만 예로 들어도 많은 정보가 포함되어 있습니다. 프로그래밍 언어 제작자는 데이터베이스를 사용하여 프로그래밍 언어를 설계하고 개선할 수 있으며, 프로그래밍 언어 사용자는 데이터베이스를 사용하여 어떤 언어를 사용하거나 배울지 결정하는 데 도움을 받을 수 있습니다.\nPLDB는 공유 도메인으로 게시되며 pldb.io에서 온라인으로 찾아 쿼리를 만들고 데이터를 볼 수 있습니다. 데이터를 CSV 또는 JSON 형식으로 다운로드할 수도 있습니다. PLDB 데이터는 2023년 3월 TidyTuesday 데이터세트로 사용되었으므로(Jesus M. Castagnetto의 제안 이후), tidytuesdayR R 패키지 (Hughes 2022b)를 사용하여 데이터를 R로 쉽게 로드할 수도 있습니다.\ntidytuesdayR R 패키지에는 TidyTuesday 데이터와 정보를 R로 가져오는 데 도움이 되는 여러 함수가 있습니다. 가장 일반적으로 사용되는 함수 중 하나는 특정 주(날짜로 지정)의 데이터를 R 세션으로 로드하는 tt_load() 함수입니다. 특정 주에 여러 데이터세트가 있을 수 있으며, $ 표기법을 사용하여 특정 데이터세트에 액세스할 수 있습니다:\ntuesdata &lt;- tt_load(\"2023-03-21\")\nlanguages &lt;- tuesdata$languages\n또는 연도와 주를 사용하여 tidytuesdayR을 통해 데이터를 읽을 수도 있습니다. 예를 들어 languages &lt;- tt_load(2023, week = 12)와 같습니다. 또한 기본 R의 read.csv() 또는 readr의 read_csv()를 사용하여 GitHub의 CSV 파일에서 직접 데이터를 읽을 수도 있습니다.\n데이터는 어떻게 생겼을까요? head()를 사용하여 데이터의 처음 6행을 검사할 수 있습니다:\nhead(languages)\n\n# A tibble: 6 × 49\n  pldb_id  title description type  appeared creators website\n  &lt;chr&gt;    &lt;chr&gt; &lt;chr&gt;       &lt;chr&gt;    &lt;dbl&gt; &lt;chr&gt;    &lt;chr&gt;  \n1 java     Java  &lt;NA&gt;        pl        1995 James G… https:…\n2 javascr… Java… &lt;NA&gt;        pl        1995 Brendan… &lt;NA&gt;   \n3 c        C     &lt;NA&gt;        pl        1972 Dennis … &lt;NA&gt;   \n4 python   Pyth… &lt;NA&gt;        pl        1991 Guido v… https:…\n5 sql      SQL   &lt;NA&gt;        quer…     1974 Donald … &lt;NA&gt;   \n6 cpp      C++   &lt;NA&gt;        pl        1985 Bjarne … http:/…\n# ℹ 42 more variables: domain_name &lt;chr&gt;,\n#   domain_name_registered &lt;dbl&gt;, reference &lt;chr&gt;,\n#   isbndb &lt;dbl&gt;, book_count &lt;dbl&gt;, semantic_scholar &lt;dbl&gt;,\n#   language_rank &lt;dbl&gt;, github_repo &lt;chr&gt;,\n#   github_repo_stars &lt;dbl&gt;, github_repo_forks &lt;dbl&gt;,\n#   github_repo_updated &lt;dbl&gt;,\n#   github_repo_subscribers &lt;dbl&gt;, …\n더 읽기 쉬운 형식을 선호한다면 View()를 사용하여 RStudio에서 새 탭을 열어 편집 불가능한 스프레드시트 파일과 유사한 형태로 데이터를 검사할 수도 있습니다. 이 매우 기본적인 방법(먼저 눈으로만 보는 것)으로 데이터를 검사하면 데이터가 올바르게 읽혔는지 확인하는 데 도움이 됩니다. 이 데이터세트에는 4303개의 행과 49개의 열이 있어 더 탐색할 수 있는 변수 옵션이 많습니다. 어떤 변수가 있을까요? TidyTuesday GitHub 저장소에 포함된 데이터 설명이 시작하기 좋은 곳인 경우가 많습니다. 열 이름과 각 열의 데이터가 무엇을 의미하는지 포함된 표는 보고 있는 데이터에 대한 더 많은 맥락을 제공하는 데 도움이 될 수 있습니다(특히 열 이름이 직관적이지 않은 경우 더욱 그렇습니다!). PLDB 데이터세트의 경우 pldb.io/csv.html의 웹사이트에서 변수에 대한 훨씬 더 심층적인 설명을 볼 수 있습니다. 여기서 이 데이터세트의 TidyTuesday 버전은 356개의 변수를 포함하는 더 큰 데이터세트의 하위 집합이라는 것도 알 수 있습니다. 이 장에서는 더 작은 버전을 계속 사용하겠습니다!\n데이터에 결측값(NA)이 있는 변수가 많습니다. description 열, github_ 열, reference 열 또는 is_open_source 열에 항목이 있는 언어는 거의 없습니다. 결측값은 매우 중요합니다. 결측값이 있는 행이나 열을 단순히 버리고 싶지는 않은데, 이는 종종 데이터에 대한 중요한 정보를 많이 알려줄 수 있기 때문입니다. 예를 들어, github_ 열의 많은 결측값은 많은 프로그래밍 언어가 2008년 GitHub가 생성되기 이전에 만들어졌다는 사실과 관련이 있을 수 있습니다. 이 열에 결측값이 있다고 해서 행을 버리면 새로운 프로그래밍 언어에 대한 분석이 편향될 수 있습니다. 결측 데이터를 처리하는 방법은 여러 가지가 있으며, 어떤 방법을 사용할지는 달성하고자 하는 목표에 따라 다릅니다. 그렇긴 하지만, 이 책은 통계 책이 아니므로 시각화를 위해 대부분 완료된 열에 초점을 맞출 것입니다. 결측 데이터에 대한 추가 논의는 Chapter 4 및 Chapter 10 에서 찾을 수 있습니다.\n그럼 어떤 열을 먼저 살펴봐야 할까요? 데이터를 다룰 때 종종 관심 있는 결과가 있습니다. 분야에 따라 이를 반응 변수 또는 종속 변수라고 부를 수도 있습니다. 관심 있는 결과가 여러 개일 수도 있습니다. 예를 들어 PLDB 데이터에서 우리는 프로그래밍 언어의 순위 및/또는 GitHub 스타 수에 무엇이 영향을 미치는지 관심이 있을 수 있습니다. 이것들은 종종 우리가 이야기하고 싶은 변수입니다. 그러나 여러분이 전하는 이야기가 올바른지 확인하기 위해 다른 변수 간의 관계를 탐색하는 것에 대해 생각하는 것도 중요합니다. github_repo_stars와 github_repo_forks 사이에 관계가 있을 수 있다는 것은 분명해 보이지만, 정확히 어떤 관계일까요? last_activity와 number_of_jobs 사이의 덜 분명한 연결은 어떨까요? 거기에 관계가 있을까요?",
    "crumbs": [
      "일반적인 차트도 지루할 필요는 없습니다!",
      "<span class='chapter-number'>2</span>  <span class='chapter-title'>프로그래밍 언어: **`ggplot2`**를 이용한 덤벨 차트</span>"
    ]
  },
  {
    "objectID": "programming-languages.html#탐색-작업",
    "href": "programming-languages.html#탐색-작업",
    "title": "2  프로그래밍 언어: ggplot2를 이용한 덤벨 차트",
    "section": "\n2.2 탐색 작업",
    "text": "2.2 탐색 작업\n데이터를 보고, 행과 열의 수를 세고, 다른 열의 값을 검사하는 것 외에도 탐색 작업의 핵심 부분은 데이터를 시각화하는 것입니다. 이러한 초기 시각화는 데이터에 문제가 있는지(예: Monday를 Mnoday로 잘못 입력함) 확인하는 데 도움이 될 수 있습니다. 또한 데이터에서 흥미로운 관계나 패턴을 식별하는 데 도움이 되어 탐색 및 적절한 모델링 기술을 위한 추가 방향을 안내할 수 있습니다.\n다양한 유형의 플롯이 있으며 이 책에서 여러 가지 다른 예를 볼 수 있습니다. 일부는 이전에 본 적이 있을 수도 있고 다른 일부는 그렇지 않을 수도 있습니다. 그러나 초기 탐색 플롯의 경우 종종 산점도, 막대 차트, 상자 그림, 밀도 플롯 및 선형 차트와 같은 고전적인 차트가 시작하기 좋은 곳입니다. 산점도는 두 연속 변수 간의 관계를 탐색하는 데 유용하고, 다중 밀도 플롯 또는 상자 그림은 범주형 변수와 연속형 변수 간의 관계를 탐색하는 데 유용하며, 막대 차트는 여러 범주형 변수 간의 관계를 탐색하는 데 유용하고, 선형 차트는 연속형 변수가 시간에 따라 어떻게 변하는지 보여주는 데 유용합니다.\n\n2.2.1 데이터 탐색\n이 장에서 모든 열을 탐색할 수는 없지만 집에서 직접 해보시길 권장합니다. 우리는 고려하고 싶은 가장 분명한 결과인 language_rank부터 시작하겠습니다. 이 데이터에서 순위는 0부터 시작합니다(1부터 인덱싱하는 것이 더 낫다는 농담을 여기에 삽입하세요…). 우리는 last_activity 열을 순위와 관련하여 살펴보고 싶을 수 있습니다. 최근 활동이 더 많은 프로그래밍 언어가 더 인기가 있을까요? 마지막 활동(x축)과 언어 순위(y축)의 산점도를 만드는 것으로 시작하겠습니다. Figure 2.1 에서 xlab 및 ylab으로 더 나은 축 제목을 추가하는 것은 혼자만 이 플롯을 보는 경우 불필요하지만, 다른 사람과 공유하는 경우 유용한 작업이 될 수 있습니다. 특히 열 이름이 여기서 보는 것보다 덜 설명적인 경우 더욱 그렇습니다! \n\nplot(\n  x = languages$last_activity,\n  y = languages$language_rank,\n  xlab = \"Last activity\",\n  ylab = \"Rank\"\n)\n\n\n\n\n\n\nFigure 2.1: 마지막 활동에 따라 언어 순위가 어떻게 변하는지 보여주는 기본 산점도로, 일부 특이한 날짜 값을 보여줍니다.\n\n\n\n\n이것은 탐색적 분석에서 데이터 시각화의 역할을 바로 강조합니다. 이 산점도는 꽤 올바르게 보이지 않습니다. last_activity 데이터는 약 -1000에서 2000이 조금 넘는 범위이며 대부분의 값은 2000 표시 근처에 있습니다. 이것이 날짜 열이어야 한다면 이 값이 올바른지 생각해야 합니다.\n\n단순히 잘못된 입력인가요?\n결측값인가요? 결측값이 예를 들어 -999로 인코딩되는 것은 드문 일이 아닙니다. 데이터가 R로 로드되기 전에 다른 소프트웨어에서 처리된 경우 특히 그렇습니다. 데이터에 NA 값이 있다고 해서 이렇게 비정상적으로 코딩된 결측값도 가질 수 없다는 의미는 아닙니다. 값은 다양한 이유로 누락될 수 있으며 때로는 이러한 차이를 보여주기 위해 여러 가지 방식으로 인코딩됩니다.\n이 값들이 우리가 예상하지 못한 방식으로 변환되나요? 날짜는 정수 값으로 인코딩될 수 있습니다. 종종 기원 시간 이후의 일수로 인코딩됩니다. R에서 사용되는 기원 시간은 종종 \"1970-01-01\"이므로 1970년 이전 데이터를 다루는 경우 음수 날짜가 있는 것은 합리적입니다.\n\n이 경우 날짜는 실제로는(Date 객체가 아니라) 연도로만 주어지므로 음수 값이 잘못 변환된 값일 가능성은 낮습니다. 이 행들을 걸러낼 경우 어떤 연도를 기준으로 걸러내야 할까요? 1500년 이전? 1970년 이전? 실제로 이 행들을 살펴보겠습니다:\n\nlanguages[order(languages$last_activity), ] |&gt; head()\n\n# A tibble: 6 × 49\n  pldb_id  title description type  appeared creators website\n  &lt;chr&gt;    &lt;chr&gt; &lt;chr&gt;       &lt;chr&gt;    &lt;dbl&gt; &lt;chr&gt;    &lt;chr&gt;  \n1 roman-n… Roma…  &lt;NA&gt;       nume…     -900 &lt;NA&gt;     &lt;NA&gt;   \n2 etrusca… Etru…  &lt;NA&gt;       nume…     -700 &lt;NA&gt;     &lt;NA&gt;   \n3 attic-n… Atti…  &lt;NA&gt;       nume…     -600 &lt;NA&gt;     &lt;NA&gt;   \n4 greek-n… Gree…  &lt;NA&gt;       nume…     -300 &lt;NA&gt;     &lt;NA&gt;   \n5 arezzo-… arez… \"The stave… musi…     1033 &lt;NA&gt;     &lt;NA&gt;   \n6 fibonac… Libe… \"The Arabi… nota…     1202 &lt;NA&gt;     &lt;NA&gt;   \n# ℹ 42 more variables: domain_name &lt;chr&gt;,\n#   domain_name_registered &lt;dbl&gt;, reference &lt;chr&gt;,\n#   isbndb &lt;dbl&gt;, book_count &lt;dbl&gt;, semantic_scholar &lt;dbl&gt;,\n#   language_rank &lt;dbl&gt;, github_repo &lt;chr&gt;,\n#   github_repo_stars &lt;dbl&gt;, github_repo_forks &lt;dbl&gt;,\n#   github_repo_updated &lt;dbl&gt;,\n#   github_repo_subscribers &lt;dbl&gt;, …\n\n\n프로그래밍 언어 데이터베이스라는 이름은 프로그래밍 언어에만 초점을 맞추고 있음을 암시할 수 있지만 사실은 그렇지 않습니다. 쿼리 언어, 스타일시트 언어 및 프로토콜 등에 대한 정보도 포함되어 있습니다. 여기에서 볼 수 있듯이 숫자 체계도 포함됩니다.\n기본 R의 {graphics} 패키지에 있는 barplot() 함수를 사용하여 만든 막대 차트를 사용하여 데이터에서 이러한 다른 유형의 언어 간 균형을 살펴보겠습니다. barplot() 함수는 각 범주에 대한 개수의 (이름이 지정된) 벡터 또는 행렬을 취합니다. 기본 R의 table() 함수를 사용하여 이 개수 벡터를 만들 수 있습니다. 벡터를 sort() 안에 래핑하면 막대가 오름차순으로 플롯됩니다. \n\nbarplot(\n  height = sort(table(languages$type)),\n  las = 2\n)\n\n\n\n\n\n\nFigure 2.2: 각 유형의 서로 다른 언어 수를 보여주는 막대 차트로, 왼쪽에서 오른쪽으로 오름차순으로 정렬되어 있습니다.\n\n\n\n\n그들 중 거의 대부분이 프로그래밍 언어이므로 그것들에만 초점을 맞추고 last_activity 대 language_rank 산점도를 다시 만들어 보겠습니다. subset() 함수를 사용하여 type이 \"pl\"인 데이터 행만 추출하고 pl_df라는 새 객체에 저장할 수 있습니다. \n\npl_df &lt;- subset(languages, type == \"pl\")\nplot(\n  x = pl_df$last_activity,\n  y = pl_df$language_rank,\n  xlab = \"Last activity\",\n  ylab = \"Rank\"\n)\n\n\n\n\n\n\nFigure 2.3: 마지막 활동에 따라 언어 순위가 어떻게 변하는지 보여주는 기본 산점도로, 2000년 전후의 마지막 활동을 가진 언어들의 군집화를 보여줍니다.\n\n\n\n\n이제 우리의 산점도는 훨씬 더 합리적으로 보입니다. 첫 번째 항목은 1950년대 초반에 있습니다. 또한 프로그래밍 언어가 서로 다른 두 개의 군집으로 나뉘는 흥미로운 패턴을 제시합니다. 2000년 이후 last_activity가 있는 언어는 더 높은 순위(상위 3000위 이내)이고, 2000년 이전에 마지막 활동이 있었던 언어는 대부분 그 아래에 순위가 매겨져 있습니다. 이것이 흥미롭기는 하지만 여기서는 실제로 어떤 방향성을 가진 진술을 할 수 없다는 것을 기억하세요. 사람들은 더 활발하게 유지 관리되는 언어를 사용하는 것을 선호합니까? 아니면 사람들이 사용하는 것을 선호하기 때문에 언어가 더 활발하게 유지 관리되는 것입니까?\n\n\n\n\n\n\nTip 2.1: R에서 데이터 부분집합 만들기\n\n\n\n파이프 연산자를 사용하거나 사용하지 않고 dplyr의 filter() 함수를 사용하여 데이터의 부분집합을 만들 수도 있습니다: \n\npl_df &lt;- filter(languages, type == \"pl\")\n\n두 접근 방식 모두 동등하게 유효합니다. 이 책에서는 ggplot2로 플로팅하는 경우 다른 tidyverse 패키지를 사용하여 데이터를 준비합니다. 그러나 기본 R에서 플로팅하는 경우 기본 R을 사용하여 데이터를 준비합니다.\n\n\n어떤 다른 열을 탐색할 수 있을까요? R에서는 # 기호를 사용하여 주석을 작성합니다. 개인적인 호기심으로 그것이 얼마나 흔한지 관심이 있을 수 있습니다. 이 프로그래밍 언어 중 주석을 나타내는 데 사용되는 기호는 무엇입니까? barplot() 함수를 다시 사용하여 다양한 유형의 line_comment_token에 대한 막대 차트를 만들 수 있습니다: \n\nbarplot(\n  height = sort(table(pl_df$line_comment_token)),\n)\n\n\n\n\n\n\nFigure 2.4: 각 주석 기호를 사용하는 서로 다른 프로그래밍 언어의 수를 보여주는 막대 차트로, 왼쪽에서 오른쪽으로 오름차순으로 정렬되어 있습니다.\n\n\n\n\n주석에 #을 사용하는 것은 // 뒤를 이어 두 번째로 흔한 기호입니다. 이것은 새로운 추세입니까?\n\n2.2.2 탐색적 스케치\n우리가 시각화하는 데 관심이 있는 데이터의 측면은 다음과 같습니다:\n\n프로그래밍 언어가 언제 사용되었는지(appeared와 last_activity_date 사이의 시간)\n주석 기호가 무엇인지\n프로그래밍 언어의 순위\n\n두 가지 일이 일어나는 사이의 시간, 예를 들어 appeared와 last_activity_date 사이의 시간을 시각화하기 위해 덤벨 차트를 사용할 수 있습니다. 기본적으로 각 시점의 점과 두 점을 연결하는(보통 수평) 선으로, 덤벨 무게와 닮았다고 해서 붙여진 이름입니다. 덤벨 차트는 또한 두 범주에 대한 값의 차이, 예를 들어 남성과 여성의 키 또는 치료 전후의 혈압 수치를 보여주는 데 일반적으로 사용됩니다. \n\n\n\n\n\n\nTip 2.2: 스케치의 중요성\n\n\n\n펜과 종이를 사용하든 디지털 그리기 도구를 사용하든 스케치는 디자인 과정의 중요한 부분입니다. 스케치는 시각화를 탐색하고(데이터를 처리하는 방법을 결정하기 전에 데이터를 탐색하는 것과 같은 방식으로) 디자인 아이디어를 다듬기 위한 것입니다. 아이디어를 설명하는 빠른 방법이고, 다른 사람들과 협업하는 쉬운 방법이며, (그저 스케치일 뿐이므로) 작동하지 않으면 버리기 쉽습니다. 이 책의 모든 장에서 탐색적 스케치를 볼 수 있습니다. 세련되거나 예쁘게 보일 것이라고 기대해서는 안 됩니다!\n\n\n#을 주석으로 사용하는 언어의 타임라인에 대한 덤벨 차트는 다음과 비슷할 수 있습니다:\n\n\n\n\n\nFigure 2.5: 특정 주석 문자에 대해 서로 다른 언어가 활성화된 기간을 보여주는 덤벨 차트의 초기 스케치.\n\n\n이것이 서로 다른 주석 기호 간에 어떻게 다른지 보여주기 위해 이 차트의 작은 다중(small multiples)을 만들 수 있습니다. 기본적으로 데이터의 다른 하위 집합에 대해 동일한 플롯을 여러 번 만드는 것입니다. ggplot2에서 이것은 패면(facets)이라고 하며 다음과 비슷할 수 있습니다:\n\n\n\n\n\nFigure 2.6: 특정 주석 문자에 대해 서로 다른 언어가 활성화된 기간을 보여주는 덤벨 차트의 초기 스케치.",
    "crumbs": [
      "일반적인 차트도 지루할 필요는 없습니다!",
      "<span class='chapter-number'>2</span>  <span class='chapter-title'>프로그래밍 언어: **`ggplot2`**를 이용한 덤벨 차트</span>"
    ]
  },
  {
    "objectID": "programming-languages.html#플롯-준비하기",
    "href": "programming-languages.html#플롯-준비하기",
    "title": "2  프로그래밍 언어: ggplot2를 이용한 덤벨 차트",
    "section": "\n2.3 플롯 준비하기",
    "text": "2.3 플롯 준비하기\nDumbbell charts are essentially a combination of two things: lines and points. Although there isn’t a built-in function for creating dumbbell charts in ggplot2, there are built-in functions for creating lines and points so we have everything we need to make a dumbbell chart.\nThere are a few extensions packages that can help you to make dumbbell charts without having to assemble the lines and points yourself. The ggalt package (Rudis, Bolker, and Schulz 2017) which provides additional coordinate systems, geoms, statistical transformations, and scales for ggplot2, includes the geom_dumbbell() function which, as the name suggests, provides a quick and easy way to create dumbbell charts. The dumbbell package (Cheung 2021) also provides functionality for creating dumbbell charts.\nIn this chapter, we’re not going to use either of those for a couple of reasons:\n\nExtension packages are perfect for making charts quickly and easily, and I would encourage you to try them. But it’s also really useful to understand that, as long as you can break down the chart you want into lines, points, and polygons, then you can make it with ggplot2. That’s, at least in part, what this book is about.\nWe’re going to apply reasonably advanced customization to our dumbbell chart, and it’s useful to see how these work in ggplot2 first so that you can later apply them to other plot types more easily.\n\n\n2.3.1 데이터 랭글링\n관심 있는 주석 기호 중 하나를 사용하는 언어와 관련된 행만 유지하기 위해 데이터의 부분집합을 만드는 것으로 시작하겠습니다. //, # 또는 ;를 주석으로 사용하는 언어만 보고자 하는 경우 %in% 연산자와 함께 dplyr의 filter() 함수를 사용할 수 있습니다. 이렇게 하면 line_comment_token 열의 값이 c(\"//\", \"#\", \";\") 벡터에 있는 행만 유지됩니다. line_comment_token을 기준으로 패면 분류(faceting)할 것이며, 패면의 제목이 정보가 되도록 하고 싶습니다 - 단순히 # 기호만 있는 것이 아니라요. 이를 수행하기 위해 라벨링 함수를 만들 수도 있지만, line_comment_token 토큰의 텍스트를 편집하는 것이 훨씬 쉽습니다. paste() 함수를 사용하여 각 기호 앞에 \"Comment token:\"이라는 문구를 추가하고 dplyr의 mutate()를 사용하여 이를 label이라는 새 열로 추가합니다. \n데이터를 깔끔하고 관리하기 쉽게 유지하기 위해 dplyr의 select() 함수를 사용하여 시각화에 사용할 5개 열만 유지하고 필요 없는 열을 삭제할 수 있습니다. 또한 tidyr의 drop_na()를 사용하여 이러한 열에 NA 값이 포함된 행을 삭제합니다. \n\ncomment_df &lt;- pl_df |&gt;\n  filter(\n    line_comment_token %in% c(\"//\", \"#\", \";\")\n  ) |&gt;\n  mutate(\n    label = paste(\"Comment token:\", line_comment_token)\n  ) |&gt;\n  select(\n    title, appeared, last_activity, label, language_rank\n  ) |&gt;\n  drop_na()\n\n각 패면에서 해당 패면과 관련된 주석 기호를 사용하는 모든 프로그래밍 언어를 나열할 수 있습니다. 이렇게 하면 각 기호를 사용하는 언어의 수에 대한 정보도 표시됩니다. 또는 각 기호에 대해 상위 10위권 언어만 사용하도록 선택할 수도 있습니다.\ndplyr의 slice_min()을 사용하여 상위 10개를 추출하고 language_rank 값이 가장 작은 10개를 선택할 수 있습니다. 또는 데이터가 이미 순위 순서로 정렬되어 있으므로 dplyr의 slice_head()를 사용하여 처음 10개 행을 추출할 수 있습니다. 전체 상위 10개가 아니라 각 주석 기호 범주에서 상위 10개 행을 원하므로 label 열을 기준으로 데이터를 group()(그룹화)해야 합니다. 데이터 ungroup()(그룹 해제)하기 전에 플로팅에 도움이 되므로 그룹 내 순위를 정의하는 새 열도 만들고 싶습니다. dplyr의 row_number() 함수는 각 그룹 내의 행 번호를 식별하므로 이 그룹 내 순위를 정의하는 데 사용됩니다. mutate()를 사용하여 n이라는 새 열로 추가합니다. \n플로팅을 돕기 위해 두 연도 열(appeared 및 last_activity)을 하나의 열로 넣도록 데이터 형식을 다시 지정하려고 합니다. tidyr의 pivot_longer()를 사용하여 이를 수행할 수 있습니다. \n\nplot_data &lt;- comment_df |&gt;\n  group_by(label) |&gt;\n  slice_head(n = 10) |&gt;\n  mutate(\n    n = factor(row_number(), levels = 1:10)\n  ) |&gt;\n  ungroup() |&gt;\n  pivot_longer(\n    cols = c(appeared, last_activity),\n    names_to = \"type\",\n    values_to = \"year\"\n  )\n\n우리의 plot_data는 다음과 같습니다:\n\nhead(plot_data)\n\n# A tibble: 6 × 6\n  title  label            language_rank n     type      year\n  &lt;chr&gt;  &lt;chr&gt;                    &lt;dbl&gt; &lt;fct&gt; &lt;chr&gt;    &lt;dbl&gt;\n1 Python Comment token: #             3 1     appeared  1991\n2 Python Comment token: #             3 1     last_ac…  2022\n3 Perl   Comment token: #             9 2     appeared  1987\n4 Perl   Comment token: #             9 2     last_ac…  2022\n5 Ruby   Comment token: #            12 3     appeared  1995\n6 Ruby   Comment token: #            12 3     last_ac…  2022\n\n\n이제 플로팅을 시작할 준비가 되었습니다!\n\n2.3.2 첫 번째 플롯\nggplot2의 특히 좋은 기능 중 하나는 플롯을 변수로 저장하고 반복적으로( +를 사용하여) 레이어를 추가할 수 있다는 것입니다. 코드를 조금 더 명확하게 만들기 위해 플롯의 각 측면을 단계별로 만들고 점차 더 복잡한 스타일을 추가하겠습니다. 우리가 만드는 첫 번째 플롯을 basic_plot으로 저장할 것입니다.\nggplot2로 만든 대부분의 플롯과 마찬가지로 ggplot() 함수를 호출하는 것으로 시작합니다. ggplot() 함수에서 전역적으로 또는 각 개별 레이어에서 사용할 데이터와 미적 매핑(aesthetic mapping)을 정의할 수 있습니다. 모든 레이어에 대해 동일한 데이터(plot_data)를 사용할 것이므로 ggplot()의 data 인수에 전달합니다. \n다음으로 선과 점이라는 도형(geometries)을 추가하기 시작합니다. 여기서 도형을 추가하는 순서가 중요합니다. 선이 점과 겹치지 않도록 점을 선 위에 플롯하고 싶습니다. 즉, 선을 먼저 플롯한 다음 점을 플롯해야 합니다. 다른 geom_* 함수를 사용하여 도형을 추가합니다. 선을 추가하려면 geom_line()을 사용합니다. ggplot2가 똑똑하긴 하지만 각 축에 어떤 변수가 플롯될지 추측할 만큼 똑똑하지는 않습니다. aes() 함수를 사용하여 미적 매핑을 지정해야 합니다. 데이터의 어떤 열이 x 및 y 축에 들어가는지 정의하는 것입니다. 덤벨 차트에 수평선을 그리고 싶으므로 year가 x축에, 순위 범주 n이 y축에 들어갑니다. 기본적으로 geom_line()은 x축에 있는 변수의 순서대로 좌표 사이아에 선을 그립니다. 그것은 여기서 우리가 정말로 원하는 것이 아닙니다. 우리는 각 언어, 즉 각 순위 n에 대해 별도의 선을 그리고 싶습니다. 그래서 이것을 group 인수에도 전달합니다. 이렇게 하면 여전히 x축의 변수 순서대로 좌표 사이에 선을 그리지만 각 순위 범주별로 별도로 그립니다. 덤벨의 양쪽 끝에 점을 추가하기 위해 geom_point()를 추가합니다. 미적 매핑을 지정하여 year를 x축에, 순위를 다시 y축에 넣습니다. 여기서 group을 지정할 필요는 없지만 지정해도 차이는 없습니다. \n마지막으로 facet_wrap()을 추가하여 label 열의 각 범주에 대한 작은 다중 플롯(패면)을 만듭니다. 패면 분류하려는 열의 이름 앞에 ~가 필요하다는 점에 유의하세요. \n\nbasic_plot &lt;- ggplot(data = plot_data) +\n  geom_line(mapping = aes(x = year, y = n, group = n)) +\n  geom_point(mapping = aes(x = year, y = n)) +\n  facet_wrap(~label)\nbasic_plot\n\n\n\n\n\n\nFigure 2.7: 각각 #, //, ;를 주석 기호로 사용하는 상위 10개 언어에 대해 언어 출현과 마지막 활동 사이의 시간을 보여주는 패면 덤벨 차트.\n\n\n\n\nggplot2(및 대부분의 다른 플로팅 소프트웨어)에서 y축은 아래에서 0으로 시작하여 위로 갈수록 값이 증가합니다. 그러나 순위를 시각화할 때는 일반적으로 가장 작은 숫자(가장 높은 순위)를 맨 위에 두고 싶습니다. 그래서 여기서는 y축을 뒤집고 싶습니다. ggplot2에서 이산 축의 경우 rev()(reverse의 줄임말) 함수를 scale_y_discrete()의 limits 인수에 전달하여 이를 수행합니다. \n현재 y축 레이블은 특별히 유익하지 않습니다. 단순히 1에서 10까지의 숫자보다는 언어의 이름이나 전체 순위를 추가하는 것이 더 유용할 것입니다. 나중에 각 패면에 이 정보를 제공하기 위해 레이블을 몇 개 추가할 예정이므로 해당 레이블을 위한 공간을 남겨두기 위해 x축의 왼쪽을 확장합니다. expand = expansion(0, 0)을 설정하면 축의 양쪽에 자동으로 추가되는 여분의 공간이 제거됩니다.\n\nbasic_plot +\n  scale_y_discrete(limits = rev) +\n  scale_x_continuous(\n    breaks = c(1970, 1990, 2010, 2030),\n    limits = c(1930, 2030),\n    expand = expansion(0, 0)\n  )\n\n\n\n\n\n\nFigure 2.8: 각각 #, //, ;를 주석 기호로 사용하는 상위 10개 언어에 대해 언어 출현과 마지막 활동 사이의 시간을 보여주는 패면 덤벨 차트입니다. 상위 순위 언어가 차트 상단에 있으며 x축은 1930년부터 2030년까지 확장됩니다.\n\n\n\n\n이제 Figure 2.6 의 스케치와 약간 비슷한 기본 플롯이 생겼습니다. 하지만 아직 멋져 보이지는 않습니다. 시각화의 미학과 명확성을 모두 개선하려면 약간의 작업이 더 필요합니다.",
    "crumbs": [
      "일반적인 차트도 지루할 필요는 없습니다!",
      "<span class='chapter-number'>2</span>  <span class='chapter-title'>프로그래밍 언어: **`ggplot2`**를 이용한 덤벨 차트</span>"
    ]
  },
  {
    "objectID": "programming-languages.html#고급-스타일링",
    "href": "programming-languages.html#고급-스타일링",
    "title": "2  프로그래밍 언어: ggplot2를 이용한 덤벨 차트",
    "section": "\n2.4 고급 스타일링",
    "text": "2.4 고급 스타일링\n차트에 고급 스타일을 적용하는 요소는 다양하며, 이 섹션에서는 색상, 글꼴 및 테마 등 몇 가지 요소를 다룹니다.\n\n2.4.1 색상\n색상부터 시작해 볼까요? 어떤 색상을 사용할지 어떻게 결정하나요? 더 복잡한 경우는 색상이 데이터의 변수를 나타내는 경우입니다. 연속 변수의 경우 색상 그라디언트를 사용하거나 이산형 범주형 데이터의 경우 구별되는 색상 세트를 사용합니다. Chapter 3 및 Chapter 9 에서 이러한 설정에 대한 색상 선택으로 돌아오겠습니다. 여기서는 배경색, 텍스트 색상 및 다양한 기하학적 요소에 대한 색상과 같이 몇 가지 색상만 생각하면 되므로 조금 더 쉽습니다. \n더 심미적으로 보기 좋은 시각화를 만들려면 색상 선택을 데이터의 테마와 일치시킬 수 있는지 생각하는 것이 종종 유용합니다. 예를 들어 호박 크기에 대한 막대 차트를 만드는 경우 막대 색상으로 주황색을 사용할 수 있습니다. 여기서는 프로그래밍 언어에 대한 차트를 만들고 있습니다. 프로그래밍 언어와 어떤 색상을 연관시키나요? 개인적으로 저는 녹색이 생각납니다. 구체적으로 말하자면, 초기 컴퓨팅 시절에 전형적인 그린 스크린(단색 모니터로 녹색 인광 스크린을 사용함)에 사용된 녹색입니다.\n색상을 저장할 몇 가지 변수를 정의할 수 있습니다. 배경에 사용할 짙은 회색인 bg_col 변수와 텍스트 및 기타 기하학적 요소에 사용할 밝은 녹색의 16진수 코드인 main_col 변수입니다.\n\n\n\n\n\n\nTip 2.3: R의 색상\n\n\n\n짙은 회색인 \"gray5\"는 R에 미리 정의된 색상입니다. colors()를 실행하여 사용 가능한 모든 657개의 미리 정의된 색상 목록을 확인하세요. \n\n\n나중에 색상을 편집하기가 훨씬 쉽기 때문에 색상을 변수로 저장하는 것이 유용합니다. 색상을 사용하려는 각 인수에 16진수 코드를 직접 사용할 수도 있습니다. 그러나 차트에 색상을 적용하기 시작하면 알 수 있듯이 인수가 많을 수 있습니다. 약간 다른 그늘의 녹색을 사용하고 싶다고 결정하면 모든 녹색을 수동으로 변경해야 합니다. 변수를 사용하면 한 번만 변경하면 됩니다.\n\nbg_col &lt;- \"gray5\"\nmain_col &lt;- \"#66FF00\"\n\nupdate_geom_defaults()를 사용하여 선, 점 및 텍스트에 사용되는 기본 색상을 변경할 수 있지만 이 접근 방식은 R 세션의 모든 미래 플롯에 대한 색상도 변경하며 이전 기본값으로 돌아가는 것은 꽤 까다롭습니다. 대신 이미 가지고 있는 코드를 다시 작성하고 추가 색상을 추가할 수 있습니다. 이러한 색상은 데이터의 변수에 매핑되지 않으므로 aes() 함수 외부에 추가된다는 점에 유의하세요. \ngeom_point()에 대한 점 문자(pch)도 22로 설정됩니다. 이는 네모난 모양으로, 사각형과 윤곽선을 다른 색상으로 칠할 수 있게 해줍니다. 윤곽선 color는 녹색 main_col로 설정되고 사각형 fill 색상은 짙은 회색 bg_col로 설정됩니다.\n\nbasic_plot &lt;- ggplot(data = plot_data) +\n  geom_line(\n    mapping = aes(x = year, y = n, group = n),\n    color = main_col\n  ) +\n  geom_point(\n    mapping = aes(x = year, y = n),\n    color = main_col,\n    fill = bg_col,\n    pch = 22\n  ) +\n  facet_wrap(~label) +\n  # 스케일 다시 추가\n  scale_y_discrete(limits = rev) +\n  scale_x_continuous(\n    breaks = c(1970, 1990, 2010, 2030),\n    limits = c(1930, 2030),\n    expand = c(0, 0)\n  )\nbasic_plot\n\n\n\n\n\n\nFigure 2.9: 각각 #, //, ;를 주석 기호로 사용하는 상위 10개 언어에 대해 언어 출현과 마지막 활동 사이의 시간을 보여주는 패면 덤벨 차트로, 녹색 선과 녹색 윤곽선의 어두운 회색 점이 있습니다.\n\n\n\n\n\n2.4.2 텍스트와 글꼴\n시각화에 텍스트를 추가하는 것은 중요합니다. 제목, 부제목, 캡션을 통해 독자가 무슨 일이 일어나고 있는지 이해하기 쉽게 정보를 추가할 수 있습니다. 제목은 차트가 무엇에 관한 것인지 빠르게 설명합니다. 더 많은 정보를 제공하는 제목이 심미적으로 더 즐거울 수 있지만 정보를 전달하는 데 더 효과적이라는 증거는 없습니다 (Wanzer et al. 2021). 부제목은 기본 데이터에 대한 정보를 더 제공하거나 더 복잡한 차트를 해석하는 방법을 설명하거나 독자가 도달해야 할 결론을 명시할 수 있습니다. 캡션은 그래픽을 만든 사람, 데이터 소스 또는 데이터에 대한 기타 중요한 조건과 같은 정보를 넣기에 좋은 곳입니다.\n색상과 마찬가지로 텍스트를 변수로 정의합니다. 이렇게 하면 플로팅 코드를 조금 더 깔끔하게 유지하는 데 도움이 됩니다. 플롯을 만든 후 텍스트를 작성하는 것이 더 쉬운 경우가 많으며 변수를 정의하면 플롯 작업을 하는 동안 자리 표시자 텍스트를 쉽게 추가할 수 있습니다.\n\ntitle &lt;- \"Programming Languages\"\ncaption &lt;- \"Data: Programming Language DataBase | Graphic: N. Rennie\"\n\n우리의 시각화는 각 주석 기호를 사용하는 언어의 수에 대한 정보를 제공하지 않고 상위 10개에만 초점을 맞추고 있으므로 대신 부제목에 이 정보를 표시하고 싶을 수 있습니다:\n\nsubtitle &lt;- \"Of the 4,303 programming languages listed in the Programming Language DataBase, 205 use //, 101 use #, and 64 use ; to define which lines are comments. 3,831 languages do not have a comment token listed.\"\n\n이렇게 값을 텍스트 문자열로 작성하는 것의 문제는 업데이트하기 어렵다는 것입니다. 여기서 작업 중인 데이터 스냅샷은 2023년 3월의 것입니다. 데이터를 최신 버전으로 업데이트하면 이러한 값을 수동으로 다시 계산한 다음 텍스트 문자열에 복사하여 붙여넣어야 합니다. 더 나은 접근 방식은 데이터 기반 텍스트(계산과 텍스트 결합)를 사용하는 것입니다.\nglue 패키지 (Hester and Bryan 2024)를 사용하면 텍스트와 변수 값을 쉽게 결합할 수 있습니다. glue() 함수는 중괄호 {} 안의 R 코드를 평가하고 문자열에 삽입합니다. 또는 패면 레이블에 대해 이전에 수행한 것처럼 paste()를 사용하거나 기본 R의 sprintf()를 사용할 수도 있습니다.\n\n\n\n\n\n\nTip 2.4: glue()에서 괄호 열고 닫기\n\n\n\n문자열 텍스트 안에서 중괄호를 사용해야 하는 경우 glue()의 .open 및 .close 인수를 다른 구분 기호로 변경할 수 있습니다.\n\n\n값이 문장으로 들어가므로 format() 함수를 사용하여 숫자 서식에 쉼표를 추가할 수 있습니다 - 4303 대신 4,303 표시: \n\nsubtitle &lt;- glue(\"Of the {format(nrow(languages), big.mark = ',')} programming languages listed in the Programming Language DataBase, {sum(languages$line_comment_token == '//', na.rm = TRUE)} use //, {sum(languages$line_comment_token == '#', na.rm = TRUE)} use #, and {sum(languages$line_comment_token == ';', na.rm = TRUE)} use ; to define which lines are comments. {format(sum(is.na(languages$line_comment_token)), big.mark = ',')} languages do not have a comment token listed.\")\n\nlabs() 함수를 사용하여 제목, 부제목, 캡션을 플롯에 추가해 보겠습니다: \n\ntext_plot &lt;- basic_plot +\n  labs(\n    title = title,\n    subtitle = subtitle,\n    caption = caption\n  )\ntext_plot\n\n\n\n\n\n\nFigure 2.10: 각각 #, //, ;를 주석 기호로 사용하는 상위 10개 언어에 대해 언어 출현과 마지막 활동 사이의 시간을 보여주는 패면 덤벨 차트입니다. 서식이 지정되지 않은 제목, 부제목 및 캡션이 추가되었습니다.\n\n\n\n\n여기서 부제목 텍스트가 플롯의 가장자리를 벗어나는 것을 알 수 있습니다. 이에 대해서는 나중에 조금 다루겠습니다. 먼저 플롯에 사용할 서체를 결정합시다. 색상 선택과 마찬가지로 서체를 선택할 때 테마에 맞는 서체를 선택하는 것이 유용합니다. 공포 영화 포스터에 사용되는 서체를 생각해 보세요. 어린이 장난감을 마케팅하는 데 사용되는 서체와는 상당히 다르지 않나요? 색상에 단색 모니터 테마를 사용하고 있으므로 초기 컴퓨터를 연상시키는 고정폭(monospace) 서체를 선택하여 서체 선택까지 그 테마를 확장할 수 있습니다.\nR에서 글꼴 작업이 항상 쉬운 것은 아닙니다. R의 텍스트에 다른 글꼴을 사용하는 경우 운영 체제에 설치된 글꼴을 사용하거나 다른 곳에서 글꼴 파일을 다운로드하여 R로 로드할 수 있습니다. 외부 글꼴을 사용하는 쉬운 방법은 sysfonts (Qiu 2022)의 font_add_google() 함수를 사용하는 것입니다. 이 함수를 사용하면 글꼴 파일을 다운로드하거나 설치할 걱정 없이 R에서 Google Fonts를 로드할 수 있습니다. fonts.google.com에서 Google Fonts를 찾아볼 수 있습니다. VT323 및 Share Tech Mono 서체는 모두 우리의 테마에 잘 어울릴 것 같습니다. font_add_google() 함수는 지정된 서체 name(예: \"VT323\")에 대해 Google Fonts 데이터베이스를 검색하고 필요한 글꼴 파일을 로드합니다. 두 번째 인수 family는 R에서 사용할 때 서체를 참조하는 방법입니다. 기본적으로 name과 같지만 특히 긴 서체 이름의 경우 다른 것(예: \"vt\")으로 변경하는 것이 종종 유용합니다. \n또한 우리가 사용하는 그래픽 장치가 이러한 글꼴을 사용할 수 있는지 확인해야 합니다. 여기서 showtext 패키지 (Qiu 2023)가 등장합니다. showtext_auto()를 실행하면 텍스트 렌더링에 showtext 패키지가 자동으로 사용됨을 의미합니다. 또한 showtext_opts(dpi = 300)을 설정하여 나중에 이미지를 저장할 해상도로 글꼴을 사용할 수 있습니다. 이미지 해상도에 대한 자세한 내용은 Section 2.4.4 를 참조하세요. \n\nfont_add_google(\n  name = \"VT323\", family = \"vt\"\n)\nfont_add_google(\n  name = \"Share Tech Mono\", family = \"share\"\n)\nfont_add_google(name = \"Noto Sans KR\", family = \"noto_sans_kr\")\nshowtext_auto()\nshowtext_opts(dpi = 300)\nbody_font &lt;- \"share\"\ntitle_font &lt;- \"vt\"\nkorean_font &lt;- \"noto_sans_kr\"\n\n\n\n\n\n\n\nTip 2.5: showtext의 대안\n\n\n\nR에서 글꼴 작업을 위한 showtext의 대안은 여러 가지가 있습니다. 만들고 있는 것에 따라 다음 중 하나가 더 잘 맞을 수 있습니다:\n\n\nragg 패키지 (Pedersen and Shemanarev 2023)는 다른 그래픽 장치를 사용하며 시스템에 설치된 모든 글꼴을 사용할 수 있습니다. 일반적으로 관련 글꼴 파일을 다운로드한 다음 마우스 오른쪽 버튼을 클릭하고 설치 옵션을 선택하여 추가 글꼴을 설치할 수 있습니다.\n\nsystemfonts 패키지 (Pedersen, Ooms, and Govett 2024)는 글꼴 패밀리 및 스타일을 기반으로 로컬 글꼴 파일을 찾거나 로드할 수 있습니다. Chapter 9 에서 {systemfonts}를 사용하는 예를 살펴보겠습니다.\nPDF 형식에서 TrueType 글꼴을 사용하는 데 중점을 둔 extrafont 패키지 (Chang 2023).\n\n\n\n색상과 마찬가지로 서체 이름을 변수로 저장하여 다른 서체로 플롯이 어떻게 보이는지 쉽게 확인할 수 있습니다. 제목(및 기타 중요한 요소)의 서체를 저장하는 title_font와 다른 모든 텍스트에 대한 body_font 두 가지 변수를 저장합니다.\n\nbody_font &lt;- \"share\"\ntitle_font &lt;- \"vt\"\nkorean_font &lt;- \"noto_sans_kr\"\n\n플롯의 모든 비-기하학적(non-geom) 요소(예: 배경색, 제목에 사용되는 서체 또는 캡션 정렬 방식)의 스타일링은 ggplot2의 theme() 함수에서 처리됩니다. theme_classic(), theme_minimal() 또는 theme_gray()와 같은 몇 가지 인수를 미리 설정하는 여러 내장 테마가 있습니다. 기본 테마는 theme_gray()이며 기본 회색 배경은 여기에서 비롯됩니다. \n일반적으로 제목 텍스트가 다른 텍스트보다 크게 나타나기를 원합니다. 마찬가지로 축 텍스트는 다른 텍스트보다 작기를 원할 수 있습니다. ggplot2에서 모든 텍스트는 어떤 기준 텍스트 크기에 상대적으로 정의됩니다. 플롯에 사용되는 모든 텍스트의 크기를 늘리거나 줄이려면 내장 테마의 base_size 인수를 변경하면 모든 요소에 사용되는 기준 텍스트 크기가 설정됩니다. 즉, 모든 단일 텍스트 요소의 크기를 개별적으로 늘릴 필요가 없습니다. 마찬가지로 base_family는 모든 (비-기하학적) 텍스트 요소에 사용되는 기본 서체를 변경합니다.\n여기서는 theme_minimal()로 시작하고 base_size를 8로 설정할 수 있습니다. 이것은 꽤 작은 글꼴 크기(기본 크기인 11보다 작음)로 플롯이 이 책의 인쇄 버전 너비에 맞는지 확인하기 위한 것입니다.\n또한 base_family를 앞서 텍스트에 사용하려는 서체 이름을 저장하기 위해 정의한 변수인 body_font와 동일하게 설정할 수도 있습니다. \n\ntheme_plot1 &lt;- text_plot +\n  theme_minimal(\n    base_size = 8,\n    base_family = body_font\n  )\ntheme_plot1\n\n\n\n각각 #, //, ;를 주석 기호로 사용하는 상위 10개 언어에 대해 언어 출현과 마지막 활동 사이의 시간을 보여주는 패면 덤벨 차트입니다. 기본 글꼴이 변경되었으며 글꼴이 약간 작아졌습니다.\n\n\n\n\n2.4.3 테마 조정하기\ntheme() 함수의 개별 인수를 편집하여 스타일을 추가로 조정할 수 있습니다. theme() 인수를 편집할 때 많은 인수는 요소 유형으로 지정됩니다: element_text(), element_line(), element_rect(), element_grob(), element_render(), 또는 element_blank().\n\n2.4.3.1 배경 색상\npanel.background 및 plot.background 인수를 사용하여 배경색을 편집할 수 있습니다. panel.background는 플롯 내부 영역, 예: 기본적으로 회색인 영역을 나타냅니다. plot.background는 이 외부 영역을 나타냅니다. 이 둘은 사실상 직사각형일 뿐이므로 element_rect()를 사용하여 지정됩니다. fill(직사각형의 내부 색상)과 color(직사각형의 윤곽선 색상)를 모두 선택한 배경색으로 변경하려고 합니다.\n\n2.4.3.2 그리드 선\nggplot2의 그리드 선은 주(major) 및 부(minor) 두 가지 범주로 나뉩니다. 주 그리드 선은 일반적으로 약간 더 굵고 축 텍스트 레이블에 해당합니다. 부 그리드 선은 일반적으로 더 가볍고 레이블이 없습니다. panel.grid.major 및 panel.grid.minor 인수를 사용하여 제어할 수 있으며 x축 및 y축 그리드선에 대해 더 세밀한 제어가 가능합니다. 모두 element_line()을 사용하여 정의됩니다. color 요소를 사용하여 주 x축 그리드선의 색상을 변경할 수 있습니다. 밝은 녹색이 배경 요소로 산만해지지 않도록 ggplot2의 alpha() 함수를 사용하여 반투명하게 만들 수 있습니다. 0은 완전히 투명함을 의미하고 1은 완전히 불투명함을 의미합니다. linewidth는 선의 너비를 제어합니다. panel.grid.major.y와 panel.grid.minor를 모두 element_blank()로 설정하여 모든 y축 그리드 선과 모든 부 그리드 선을 제거합니다. axis.ticks = element_blank()를 사용하여 모든 축 눈금도 제거할 수 있습니다.\n\n2.4.3.3 텍스트 요소\n불행히도 base_size 및 base_family 인수와 같은 방식으로 모든 텍스트 요소의 색상을 변경할 수 있는 base_color 인수는 없습니다. theme() 함수 내에서 text 인수를 편집할 수 있습니다:\n\ntheme(\n  text = element_text(color = text_col)\n)\n\n그러나 안타깝게도 이것은 기본 색상을 유지하는 축 레이블과 같은 차트의 일부 텍스트 요소를 놓칩니다. 필요한 모든 텍스트 요소를 편집하려면 관련 텍스트 요소의 색상을 개별적으로 편집하고 녹색 main_col 색상으로 변경할 수 있습니다. 여기에는 strip.text(패면 제목 텍스트) 및 axis.text(축 값 레이블), plot.title, plot.subtitle 및 plot.caption이 포함됩니다.\n\n\n\n\n\n\nTip 2.6: 테마 개선 사항\n\n\n\nggplot2 버전 4는 theme() 함수에 업데이트를 가져오고 전경색을 다루는 ink와 배경색을 다루는 paper라는 인수를 추가합니다. 업데이트에 대한 내용은 www.tidyverse.org/blog/2025/09/ggplot2-4-0-0 에서 읽을 수 있습니다 (Brand 2025).\n\n\nx축 텍스트의 경우 vjust 인수를 조정하여 텍스트를 플롯 영역에 더 가깝게 약간 위로 이동합니다. y축 텍스트의 경우 element_blank()를 사용하여 제거하고 나중에 자체 레이블을 추가합니다. 제목 텍스트의 family도 앞서 정의한 title_font 변수로 조정하여 서체를 변경할 수 있습니다. size 요소를 조정하여 제목 글꼴을 더 크게 만들 수도 있습니다. size 인수에 숫자를 직접 지정하는 대신 rel() 함수를 사용합니다. rel() 함수는 기본 크기에 상대적인 글꼴 크기를 정의합니다. 즉, 기본 크기를 변경하면 제목도 그에 따라 다시 조정됩니다. \n\n2.4.3.4 여백\n플롯의 바깥쪽 가장자리에 약간의 공간을 추가하기 위해 plot.margin 인수를 정의할 수 있습니다. 이것은 (element_*() 함수 중 하나 대신) margin() 함수를 사용하여 지정되며 위쪽, 오른쪽, 아래쪽 및 왼쪽 여백의 네 가지 인수를 취합니다. 약간의 시행착오는 보기 좋은 값을 찾는 데 도움이 될 수 있습니다.\n\ntheme_plot1 +\n  theme(\n    # Background color\n    plot.background = element_rect(\n      fill = bg_col,\n      color = bg_col\n    ),\n    panel.background = element_rect(\n      fill = bg_col,\n      color = alpha(main_col, 0.5),\n      linewidth = 0.4\n    ),\n    # Grid lines\n    panel.grid.major.x = element_line(\n      color = alpha(main_col, 0.5),\n      linewidth = 0.2\n    ),\n    panel.grid.major.y = element_blank(),\n    panel.grid.minor = element_blank(),\n    axis.ticks = element_blank(),\n    # Text elements\n    strip.text = element_text(\n      color = main_col\n    ),\n    axis.text.y = element_blank(),\n    axis.text.x = element_text(\n      color = main_col,\n      vjust = 2\n    ),\n    plot.title = element_text(\n      color = main_col,\n      family = korean_font,\n      size = rel(2),\n    ),\n    plot.subtitle = element_text(\n      color = main_col,\n      family = korean_font,\n      margin = margin(b = 5)\n    ),\n    plot.caption = element_text(\n      color = main_col,\n      family = korean_font,\n      margin = margin(b = 5),\n      hjust = 0\n    ),\n    # Margins\n    plot.margin = margin(10, 15, 5, 0)\n  )\n\n\n\n\n\n\nFigure 2.11: 각각 #, //, ;를 주석 기호로 사용하는 상위 10개 언어에 대해 언어 출현과 마지막 활동 사이의 시간을 보여주는 패면 덤벨 차트로, 짙은 회색 배경과 녹색 텍스트가 있습니다.\n\n\n\n\n또한 부제목 텍스트가 너무 길어 페이지 측면 밖으로 나가는 문제를 처리해야 합니다. 이를 위한 몇 가지 옵션이 있습니다:\n\n줄을 바꾸고 싶은 부제목 문자열에 \"\\n\"을 추가하여 수동으로 줄 바꿈을 추가할 수 있습니다. 이것은 많은 시행착오가 필요한 매우 수동적인 접근 방식입니다.\n\nstringr의 str_wrap()을 사용하여 한 줄에 지정된 문자 수로 텍스트를 분할할 수 있습니다. 이것은 여전히 최적의 줄 길이를 찾기 위해 약간의 시행착오가 필요합니다. 또한 텍스트 크기를 변경하면 줄 길이를 다시 최적화해야 함을 의미합니다.\n가장 좋은 해결책 중 하나는 ggtext 패키지 (C. O. Wilke and Wiernik 2022)의 element_textbox_simple()을 사용하는 것입니다. ggtext 패키지는 이후 장에서 여러 예를 보게 될 Markdown 및 HTML 텍스트 사용 지원을 포함하여 ggplot2에 대한 향상된 텍스트 렌더링 지원을 제공합니다. element_textbox_simple() 함수를 사용하면 단어 줄 바꿈이 있는 상자에 텍스트를 배치할 수 있습니다.\n\nmarquee 패키지는 ggtext와 유사한 기능을 제공하며 Chapter 6 에서 다룰 것입니다.\n\n \nplot.subtitle에 대한 theme() 인수의 element_text()를 element_textbox_simple()로 대체하여 모든 글꼴 크기에서 부제목 텍스트를 줄 바꿈할 수 있습니다:\n\ntheme_plot2 &lt;- theme_plot1 +\n  theme(\n    plot.background = element_rect(\n      fill = bg_col,\n      color = bg_col\n    ),\n    panel.background = element_rect(\n      fill = bg_col,\n      color = alpha(main_col, 0.5),\n      linewidth = 0.4\n    ),\n    panel.grid.minor = element_blank(),\n    panel.grid.major.x = element_line(\n      color = alpha(main_col, 0.5),\n      linewidth = 0.2\n    ),\n    panel.grid.major.y = element_blank(),\n    strip.text = element_text(\n      color = main_col\n    ),\n    axis.text.y = element_blank(),\n    axis.text.x = element_text(\n      color = main_col,\n      vjust = 2\n    ),\n    plot.title = element_text(\n      color = main_col,\n      family = korean_font,\n      size = rel(2)\n    ),\n    plot.subtitle = element_textbox_simple(\n      color = main_col,\n      family = korean_font,\n      margin = margin(b = 5),\n      lineheight = 0.5\n    ),\n    plot.caption = element_text(\n      color = main_col,\n      family = korean_font,\n      margin = margin(b = 5),\n      hjust = 0\n    ),\n    axis.ticks = element_blank(),\n    plot.margin = margin(10, 15, 5, 0)\n  )\ntheme_plot2\n\n\n\n\n\n\nFigure 2.12: 각각 #, //, ;를 주석 기호로 사용하는 상위 10개 언어에 대해 언어 출현과 마지막 활동 사이의 시간을 보여주는 패면 덤벨 차트입니다. 이제 부제목 텍스트가 페이지 너비에 맞춰 줄 바꿈됩니다.\n\n\n\n\n마지막으로 y축 레이블을 제거했으므로 geom_text()를 사용하여 레이블을 추가해야 합니다. geom_text() 함수에는 세 가지 필수 미학이 있습니다. 레이블을 배치해야 하는 x 및 y 좌표와 어떤 텍스트가 작성되는지 정의하는 label입니다. 여기서 언어 title을 레이블로 사용하고 y축의 각 순위 범주 n에 레이블을 넣습니다. 모든 레이블을 동일한 수평 정렬에 배치하기 위해 x 미학을 재정의합니다. 정확한 값은 올바르게 얻기 위해 약간의 시행착오가 필요합니다.\n또한 텍스트의 스타일은 theme 요소와 별개이므로 텍스트의 모양도 편집해야 합니다. body_font 변수를 family 인수에 전달하여 레이블의 글꼴 패밀리를 설정하고 hjust = 0으로 설정하여 텍스트를 왼쪽 정렬합니다. size와 color 인수도 조정할 수 있습니다.\n\n\n\n\n\n\nTip 2.7: geom_text()의 기본 글꼴 크기\n\n\n\ngeom_text()의 기본 글꼴 크기는 3.88입니다. geom_text()의 크기는 mm로 정의되는 반면 theme() 요소의 크기는 pt로 정의되기 때문에 약간 혼란스럽습니다. geom_text()의 글꼴 크기를 테마의 글꼴 크기와 일치시키려면 geom_text()에서 size.unit = \"pt\"를 지정하세요. 이 인수는 ggplot2 버전 3.5.0부터 사용할 수 있습니다.\n\n\n\ntheme_plot2 +\n  geom_text(\n    mapping = aes(x = 1932, y = n, label = title),\n    family = korean_font,\n    hjust = 0,\n    size = 3,\n    color = main_col\n  )\n\n\n\n\n\n\nFigure 2.13: 각각 #, //, ;를 주석 기호로 사용하는 상위 10개 언어에 대해 언어 출현과 마지막 활동 사이의 시간을 보여주는 패면 덤벨 차트로, 언어를 나타내는 레이블이 추가되었습니다.\n\n\n\n\n이 레이블이 언어 레이블이 없는 것보다는 개선되었지만 가능한 한 유익하지는 않습니다. 플롯에 포함된 전체 순위에 대한 정보가 없습니다. #을 주석 기호로 사용하는 최상위 언어가 전체 최상위 언어인지 아니면 1000위 정도로 낮은지 알 수 있는 방법이 없습니다! glue 패키지를 다시 사용하여 더 유익한 레이블을 만들어 보겠습니다. title 열의 언어 이름, \"Rank: \" 텍스트, language_rank 열의 순위를 결합하는 rank_label이라는 새 열을 mutate()를 사용하여 만들 수 있습니다. \\n은 언어 이름과 순위 텍스트 사이에 줄 바꿈을 추가합니다. \n\nplot_data &lt;- plot_data |&gt;\n  mutate(\n    rank_label = glue(\n      \"{title}\\nRank: {language_rank}\"\n    )\n  )\n\ngeom_text()를 사용하여 이 새롭고 개선된 레이블을 플롯에 추가해 보겠습니다. plot_data 객체를 업데이트했으므로 데이터를 다시 전달해야 한다는 점에 유의하세요: \n\ntheme_plot2 +\n  geom_text(\n    data = plot_data,\n    mapping = aes(x = 1932, y = n, label = rank_label),\n    family = korean_font,\n    vjust = 0.5,\n    lineheight = 0.7,\n    hjust = 0,\n    size = 2.5,\n    color = main_col\n  )\n\n\n\n\n\n\nFigure 2.14: 각각 #, //, ;를 주석 기호로 사용하는 상위 10개 언어에 대해 언어 출현과 마지막 활동 사이의 시간을 보여주는 패면 덤벨 차트로, 언어와 순위를 나타내는 레이블이 추가되었습니다.\n\n\n\n\n그리고 우리는 끝났습니다!\n\n2.4.4 이미지 파일로 저장하기\nR로 만든 플롯을 나중에 프레젠테이션, 소셜 미디어, 출판물 또는 필요한 다른 곳에서 사용할 수 있도록 파일로 저장하는 데 사용할 수 있는 다양한 옵션이 있습니다: \n\nRStudio의 대화형 인터페이스를 사용하여 Plots 탭으로 이동한 다음 Export 및 Save as Image를 클릭할 수 있습니다. 이렇게 하면 원하는 파일 유형을 선택하고 크기를 설정하고 파일을 저장할 위치를 선택할 수 있는 팝업 창이 생성됩니다. 그러나 이 접근 방식은 저장하는 파일의 해상도(이미지 품질)를 설정할 수 없습니다.\n기본 R grDevices 패키지는 다양한 파일 형식으로 저장하기 위한 여러 함수를 제공합니다. 예를 들어 png() 함수를 사용하면 특정 높이, 너비 및 해상도로 PNG 파일을 저장할 수 있습니다. png() 함수에서 배경색과 같은 다른 인수를 설정할 수도 있습니다. ragg 패키지 (Pedersen and Shemanarev 2023)는 유사한 함수 세트를 제공합니다. 예를 들어 agg_png() 함수가 있습니다.\n\nggplot2를 사용하여 플롯을 만드는 경우 ggsave() 함수가 시각화를 파일로 저장하는 가장 쉬운 방법입니다. 도움말 파일에 자세히 나와 있듯이 기본적으로 현재 그래픽 장치의 크기를 사용하여 마지막으로 표시한 플롯을 저장합니다. 또한 확장자에서 그래픽 장치의 유형을 추측합니다.\n\n\nRStudio의 현재 그래픽 장치 크기를 사용하는 대신 특정 크기로 이미지를 저장하는 것이 좋습니다. 동일한 이미지를 다시 재현하기가 훨씬 쉬워집니다! 특정 종횡비를 원하는 경우 특정 값 대신 계산을 사용하여 ggsave()에서 너비와 높이를 설정할 수 있습니다: \n\nggsave(\n  filename = \"programming-languages.png\",\n  width = 5,\n  height = 0.67 * 5\n)\n\n기본적으로 너비와 높이는 인치 단위로 제공되며(unit 인수로 변경할 수 있음) 해상도(dpi 인수로 설정)는 300입니다. 최종 플롯을 R 변수에 저장했다면 객체를 먼저 인쇄하는 대신 ggsave()에 직접 전달할 수 있습니다:\n\nggsave(\n  filename = \"programming-languages.png\",\n  plot = final_plot,\n  width = 5,\n  height = 0.67 * 5\n)\n\n다른 R 패키지로 플롯을 만드는 경우 해당 패키지 중 일부에는 자체 내장 저장 함수가 함께 제공됩니다.\n이미지를 미리보기하는 해상도(예: 96dpi)와 다른 크기나 해상도(예: 300dpi)로 이미지를 저장하면 저장된 이미지가 예상과 다르게 보일 수 있습니다. 선과 텍스트가 예상보다 훨씬 얇거나 두껍게 보일 수 있습니다. ggsave()의 scale 인수 또는 ragg 함수 제품군의 scaling 인수는 이 문제를 처리하는 한 가지 옵션입니다. 이러한 인수는 선 및 텍스트 크기에 배율 인수를 적용하여 원하는 크기 및 해상도에서 플롯이 너무 작게(또는 크게) 나타나는 경우 플롯을 확대(또는 축소)할 수 있게 해줍니다. 이 문제를 처리하는 훨씬 더 쉬운 방법은 최종 이미지가 되기를 원하는 것과 동일한 크기 및 해상도로 플롯을 미리 보고 있는지 확인하는 것입니다. camcorder (Hughes 2022a) 패키지는 이 문제에 대한 해결책을 제공하며 Chapter 14 에서 사용 방법에 대해 자세히 읽을 수 있습니다.",
    "crumbs": [
      "일반적인 차트도 지루할 필요는 없습니다!",
      "<span class='chapter-number'>2</span>  <span class='chapter-title'>프로그래밍 언어: **`ggplot2`**를 이용한 덤벨 차트</span>"
    ]
  },
  {
    "objectID": "programming-languages.html#회고",
    "href": "programming-languages.html#회고",
    "title": "2  프로그래밍 언어: ggplot2를 이용한 덤벨 차트",
    "section": "\n2.5 회고",
    "text": "2.5 회고\n우리는 기본적으로 이 시각화를 끝냈지만, 얼마나 효과적인지에 대한 피드백을 받는 것은 유용합니다. 동료나 친구와 시각화를 공유하고 비평해 달라고 요청할 수 있습니다. 또는 비판적인 눈으로 자신의 작업을 되돌아볼 수 있습니다. 자신의 작업을 되돌아보는 것은 시각화를 잠시 그대로 둔 다음 다시 볼 때 종종 더 성공적입니다. 다시 돌아왔을 때 플롯 선택이 최선이었는지, 글꼴 크기를 조정해야 하는지, 아니면 다른 색상 구성표를 사용해야 하는지 생각해 보세요. 그렇다면 이 시각화의 어떤 요소를 더 개선할 수 있을까요?\n덤벨 차트를 사용하여 이와 같은 기간을 표시할 때 양쪽 끝의 점은 종종 시작 및 종료 시점으로 간주됩니다. 이 차트에서는 그것이 꽤 말이 되지 않습니다. 20년 전에 마지막으로 활성화되었고 공식적으로 더 이상 유지 관리되지 않는 프로그래밍 언어를 상상해 보세요. 그런 다음 지난주에 마지막으로 업데이트된 다른 언어를 상상해 보세요. 종료 시점(last_activity 표시)은 이 두 경우에 동일한 방식으로 표시됩니다. 여전히 활발하게 유지 관리되는 언어에 대해 개방형 덤벨을 사용하는 것이 데이터에서 실제로 일어나는 일을 더 잘 나타낼 수 있습니다.\n프로그래밍 언어의 이름과 순위를 보여주는 레이블은 읽기가 조금 어렵습니다. 각 레이블은 위 또는 아래 레이블과 충분히 구별되지 않습니다. 한 가지 옵션은 이미지의 크기를 변경하는 것입니다. 이미지를 더 길게 만들면 각 레이블 사이에 더 많은 공간이 생깁니다. 두 번째 옵션은 언어 이름을 약간 더 큰 굵은 글꼴로 만들고 순위를 그 아래에 약간 더 작은 글꼴로 만드는 것입니다. 이렇게 하면 20개가 아니라 10개의 레이블이 있다는 것이 더 명확해질 것입니다! Chapter 7 에서 ggtext 패키지를 사용하여 텍스트 레이블에 더 복잡한 서식을 추가하는 방법에 대해 논의할 것입니다.\n\n이 시각화의 원래 버전을 개발하는 과정에서 생성된 각 플롯은 camcorder를 사용하여 캡처되었으며 아래 gif에 표시됩니다. camcorder가 데이터 시각화 프로세스에서 어떻게 사용될 수 있는지 자세히 알고 싶다면 Section 14.1 를 참조하세요.",
    "crumbs": [
      "일반적인 차트도 지루할 필요는 없습니다!",
      "<span class='chapter-number'>2</span>  <span class='chapter-title'>프로그래밍 언어: **`ggplot2`**를 이용한 덤벨 차트</span>"
    ]
  },
  {
    "objectID": "programming-languages.html#연습-문제",
    "href": "programming-languages.html#연습-문제",
    "title": "2  프로그래밍 언어: ggplot2를 이용한 덤벨 차트",
    "section": "\n2.6 연습 문제",
    "text": "2.6 연습 문제\n\n2023년에 마지막으로 활동한 언어에 대해 개방형 덤벨을 사용하세요. 즉, 닫는 점을 플롯하지 마세요.\n이 세 가지 주석 기호에 대한 상위 10위 언어를 표시하는 대신 각 기호를 사용하는 모든 언어를 표시하는 시각화를 다시 만드세요.\n\n\n\n\n\nAnscombe, F. J. 1973. “Graphs in Statistical Analysis.” The American Statistician 27 (1): 17–21. https://doi.org/10.1080/00031305.1973.10478966.\n\n\nAphalo, Pedro J. 2024. Learn R: As a Language. Second Edition. CRC Press. https://www.learnr-book.info/.\n\n\nAuguie, Baptiste. 2019. egg: Extensions for ’ggplot2’: Custom Geom, Custom Themes, Plot Alignment, Labelled Panels, Symmetric Scales, and Fixed Panel Size. https://CRAN.R-project.org/package=egg.\n\n\nBarthelme, Simon. 2024. imager: Image Processing Library Based on ’CImg’. https://CRAN.R-project.org/package=imager.\n\n\nBrand, Teun van den. 2025. “ggplot2 4.0.0.” https://www.tidyverse.org/blog/2025/09/ggplot2-4-0-0/.\n\n\nBridson, Robert. 2007. “Fast Poisson Disk Sampling in Arbitrary Dimensions.” In ACM SIGGRAPH 2007 Sketches. SIGGRAPH ’07. New York, NY, USA: Association for Computing Machinery. https://doi.org/10.1145/1278780.1278807.\n\n\nBrown, Mark J.F., and Paxton, Robert J. 2009. “The Conservation of Bees: A Global Perspective.” Apidologie 40 (3): 410–16. https://doi.org/10.1051/apido/2009019.\n\n\nCameron, Allan, and Teun van den Brand. 2024. geomtextpath: Curved Text in ’ggplot2’. https://CRAN.R-project.org/package=geomtextpath.\n\n\nCARTO. 2016. ’CARTOColors’ Palettes. https://carto.com/carto-colors/.\n\n\nChang, Winston. 2023. extrafont: Tools for Using Fonts. https://CRAN.R-project.org/package=extrafont.\n\n\nCheung, Foo. 2021. dumbbell: Displaying Changes Between Two Points Using Dumbbell Plots. https://CRAN.R-project.org/package=dumbbell.\n\n\nCowgill, Matt, and John Helveston. 2021. ggannotate: Interactively Annotate ggplot2 Plots. https://github.com/MattCowgill/ggannotate.\n\n\nCsárdi, Gábor, and Jim Hester. 2024. pak: Another Approach to Package Installation. https://CRAN.R-project.org/package=pak.\n\n\nCsárdi, Gábor, Jim Hester, Hadley Wickham, Winston Chang, Martin Morgan, and Dan Tenenbaum. 2024. remotes: R Package Installation from Remote Repositories, Including ’GitHub’. https://CRAN.R-project.org/package=remotes.\n\n\nDomin, Iaroslav. 2024. ggview: ’ggplot2’ Picture Previewer. https://CRAN.R-project.org/package=ggview.\n\n\nEngler, Jan Broder. 2024. “Tidyplots Empowers Life Scientists with Easy Code-Based Data Visualization.” bioRxiv. https://doi.org/10.1101/2024.11.08.621836.\n\n\nFC, Mike, Trevor L. Davis, and ggplot2 authors. 2024. ggpattern: ’ggplot2’ Pattern Geoms. https://CRAN.R-project.org/package=ggpattern.\n\n\nFlaticon.com. 2024. “Wind Power Flaticon.” https://www.flaticon.com/free-icon/wind-power_5670189.\n\n\nFont Awesome. 2024. “Font Awesome 6.” https://fontawesome.com/.\n\n\nFranconeri, Steven L., Lace M. Padilla, Priti Shah, Jeffrey M. Zacks, and Jessica Hullman. 2021. “The Science of Visual Data Communication: What Works.” Psychological Science in the Public Interest 22 (3): 110–61. https://doi.org/10.1177/15291006211051956.\n\n\nGarnier, Simon, Ross, Noam, Rudis, Robert, Camargo, et al. 2024. viridis(Lite) - Colorblind-Friendly Color Maps for R. https://doi.org/10.5281/zenodo.4679423.\n\n\nGohel, David, and Panagiotis Skintzos. 2024. ggiraph: Make ’ggplot2’ Graphics Interactive. https://CRAN.R-project.org/package=ggiraph.\n\n\nGovernment Analysis Function. 2021. “Data Visualisation: Colours.” https://analysisfunction.civilservice.gov.uk/policy-store/data-visualisation-colours-in-charts/.\n\n\nHafen, Ryan. 2023. geofacet: ’ggplot2’ Faceting Utilities for Geographical Data. https://CRAN.R-project.org/package=geofacet.\n\n\nHarmon, Jon. 2024. Web APIs with R. CRC Press. https://wapir.io/.\n\n\nHester, Jim, Florent Angly, Russ Hyde, Michael Chirico, Kun Ren, Alexander Rosenstock, and Indrajeet Patil. 2024. lintr: A ’Linter’ for R Code. https://CRAN.R-project.org/package=lintr.\n\n\nHester, Jim, and Jennifer Bryan. 2024. glue: Interpreted String Literals. https://glue.tidyverse.org/.\n\n\nHughes, Ellis. 2022a. camcorder: Record Your Plot History. https://CRAN.R-project.org/package=camcorder.\n\n\n———. 2022b. tidytuesdayR: Access the Weekly ’TidyTuesday’ Project Dataset. https://CRAN.R-project.org/package=tidytuesdayR.\n\n\nHvitfeldt, Emil. 2021. paletteer: Comprehensive Collection of Color Palettes. https://github.com/EmilHvitfeldt/paletteer.\n\n\n———. 2025. animalshelter: Animal Shelter Data. https://github.com/EmilHvitfeldt/animalshelter.\n\n\nIannone, Richard. 2024. fontawesome: Easily Work with ’Font Awesome’ Icons. https://CRAN.R-project.org/package=fontawesome.\n\n\nInternet Assigned Numbers Authority. 2023. “The tz Database: Time Zone and Daylight Saving Time Data.” Internet Assigned Numbers Authority. https://data.iana.org/time-zones/tz-link.html.\n\n\nJax (@lysrix). 2017. “Lemur.” https://unsplash.com/photos/red-and-white-rodent-h5xrh3CNT-k.\n\n\nKays, R., R. R. Dunn, A. W. Parsons, B. Mcdonald, T. Perkins, S. A. Powers, L. Shell, et al. 2020. “The Small Home Ranges and Large Local Ecological Impacts of Pet Cats.” Animal Conservation 23 (5): 516–23. https://doi.org/10.1111/acv.12563.\n\n\nKeyes, David. 2024. R for the Rest of Us: A Statistics-Free Introduction. No Starch Press. https://book.rfortherestofus.com/.\n\n\nLong Beach Animal Shelter. 2025. “Animal Shelter Data.” City of Long Beach Animal Care Services. https://data.longbeach.gov/explore/dataset/animal-shelter-intakes-and-outcomes/information/.\n\n\nLucchesi, Lydia, and Petra Kuhnert. 2020. Vizumap: Visualizing Uncertainty in Spatial Data. https://github.com/lydialucchesi/Vizumap.\n\n\nMapping Museums. 2021. “Mapping Museums Data.” www.mappingmuseums.org.\n\n\nMassicotte, Philippe, and Andy South. 2023. rnaturalearth: World Map Data from Natural Earth. https://docs.ropensci.org/rnaturalearth/.\n\n\nMatejka, Justin, and George Fitzmaurice. 2017. “Same Stats, Different Graphs: Generating Datasets with Varied Appearance and Identical Statistics Through Simulated Annealing.” In, 1290–94. https://doi.org/10.1145/3025453.3025912.\n\n\nMcDonald, J. L., and H. Cole. 2020. “Data from: The Small Home Ranges and Large Local Ecological Impacts of Pet Cats [United Kingdom].” Movebank data repository. https://doi.org/doi:10.5441/001/1.pf315732.\n\n\nMcWhite, Claire D., and Claus O. Wilke. 2024. colorblindr: Simulate colorblindness in R figures. https://github.com/clauswilke/colorblindr.\n\n\nMid-Atlantic Apiculture Research and Extension Consortium. 2024. “Seasonal Cycles of Activities in Colonies.” https://canr.udel.edu/maarec/honey-bee-biology/seasonal-cycles-of-activities-in-colonies/.\n\n\nmikefc. 2024. poissoned: Tileable Poisson Disc Sampling. https://github.com/coolbutuseless/poissoned.\n\n\nMills, Blake Robert. 2022. MetBrewer: Color Palettes Inspired by Works at the Metropolitan Museum of Art. https://CRAN.R-project.org/package=MetBrewer.\n\n\nMIT Election Data and Science Lab. 2017. “U.S. House 1976–2022.” Harvard Dataverse. https://doi.org/10.7910/DVN/IG0UN2.\n\n\nMüller, Kirill, and Lorenz Walthert. 2023. styler: Non-Invasive Pretty Printing of R Code. https://CRAN.R-project.org/package=styler.\n\n\nMüller, Kirill, and Hadley Wickham. 2023. tibble: Simple Data Frames. https://CRAN.R-project.org/package=tibble.\n\n\nMuth, Lisa. 2018. “An Alternative to Pink & Blue: Colors for Gender Data.” https://blog.datawrapper.de/gendercolor/.\n\n\nNatural Resources Canada. 2021. “Canadian Wind Turbine Database.” Natural Resources Canada (Government of Canada). https://open.canada.ca/data/en/dataset/79fdad93-9025-49ad-ba16-c26d718cc070.\n\n\nNoblet, Guillaume. 2025. ggbranding: Add Personal Branding to ’ggplot2’ Charts. https://github.com/gnoblet/ggbranding.\n\n\nNowosad, Jakub. 2018. ’CARTOColors’ Palettes. https://jakubnowosad.com/rcartocolor/.\n\n\nOoms, Jeroen. 2024. magick: Advanced Graphics and Image-Processing in R. https://CRAN.R-project.org/package=magick.\n\n\nOur World in Data. 2019. “Medical Doctors Per 1,000 People.” https://ourworldindata.org/grapher/physicians-per-1000-people.\n\n\nPebesma, Edzer. 2018. “Simple Features for R: Standardized Support for Spatial Vector Data.” The R Journal 10 (1): 439–46. https://doi.org/10.32614/RJ-2018-009.\n\n\nPedersen, Thomas Lin. 2022. ggforce: Accelerating ’ggplot2’. https://CRAN.R-project.org/package=ggforce.\n\n\n———. 2024. patchwork: The Composer of Plots. https://CRAN.R-project.org/package=patchwork.\n\n\n———. 2025. “Fonts in R.” https://www.tidyverse.org/blog/2025/05/fonts-in-r/.\n\n\nPedersen, Thomas Lin, and Martin Mitáš. 2024. marquee: Markdown Parser and Renderer for R Graphics. https://CRAN.R-project.org/package=marquee.\n\n\nPedersen, Thomas Lin, Jeroen Ooms, and Devon Govett. 2024. systemfonts: System Native Font Finding. https://CRAN.R-project.org/package=systemfonts.\n\n\nPedersen, Thomas Lin, and Maxim Shemanarev. 2023. ragg: Graphic Devices Based on AGG. https://CRAN.R-project.org/package=ragg.\n\n\nPLDB contributors. 2022. “PLDB: A Programming Language Database.” PLDB. https://pldb.com.\n\n\nQiu, Yixuan. 2022. sysfonts: Loading Fonts into R. https://CRAN.R-project.org/package=sysfonts.\n\n\n———. 2023. showtext: Using Fonts More Easily in R Graphs. https://CRAN.R-project.org/package=showtext.\n\n\nR Core Team. 2024. R: A Language and Environment for Statistical Computing. Vienna, Austria: R Foundation for Statistical Computing. https://www.R-project.org/.\n\n\nR4DS Online Learning Community. 2023. “Tidy Tuesday: A Weekly Social Data Project.” https://github.com/rfordatascience/tidytuesday.\n\n\nRennie, Nicola. 2023a. “Adding Social Media Icons to Charts with ggplot2.” https://nrennie.rbind.io/blog/adding-social-media-icons-ggplot2/.\n\n\n———. 2023b. “Creating Template Files with R.” https://nrennie.rbind.io/blog/script-templates-r/.\n\n\n———. 2023c. “Four Ways to Streamline Your R Workflows.” https://nrennie.rbind.io/blog/four-ways-streamline-r-workflows/.\n\n\n———. 2024a. ggtextcircle: Circular Text in ’ggplot2’. https://github.com/nrennie/ggtextcircle.\n\n\n———. 2024b. nobel: Access data from the Nobel Prize API via R. https://github.com/nrennie/nobel.\n\n\n———. 2024c. “tidytuesday.” GitHub Repository. GitHub. https://github.com/nrennie/tidytuesday.\n\n\nRennie, Nicola, and Andreas Krause. 2024. “Presenting data the Significance way - Part 1.” Significance 21 (3): 36–39. https://doi.org/10.1093/jrssig/qmae045.\n\n\nReynolds, Gina. 2025. “Everyday ggplot2 extension.” https://evamaerey.github.io/everyday_ggplot2_extension/.\n\n\nRStudio. 2018a. “forcats Hex Sticker.” https://github.com/rstudio/hex-stickers/blob/main/PNG/forcats.png.\n\n\n———. 2018b. “ggplot2 Hex Sticker.” https://github.com/rstudio/hex-stickers/blob/main/PNG/ggplot2.png.\n\n\n———. 2018c. “purrr Hex Sticker.” https://github.com/rstudio/hex-stickers/blob/main/PNG/purrr.png.\n\n\n———. 2018d. “readr Hex Sticker.” https://github.com/rstudio/hex-stickers/blob/main/PNG/readr.png.\n\n\n———. 2018e. “tibble Hex Sticker.” https://github.com/rstudio/hex-stickers/blob/main/PNG/tibble.png.\n\n\n———. 2020a. “dplyr Hex Sticker.” https://github.com/rstudio/hex-stickers/blob/main/PNG/dplyr.png.\n\n\n———. 2020b. “stringr Hex Sticker.” https://github.com/rstudio/hex-stickers/blob/main/PNG/stringr.png.\n\n\n———. 2020c. “tidyr Hex Sticker.” https://github.com/rstudio/hex-stickers/blob/main/PNG/tidyr.png.\n\n\nRudis, Bob, Ben Bolker, and Jan Schulz. 2017. ggalt: Extra Coordinate Systems, ’Geoms’, Statistical Transformations, Scales and Fonts for ’ggplot2’. https://CRAN.R-project.org/package=ggalt.\n\n\nRudis, Bob, and Dave Gandy. 2023. waffle: Create Waffle Chart Visualizations. https://CRAN.R-project.org/package=waffle.\n\n\nSarkar, Deepayan. 2008. Lattice: Multivariate Data Visualization with r. New York: Springer. http://lmdvr.r-forge.r-project.org.\n\n\nSchauberger, Philipp, and Alexander Walker. 2023. openxlsx: Read, Write and Edit xlsx Files. https://CRAN.R-project.org/package=openxlsx.\n\n\nScheuch, Christoph. 2025. owidapi: Access the Our World in Data Chart API. https://doi.org/10.32614/CRAN.package.owidapi.\n\n\nSchloerke, Barret, Di Cook, Joseph Larmarange, Francois Briatte, Moritz Marbach, Edwin Thoen, Amos Elberg, and Jason Crowley. 2024. GGally: Extension to ’ggplot2’. https://CRAN.R-project.org/package=GGally.\n\n\nSchloss, Karen B., Connor C. Gramazio, Allison T. Silverman, Madeline L. Parker, and Audrey S. Wang. 2019. “Mapping Color to Meaning in Colormap Data Visualizations.” IEEE Transactions on Visualization and Computer Graphics 25 (1): 810–19. https://doi.org/10.1109/TVCG.2018.2865147.\n\n\nShalloway, Bryan. 2023. funspotr: Spot R Functions & Packages. https://CRAN.R-project.org/package=funspotr.\n\n\nSievert, Carson. 2020. Interactive Web-Based Data Visualization with r, Plotly, and Shiny. Chapman; Hall/CRC. https://plotly-r.com.\n\n\nSlowikowski, Kamil. 2024. ggrepel: Automatically Position Non-Overlapping Text Labels with ’ggplot2’. https://CRAN.R-project.org/package=ggrepel.\n\n\nTierney, Nicholas. 2017. “visdat: Visualising Whole Data Frames.” JOSS 2 (16): 355. https://doi.org/10.21105/joss.00355.\n\n\nTierney, Nicholas, and Dianne Cook. 2023. “Expanding Tidy Data Principles to Facilitate Missing Data Exploration, Visualization and Assessment of Imputations.” Journal of Statistical Software 105 (7): 1–31. https://doi.org/10.18637/jss.v105.i07.\n\n\nTol, Paul. 2021. “Paul Tol’s Notes: Colour schemes and templates.” https://sronpersonalpages.nl/~pault/.\n\n\nUnited States Census Bureau. 2021a. “Historical Population Change Data (1910-2020).” https://www.census.gov/data/tables/time-series/dec/popchange-data-text.html.\n\n\n———. 2021b. “State Area Measurements and Internal Point Coordinates.” https://www.census.gov/geographies/reference-files/2010/geo/state-area.html.\n\n\nUnited States Department of Agriculture: Economics, Statistics and Market Information System. 2022. “Honey Bee Colonies.” USDA Economics, Statistics and Market Information System. https://usda.library.cornell.edu/concern/publications/rn301137d.\n\n\nWalker, Kyle. 2022. crsuggest: Obtain Suggested Coordinate Reference System Information for Spatial Data. https://CRAN.R-project.org/package=crsuggest.\n\n\nWanzer, Dana Linnell, Tarek Azzam, Natalie D. Jones, and Darrel Skousen. 2021. “The Role of Titles in Enhancing Data Visualization.” Evaluation and Program Planning 84: 101896. https://doi.org/10.1016/j.evalprogplan.2020.101896.\n\n\nWickham, Hadley. 2016. ggplot2: Elegant Graphics for Data Analysis. Springer-Verlag New York. https://ggplot2.tidyverse.org.\n\n\n———. 2023a. forcats: Tools for Working with Categorical Variables (Factors). https://doi.org/10.32614/CRAN.package.forcats.\n\n\n———. 2023b. stringr: Simple, Consistent Wrappers for Common String Operations. https://CRAN.R-project.org/package=stringr.\n\n\nWickham, Hadley, Mara Averick, Jennifer Bryan, Winston Chang, Lucy D’Agostino McGowan, Romain François, Garrett Grolemund, et al. 2019. “Welcome to the tidyverse.” Journal of Open Source Software 4 (43): 1686. https://doi.org/10.21105/joss.01686.\n\n\nWickham, Hadley, and Jennifer Bryan. 2023. readxl: Read Excel Files. https://CRAN.R-project.org/package=readxl.\n\n\nWickham, Hadley, Mine Çetinkaya-Rundel, and Garrett Grolemund. 2023. R for Data Science. Second Edition. O-Reilly. https://r4ds.hadley.nz.\n\n\nWickham, Hadley, Romain François, Lionel Henry, Kirill Müller, and Davis Vaughan. 2023. dplyr: A Grammar of Data Manipulation. https://CRAN.R-project.org/package=dplyr.\n\n\nWickham, Hadley, and Lionel Henry. 2023. purrr: Functional Programming Tools. https://CRAN.R-project.org/package=purrr.\n\n\nWickham, Hadley, Jim Hester, and Jennifer Bryan. 2024. readr: Read Rectangular Text Data. https://CRAN.R-project.org/package=readr.\n\n\nWickham, Hadley, Thomas Lin Pedersen, and Dana Seidel. 2023. scales: Scale Functions for Visualization. https://CRAN.R-project.org/package=scales.\n\n\nWickham, Hadley, Davis Vaughan, and Maximilian Girlich. 2024. tidyr: Tidy Messy Data. https://CRAN.R-project.org/package=tidyr.\n\n\nWilke, Claus. 2022. ggtextures: Drawing Textured Rectangles and Bars with grid and ggplot2. https://github.com/clauswilke/ggtextures.\n\n\nWilke, Claus O. 2024. cowplot: Streamlined Plot Theme and Plot Annotations for ’ggplot2’. https://wilkelab.org/cowplot/.\n\n\nWilke, Claus O., and Brenton M. Wiernik. 2022. ggtext: Improved Text Rendering Support for ’ggplot2’. https://CRAN.R-project.org/package=ggtext.\n\n\nwww.nobelprize.org. 2024. “Nobel Prize API Version 2.1.” https://api.nobelprize.org/2.1/laureates.\n\n\nYork, Piers. 2023. owidR: Import Data from Our World in Data. https://github.com/piersyork/owidR.\n\n\nYu, Guangchuang. 2023. ggimage: Use Image in ’ggplot2’. https://CRAN.R-project.org/package=ggimage.\n\n\nYutani, Hiroaki. 2023. gghighlight: Highlight Lines and Points in ’ggplot2’. https://CRAN.R-project.org/package=gghighlight.\n\n\nZehr, Sarah M., Richard G. Roach, David Haring, Julie Taylor, Freda H. Cameron, and Anne D. Yoder. 2014. “Life history profiles for 27 strepsirrhine primate taxa generated using captive data from the Duke Lemur Center.” Scientific Data 1 (1). https://doi.org/10.1038/sdata.2014.19.",
    "crumbs": [
      "일반적인 차트도 지루할 필요는 없습니다!",
      "<span class='chapter-number'>2</span>  <span class='chapter-title'>프로그래밍 언어: **`ggplot2`**를 이용한 덤벨 차트</span>"
    ]
  },
  {
    "objectID": "museums.html",
    "href": "museums.html",
    "title": "3  영국 박물관: gghighlight로 선형 차트 강조하기",
    "section": "",
    "text": "3.1 데이터\n이 장에서는 시간이 지남에 따라 변하는 데이터를 시각화하는 다양한 방법을 고려하여 스파게티 차트(spaghetti charts)를 피하고, 대신 데이터의 부분집합을 강조하여 추세와 관계를 더 잘 보여주는 것을 목표로 합니다.\n이 장을 마치면 다음을 할 수 있게 됩니다:\n이 장에서 필요한 패키지를 로드하는 것으로 시작합니다.\n이 장에서 처음으로 살펴볼 새로운 패키지는 다음과 같습니다:\nMapping Museums 프로젝트 (Mapping Museums 2021)는 1960년 이후 영국의 4,000개 이상의 박물관과 관련된 데이터를 수집했습니다. 데이터는 Mapping Museums 웹사이트 museweb.dcs.bbk.ac.uk에서 다운로드할 수 있습니다. 이 데이터는 2022년 11월에 TidyTuesday (R4DS Online Learning Community 2023) 데이터 셋으로도 사용되었으며(Tom Mock의 제안에 따라), 이 장에서는 해당 버전을 사용할 것입니다.\ntidytuesdayR R 패키지 (Hughes 2022b)를 사용하여 데이터를 읽고 변수의 정의를 살펴보는 것으로 시작하겠습니다:\ntuesdata &lt;- tt_load(\"2022-11-22\")\nmuseums &lt;- tuesdata$museums\n데이터에는 4191개 박물관에 대한 35개 변수 정보가 포함되어 있습니다. 첫 번째 museum_id 열 다음의 8개 열은 주소 및 좌표를 포함한 박물관 위치에 대한 정보를 제공합니다. 다음 열 세트에는 인증된 박물관인지, 운영 방식, 보유 아이템 유형, 개장 시기 등 박물관에 대한 정보가 제공됩니다. 이는 수집된 데이터 셋이므로 일부 변수에 대해서는 데이터의 원본 소스에 대한 정보도 제공됩니다. 나머지 열은 박물관이 위치한 지역에 대한 정보를 제공하며, 여기에는 다양한 박탈 지수(deprivation indices) 및 지리 인구학적 그룹(지역 유형, 예: \"University Towns and Cities\")에 대한 정보가 포함됩니다. 사용된 용어에 대한 전체 용어집은 Mapping Museums 웹사이트 museweb.dcs.bbk.ac.uk/glossary에서 찾을 수 있습니다.",
    "crumbs": [
      "일반적인 차트도 지루할 필요는 없습니다!",
      "<span class='chapter-number'>3</span>  <span class='chapter-title'>영국 박물관: **`gghighlight`**로 선형 차트 강조하기</span>"
    ]
  },
  {
    "objectID": "museums.html#탐색적-작업",
    "href": "museums.html#탐색적-작업",
    "title": "3  영국 박물관: gghighlight로 선형 차트 강조하기",
    "section": "\n3.2 탐색적 작업",
    "text": "3.2 탐색적 작업\n이 변수들이 어떤 모습인지 탐색해 봅시다!\n\n3.2.1 데이터 탐색\n이 데이터에는 검사할 수 있는 다양한 측면이 있습니다:\n\n박물관은 영국 전역에 어떻게 분포되어 있나요? 더 부유한 지역에 박물관이 더 많이 집중되어 있나요?\n영국에서 가장 널리 퍼진 박물관 유형은 무엇인가요? 박물관의 인증 여부에 따라 달라지나요?\n운영 중인 박물관 수는 시간이 지남에 따라 어떻게 변하고 있나요? 문을 닫는 것보다 더 많은 박물관이 개관하고 있나요?\n\nDOMUS_Subject_Matter와 같은 일부 변수에는 결측값이 상당히 많아 시각화하고 해석하기가 더 어렵습니다. 이러한 열은 확실히 추가 탐색이 필요하지만 지금은 무시하겠습니다.\n박탈 지수(8가지 다른 변수)에 대한 풍부한 정보를 고려할 때, 이것이 가장 먼저 눈에 띄는 데이터 측면입니다. 박물관 수는 박탈 지수에 따라 어떻게 달라질까요?\n\nbarplot(table(museums$Area_Deprivation_index))\n\n\n\n\n\n\nFigure 3.1: 박탈 수준별 박물관 수 막대 차트. 5와 6 수준에서 박물관 수가 더 많습니다.\n\n\n\n\n여기서 1은 가장 박탈된 지역이고 10은 가장 덜 박탈된 지역입니다. 이것은 꽤 흥미로운 관계입니다. 더 높거나 낮은 수준에 비해 중간 수준의 박탈 지역에 더 많은 박물관이 있었습니다. 이것은 약간 직관에 반하는 것처럼 느껴질 수 있습니다. 더 부유한 지역에 박물관이 더 많을 것으로 예상할 수 있기 때문입니다.\n\n\n\n\n\n\nTip 3.1: 대안 그래픽 패키지\n\n\n\n이 책은 ggplot2(및 다양한 확장 패키지)로 그래픽을 구축하고 기본 데이터 탐색을 위해 기본 R 그래픽을 사용하는 데 중점을 둡니다. 그러나 이것들이 R에서 플롯을 만드는 데 사용할 수 있는 유일한 두 가지 그래픽 시스템은 아닙니다. \n많은 대안 중 몇 가지만 소개합니다:\n\nlattice (Sarkar 2008): 트렐리스 그래픽(trellis graphics) (작은 다중 차트 또는 패면 플롯이라고도 함)을 만들기 위한 프레임워크를 제공합니다.\ntidyplots (Engler 2024): 과학 논문용 출판 준비가 된 플롯을 더 쉽게 만들 수 있도록 하는 새로운 그래픽 패키지입니다. 다양한 함수를 파이프로 연결하고 통계적 요약을 더 쉽게 추가할 수 있습니다. 또한 기존 ggplot2 함수와 통합됩니다.\n\n대화형 시각화를 위한 패키지는 Chapter 13 에서도 논의됩니다.\n\n\nFigure 3.1 에서 박탈 지수별 총 박물관 수를 살펴보는 것만으로는 전체 이야기를 알 수 없습니다. 이 박물관 중 한 번에 몇 개가 문을 열었습니까? 오늘날에도 여전히 운영 중인 박물관은 몇 개입니까? 박탈과 박물관 수 사이의 관계를 더 잘 이해하기 위해 1960년(데이터 셋의 가장 이른 날짜) 이후 각 박탈 지수별로 박물관 수가 어떻게 변했는지 살펴볼 수 있습니다. 그러면 더 많이 개관하는지 폐관하는지, 그리고 이것이 다양한 박탈 수준에 따라 어떻게 달라지는지 알 수 있을 것입니다.\n\n3.2.2 탐색적 스케치\n박탈의 10 분위수가 있으므로 시간 경과에 따른 박물관 수를 보여주는 10개의 시계열을 플로팅하려고 합니다. 이와 같은 시계열을 플로팅하는 데는 다양한 옵션이 있습니다. 몆 가지 다른 선택에 대해 생각해야 합니다:\n\n어떤 유형의 기하학적 형태(geometry)를 사용할 것인가? 선, 점, 음영 영역? 선은 시계열 데이터에 가장 일반적인 접근 방식입니다.\n10개의 선을 모두 같은 차트에 플로팅하고 색상을 사용하여 다른 박탈 수준을 나타낼 것인가?\n아니면 패면 분류(faceting)를 사용하여 박탈 지수별로 여러 개의 작은 플롯으로 나눌 것인가?\n\n선형 차트를 사용하고 박탈 지수별로 패면 분류를 한다면 다음과 같은 모습일 것입니다:\n\n\n\n\n\nFigure 3.2: Initial sketch of a faceted line chart showing change over time for each level of deprivation.\n\n\n우리는 ggplot2의 geom_line()과 facet_wrap()을 사용하여 이와 같은 플롯을 만들 수 있습니다 . 우리는 Chapter 2 에서 패면 분류에 대해 이야기했지만 그 패면의 레이아웃에 대해서는 많이 생각하지 않았습니다. Chapter 2 에서는 3개의 범주만 있는 패면 분류를 사용했는데, 레이아웃 선택이 꽤 분명했습니다(한 열 또는 한 행). 여기서는 유연성이 조금 더 있으며 레이아웃을 제어하는 것에 대해 생각하고 싶을 수 있습니다.\n기본 옵션에 맡기면 ggplot2는 일반적으로 정사각형 모양으로 강제하려고 시도합니다. 여기서는 10개의 플롯(10개 수준의 박탈에 대해)과 2개의 빈 공간으로 채워진 3x4 그리드를 제공할 가능성이 큽니다. 항상 가능한 것은 아니지만 빈 공간이 없는 플롯이 훨씬 더 깨끗하고 정돈되어 보이는 경우가 많습니다. 작은 다중 플롯을 완벽한 직사각형에 맞추기 위해 5x2(또는 2x5) 그리드나 10x1(또는 1x10) 그리드를 수행할 수 있습니다. 매우 넓지만 매우 짧은 플롯을 만들고 싶지 않기 때문에 여기서는 5x2 그리드가 더 잘 작동합니다.",
    "crumbs": [
      "일반적인 차트도 지루할 필요는 없습니다!",
      "<span class='chapter-number'>3</span>  <span class='chapter-title'>영국 박물관: **`gghighlight`**로 선형 차트 강조하기</span>"
    ]
  },
  {
    "objectID": "museums.html#플롯-준비하기",
    "href": "museums.html#플롯-준비하기",
    "title": "3  영국 박물관: gghighlight로 선형 차트 강조하기",
    "section": "\n3.3 플롯 준비하기",
    "text": "3.3 플롯 준비하기\n이제 이 플롯을 만들기 위해 데이터를 준비해 봅시다!\n\n3.3.1 데이터 랭글링\n이것은 매우 현실적인 데이터셋 중 하나입니다. 데이터 랭글링이 간단하지 않습니다. 사실, 개관 및 폐관 날짜와 관련된 두 열은 가장 많은 주의가 필요한 두 열입니다.\n먼저, dplyr의 select() 함수를 사용하여 실제로 필요하지 않은 열을 삭제합시다 - 매년 운영 중인 박물관 수를 계산하려면 Year_opened, Year_closed, Area_Deprivation_index 열만 필요합니다 . Area_Deprivation_index 열에 몇 개의 NA 값이 있으므로 tidyr의 drop_na()를 사용하여 해당 행을 삭제합니다 .\n이제 연도 열을 처리하기 시작해 봅시다. 값을 보면 연도 열에서 기대하는 것과 정확히 같지는 않다는 것을 알 수 있습니다:\n\nhead(museums$Year_opened, 4)\n\n[1] \"2012:2012\" \"1971:1971\" \"1984:1984\" \"1971:1971\"\n\nhead(museums$Year_closed, 4)\n\n[1] \"9999:9999\" \"2007:2017\" \"9999:9999\" \"2012:2012\"\n\n\n각 항목은 실제로 :으로 구분된 두 연도입니다. Mapping Museums 용어집에 따르면 이는 실제로 날짜 범위(date ranges)이기 때문입니다. 일부 박물관의 경우 정확한 개관 또는 폐관 날짜를 확정할 수 없었으며, 대신 부분적인 정보를 기반으로 날짜 범위가 제공됩니다. 예를 들어 \"2007:2017\" 값은 박물관이 2007년에서 2017년 사이에 개관(또는 폐관)했음을 의미합니다.\ntidyr의 separate_wider_delim() 함수를 사용하여 이 연도 값을 두 개 대신 네 개의 열로 분리해 봅시다 . :을 기준으로 분리하고 Year_opened 열에서 opened1과 opened2라는 두 개의 새 열을 만듭니다. Year_closed 열에 대해서도 동일한 작업을 수행합니다. 또한 이 새 열이 문자 열이 아닌 숫자 열인지 확인하고 싶으므로 dplyr의 mutate()와 across()를 사용하여 as.numeric()으로 변환합니다 . 또한 Area_Deprivation_index를 숫자가 아닌 팩터(factor)로 변환하고 순서가 올바른지 확인할 수 있습니다.\n\nmuseum_subset &lt;- museums |&gt;\n  select(\n    Year_opened, Year_closed, Area_Deprivation_index\n  ) |&gt;\n  drop_na() |&gt;\n  separate_wider_delim(\n    Year_opened,\n    delim = \":\",\n    names = c(\"opened1\", \"opened2\")\n  ) |&gt;\n  separate_wider_delim(\n    Year_closed,\n    delim = \":\",\n    names = c(\"closed1\", \"closed2\")\n  ) |&gt;\n  mutate(\n    across(\n      c(opened1, opened2, closed1, closed2), as.numeric\n    ),\n    Area_Deprivation_index = factor(\n      Area_Deprivation_index,\n      levels = 1:10\n    )\n  )\n\n\n\n\n\n\n\nTip 3.2: tidyr의 separate() 사용\n\n\n\ntidyr의 이전 버전에서는 separate_wider_delim() 대신 separate() 함수가 사용되었을 것입니다. separate() 함수는 이제 대체되었습니다. \n\n\n이제 이 모든 연도 열을 처리하는 방법에 대해 생각해야 합니다:\n\n\n: 앞의 날짜와 : 뒤의 날짜가 같으면 정확한 연도로 취급하고 하나의 값만 유지하려고 합니다.\n날짜가 일치하지 않으면 어떤 연도를 사용할지 선택하는 방법을 결정해야 합니다. 가장 간단한 접근 방식은 날짜 범위의 중간 지점을 취하는 것입니다.\n\nYear_closed 열의 값이 \"9999:9999\"이면 박물관이 여전히 운영 중임을 의미합니다.\n\n이 문제 중 마지막 문제부터 시작해 봅시다. closed1 및 closed2 열의 경우 값이 \"9999\"이면 NA_real_ 값으로 변환합니다. dplyr의 mutate(), across(), if_else()를 조합하여 이를 수행할 수 있습니다 .\n나머지 두 문제는 dplyr의 case_when()을 사용하여 동시에 처리할 수 있습니다 . 다음과 같은 closed라는 새 열을 만들 수 있습니다:\n\n\nclosed1과 closed2가 같으면 이 같은 값을 취합니다;\n\nclosed1과 closed2가 같지 않으면 중간 값을 취합니다(정수 연도 값만 사용하도록 반올림).\n\n동일한 접근 방식이 opened라는 또 다른 새 열을 만드는 데 적용됩니다. 데이터에는 폐관 날짜 중 하나가 NA이지만 다른 하나는 아닌 경우가 없으므로 걱정할 필요가 없습니다. 또한 필요하지 않은 열을 삭제하고, Area_Deprivation_index를 좀 더 짧고 작업하기 쉬운 이름으로 변경하고, 박탈 수준별로 데이터를 정렬하여 출력을 정리할 수 있습니다. \n\nmuseum_data &lt;- museum_subset |&gt;\n  mutate(across(\n    c(closed1, closed2),\n    ~ if_else(.x == 9999, NA_real_, .x)\n  )) |&gt;\n  mutate(closed = case_when(\n    closed1 == closed2 ~ closed1,\n    closed1 != closed2 ~ round((closed2 + closed1) / 2)\n  )) |&gt;\n  mutate(opened = case_when(\n    opened1 == opened2 ~ opened1,\n    opened1 != opened2 ~ round((opened2 + opened1) / 2)\n  )) |&gt;\n  select(Area_Deprivation_index, opened, closed) |&gt;\n  rename(deprivation = Area_Deprivation_index) |&gt;\n  arrange(deprivation)\n\n그러면 다음과 같은 데이터가 생성됩니다:\n\nhead(museum_data)\n\n# A tibble: 6 × 3\n  deprivation opened closed\n  &lt;fct&gt;        &lt;dbl&gt;  &lt;dbl&gt;\n1 1             1988     NA\n2 1             1984   2007\n3 1             1983     NA\n4 1             1969     NA\n5 1             1989     NA\n6 1             1995     NA\n\n\nmuseums_data의 첫 번째 항목은 가장 박탈된 분위수에 있는 박물관으로 (대략) 1988년에 개관하여 여전히 운영 중입니다.\n우리가 알고 싶은 것은 각 박탈 수준에 대해 특정 연도에 운영 중이었던 박물관의 수입니다. 관심 있는 연도, 박탈 수준, museum_data의 세 가지 입력을 받는 함수를 만들어 봅시다. 함수 내부에서 데이터에 filter()를 적용하여 관심 있는 박탈 수준만 남길 수 있습니다. 그런 다음 관심 있는 연도 이전에 또는 해당 연도에 개관한 박물관 수를 셀 수 있습니다. 그런 다음 폐관한 박물관 수에 대해서도 동일한 작업을 수행할 수 있습니다(여전히 운영 중인 박물관의 NA 값을 처리하는 것을 기억하세요). 둘의 차이가 해당 연도에 운영 중이었던 박물관 수가 됩니다. \n\nnum_year &lt;- function(year, dep, data = museum_data) {\n  df &lt;- filter(data, deprivation == dep)\n  num_open &lt;- sum(df$opened &lt;= year)\n  num_closed &lt;- sum(df$closed &lt;= year, na.rm = TRUE)\n  diff &lt;- num_open - num_closed\n  return(diff)\n}\n\n작동하는지 테스트해 봅시다:\n\nnum_year(1980, 3)\n\n[1] 186\n\n\n1980년에 3분위 박탈 지역에 186개의 박물관이 운영 중이었습니다. 이제 연도(1960부터 2021까지)와 박탈 수준(1부터 10까지)의 모든 조합에 대해 이 함수를 실행해야 합니다. R에서 이를 수행하는 방법은 여러 가지가 있으며, 우리는 purrr 패키지 (Wickham and Henry 2023)를 사용할 것입니다. 연도와 박탈 수준의 시퀀스가 있는 두 변수를 만드는 것으로 시작합니다 - 이것은 더 적은 수의 연도로 쉽게 변경할 수 있기 때문에 코드가 작동하는지 테스트하는 데 유용합니다. 그런 다음 expand.grid를 사용하여 모든 조합이 있는 data.frame을 만들고 이를 purrr의 pmap_vec에 첫 번째 인수로 전달합니다. pmap_vec의 두 번째 인수는 적용하려는 함수(num_year())입니다. 여기서 num_year()의 첫 번째 인수는 값 그리드의 첫 번째 열에서, 두 번째 인수는 두 번째 열에서 옵니다. 그런 다음 출력을 각 열이 박탈 수준이고 각 행이 연도인 행렬로 변환할 수 있습니다. \n\nall_years &lt;- 1960:2021\ndeps &lt;- 1:10\noutput &lt;- pmap_vec(\n  expand.grid(all_years, deps),\n  ~ num_year(year = .x, dep = .y)\n  )\nresults &lt;- matrix(output,\n  nrow = length(all_years),\n  byrow = FALSE\n)\ncolnames(results) &lt;- 1:10\n\n이제 데이터는 다음과 같습니다:\n\nhead(results)\n\n       1  2   3   4   5   6   7   8  9 10\n[1,] 103 78 110 125 125 124 122 110 76 51\n[2,] 103 78 112 132 125 131 126 113 77 53\n[3,] 104 78 113 138 129 135 129 117 83 58\n[4,] 105 79 118 140 136 140 130 123 85 60\n[5,] 105 79 122 144 139 145 135 126 86 64\n[6,] 106 80 123 148 143 147 137 128 89 67\n\n\n이제 데이터를 플로팅 할 준비가 거의 되었습니다! tibble()(또는 data.frame)로 변환하고 mutate()를 사용하여 year 열을 추가한 다음 tidyr의 pivot_longer를 사용하여 데이터를 긴 형식으로 바꾸면 됩니다 . 우리는 year, deprivation, museums(운영 중인 박물관 수)의 3개 열이 있는 데이터 셋을 만들고 싶습니다.\n\nplot_data &lt;- results |&gt;\n  as_tibble() |&gt;\n  mutate(year = all_years) |&gt;\n  pivot_longer(\n    -year,\n    names_to = \"deprivation\",\n    values_to = \"museums\"\n  ) |&gt;\n  mutate(\n    deprivation = factor(deprivation, levels = 1:10)\n  )\n\n\n3.3.2 첫 번째 플롯\n여러 시계열을 시각화하는 가장 일반적인 접근 방식 중 하나는 동일한 플롯에 여러 선을 그리는 것입니다. 이미 패면을 고려하고 있지만, 선형 차트가 어떻게 보이는지 확인하는 것은 여전히 가치가 있습니다. 이는 데이터의 전반적인 변동성을 이해하는 데 도움이 될 수 있습니다. ggplot()을 사용하여 초기 플롯을 만들고 aes() 함수로 데이터와 미적 매핑을 정의할 수 있습니다. x축에는 year, y축에는 museums가 있으며 deprivation에 따라 각 선의 색상이 달라집니다. 실제 선은 geom_line()으로 추가됩니다. \n\nggplot(\n  data = plot_data,\n  mapping = aes(\n    x = year,\n    y = museums,\n    color = deprivation\n  )\n) +\n  geom_line()\n\n\n\n\n\n\nFigure 3.3: 각 박탈 수준에 대해 연도별 운영 중인 총 박물관 수를 보여주는 선형 차트로, 겹치는 선이 스파게티처럼 보입니다!\n\n\n\n\n이 플롯에서 즉시 눈에 띄는 몇 가지 사항이 있습니다:\n\n변동성은 시간이 지남에 따라 증가하고 있습니다: 1960년에는 가장 높은 값과 가장 낮은 값 사이의 격차가 2020년의 가장 높은 값과 가장 낮은 값 사이의 격차보다 훨씬 작습니다.\n어떤 선이 어떤 박탈 수준에 속하는지 구별하기 어렵습니다: 일부 색상은 매우 비슷하고 많은 선이 교차하며 범례의 순서는 일반적으로 선의 순서와 반대입니다.\n이것은 우리가 스파게티 플롯(spaghetti plot)이라고 부를 수 있는 것입니다: 모든 수준의 전체 추세를 보여주지만 서로 다른 박탈 수준 간의 차이를 구별하기는 어렵습니다.\n\n이전 아이디어로 돌아가서 박탈 수준을 서로 다른 패면으로 분리해 봅시다. 이전에 이야기했던 5x2 그리드를 만들기 위해 nrow 인수를 사용하여 facet_wrap(~deprivation, nrow = 2)를 사용할 수 있습니다. 또한 geom_line()을 geom_area()로 변경해 봅시다. 선형 차트와 영역 차트는 모두 동일한 데이터를 표시할 수 있지만 선형 차트는 종종 시간 경과에 따른 추세에 더 집중하게 만듭니다. 대조적으로 영역 차트는 종종 시간 경과에 따른 전체 볼륨에 집중하게 하여 단순히 증가 및 감소가 아니라 시간 경과에 따른 총 운영 박물관 수의 차이를 강조하는 데 도움이 됩니다. 미적 매핑에서 color를 fill로 변경하는 것을 잊지 마세요! \n\nggplot(\n  data = plot_data,\n  mapping = aes(x = year, y = museums, fill = deprivation)\n) +\n  geom_area() +\n  facet_wrap(~deprivation, nrow = 2)\n\n\n\n\n\n\nFigure 3.4: 각 박탈 수준을 서로 다른 패면으로 하여 연도별 운영 중인 총 박물관 수를 보여주는 영역 차트.\n\n\n\n\n이것은 Figure 3.1 의 초기 막대 차트와 유사한 이야기를 들려줍니다 - 중간 수준의 박탈 지역에 더 많은 박물관이 운영 중입니다. 이 플롯은 여전히 몇 가지 이유로 이상적이지 않습니다:\n\n1960년 운영 중인 박물관 수는 각 패면 플롯마다 다릅니다: 모두 다른 수준에서 시작하기 때문에 상대적인 증가 또는 감소를 비교하기가 더 어렵습니다.\n각 패면에 하나의 추세선만 포함되어 있기 때문에 한 패면을 다른 패면과 직접 비교하기 어렵습니다: 한 추세선을 다른 추세선과 비교하려면 머릿속에서 선을 겹쳐 보아야 합니다.\n\n\n\n\n\n\n\nTip 3.3: 패면 변수 지정\n\n\n\nggplot2에서 패면에 사용되는 변수를 지정하는 다양한 방법이 있습니다. 여기서는 facet_wrap(~deprivation)을 작성했는데, 이는 수식 단축형 ~를 사용하여 ggplot2에 deprivation 변수로 패면을 만들도록 지시합니다.\n그러나 facet_wrap(vars(deprivation))과 같이 vars() 함수를 사용하여 패면 변수가 지정된 것을 볼 수도 있습니다. vars() 함수를 사용하면 여러 변수로 패면을 만들기 더 쉽지만 더 현대적인 접근 방식이므로 다른 예제를 찾고 있다면 덜 자주 볼 수도 있습니다.\n\n\n두 가지 변경을 통해 이러한 문제를 해결할 수 있습니다:\n\n1960년 운영 중이었던 박물관 수를 기준으로 데이터를 다시 조정합니다; 그리고\n각 패면 플롯에 10개의 선을 모두 표시하지만 각 박탈 수준과 관련된 하나만 강조 표시합니다.\n\n3.3.3 gghighlight로 강조 표시하기\n두 번째 변경은 gghighlight 패키지 (Yutani 2023)를 사용하여 쉽게 구현할 수 있습니다. gghighlight는 조건에 따라 점과 선을 강조 표시하도록 특별히 설계된 ggplot2 확장 패키지입니다. geom_line()으로 다시 전환하고 gghighlight()를 추가해 봅시다. use_direct_label = FALSE로 설정합니다. 그렇지 않으면 gghighlight가 강조 표시된 각 선에 레이블을 추가하기 때문입니다 - 각 선은 이미 패면 레이블에 의해 레이블이 지정되어 있으므로 불필요합니다. \n\nggplot(\n  data = plot_data,\n  mapping = aes(\n    x = year,\n    y = museums,\n    color = deprivation\n  )\n) +\n  geom_line() +\n  facet_wrap(~deprivation, nrow = 2) +\n  gghighlight(use_direct_label = FALSE)\n\n\n\n\n\n\nFigure 3.5: 각 박탈 수준을 서로 다른 패면으로 하고 개별 선을 강조 표시하여 연도별 운영 중인 총 박물관 수를 보여주는 선형 차트.\n\n\n\n\n또한 1960년 수준으로 값을 다시 조정하기 위해 데이터 랭글링을 추가로 수행할 수 있습니다. 1960년의 데이터만 포함하고 deprivation 및 museums 열만 유지하도록 데이터를 필터링하는 것으로 시작합니다 . 그런 다음 이 기준 데이터를 deprivation 수준을 기준으로 원본 데이터에 다시 조인하고, 각 연도에 대해 1960년 이후 변동 퍼센트를 계산하여 change라는 새 열에 저장합니다. \n\nlookup &lt;- plot_data |&gt;\n  filter(year == 1960) |&gt;\n  select(deprivation, museums)\n\nnew_plot_data &lt;- plot_data |&gt;\n  left_join(lookup, by = \"deprivation\") |&gt;\n  rename(\n    museums = museums.x,\n    museums_1960 = museums.y\n  ) |&gt;\n  mutate(\n    change = (\n      100 * (museums - museums_1960) / museums_1960)\n  ) |&gt;\n  select(year, deprivation, change)\n\n그런 다음 y축에 재조정된 change 데이터를 사용하여 선형 차트를 다시 그릴 수 있습니다:\n\nbasic_plot &lt;- ggplot(\n  data = new_plot_data,\n  mapping = aes(x = year, y = change, color = deprivation)\n) +\n  geom_line() +\n  facet_wrap(~deprivation, nrow = 2) +\n  gghighlight(use_direct_label = FALSE)\nbasic_plot\n\n\n\n\n\n\nFigure 3.6: 각 박탈 수준을 서로 다른 패면으로 하고 개별 선을 강조 표시하여 각 박탈 수준에 대한 박물관의 증가 퍼센트(1960년 대비)를 보여주는 선형 차트.\n\n\n\n\n이것은 꽤 좋아 보이기 시작했지만 차트를 개선하기 위해 스타일을 지정할 수 있는 방법은 여전히 있습니다.",
    "crumbs": [
      "일반적인 차트도 지루할 필요는 없습니다!",
      "<span class='chapter-number'>3</span>  <span class='chapter-title'>영국 박물관: **`gghighlight`**로 선형 차트 강조하기</span>"
    ]
  },
  {
    "objectID": "museums.html#고급-스타일링",
    "href": "museums.html#고급-스타일링",
    "title": "3  영국 박물관: gghighlight로 선형 차트 강조하기",
    "section": "\n3.4 고급 스타일링",
    "text": "3.4 고급 스타일링\n그렇다면 이 차트를 더 좋게 만들기 위해 무엇을 할 수 있을까요?\n\n범례를 제거할 수 있습니다. 색상은 박탈 수준을 기반으로 하며 이미 패면 제목에 레이블이 지정되어 있습니다.\n기본 색상 선택이 훌륭하지 않습니다 - 흑백 인쇄에 친화적이지 않으며 색각 이상 친화적이지도 않습니다.\n이 차트가 무엇을 보여주는지 즉시 명확하지 않습니다: 무슨 일이 일어나고 있는지 설명하는 텍스트가 필요할 수 있습니다.\n\n\n3.4.1 색상\n색상을 선택하는 것으로 시작해 봅시다. Chapter 2 에서 논의한 대로 색상 코드를 변수로 저장합니다: 16진수 코드 또는 색상 이름을 사용합니다. 텍스트에는 \"black\"을 사용하고 배경색에는 \"#fafafa\"를 사용해 봅시다. 흰색 대신 밝은 회색을 배경으로 사용하는 것은 주로 개인적인 선호입니다 - 화면에서 덜 눈부시게 밝습니다. 하지만 배경에 대한 텍스트 대비에 좀 더 주의해야 하므로 검은색 텍스트를 사용합니다. \n\nbg_col &lt;- \"#FAFAFA\"\ntext_col &lt;- \"black\"\n\n선의 색상은 viridis 패키지 (Garnier et al. 2024)를 사용할 수 있습니다. viridis 패키지는 시각적으로 즐겁고, 지각적으로 균일하며, 색각 이상 친화적으로 설계된 다양한 색상 팔레트를 제공합니다. 기본 viridis 팔레트에는 보라색, 파란색, 녹색, 노란색이 포함됩니다. Viridis 색상 팔레트는 일반적으로 범주형 데이터보다는 연속형 데이터에 가장 일반적으로 사용됩니다. 그러나 색상을 지정하려는 범주(박탈 수준)가 순서가 있으므로 여기에서도 잘 작동합니다. viridis 패키지에는 ggplot2로 만든 플롯에 색상을 추가하는 함수가 포함되어 있습니다. 여기서는 scale_color_viridis() 함수를 사용하고, 이산 팔레트를 원하며 가장 낮은 값이 노란색을 갖도록 direction = -1로 지정합니다 .\n\ncol_plot &lt;- basic_plot +\n  scale_color_viridis(\n    discrete = TRUE,\n    direction = -1\n  )\ncol_plot\n\n\n\n\n\n\nFigure 3.7: {viridis} R 패키지에서 선택한 색상으로 이전 차트를 업데이트한 버전.\n\n\n\n\n\n3.4.2 텍스트와 글꼴\nsysfonts의 font_add_google()을 사용하여 다른 서체를 로드하고 showtext로 글꼴 옵션을 설정하는 것으로 시작해 봅시다 . Raleway는 미니멀하고 산세리프 서체이며 본문 텍스트와 제목 텍스트 모두에 사용할 것입니다. 단일 변수 body_font로 저장할 수 있습니다.\n\nfont_add_google(name = \"Raleway\")\nfont_add_google(name = \"Noto Sans KR\", family = \"noto_sans_kr\")\nshowtext_auto()\nshowtext_opts(dpi = 300)\nbody_font &lt;- \"Raleway\"\nkorean_font &lt;- \"noto_sans_kr\"\n\n\n\n\n\n\n\nTip 3.4: 서체(Typeface) vs. 글꼴(font) vs. 글꼴 패밀리(font family)\n\n\n\nThomas Lin Pederson의 R 글꼴에 대한 블로그 게시물 (Pedersen 2025)은 종종 (부정확하게) 혼용되는 단어인 서체와 글꼴 (패밀리)의 다른 의미를 강조합니다:\n\n서체(Typeface): 문자 세트의 디자인 예: Arial\n글꼴(Font): 해당 서체의 특정 스타일 및 크기 예: Arial Bold 12pt\n글꼴 패밀리(Font family): 동일한 서체를 공유하지만 스타일이 다른 글꼴 그룹 예: Arial Bold 및 Arial Italic\n\n이 용어들은 다른 의미를 가지고 있지만, ggplot2에서는 family 인수가 종종 서체를 지정하는 데 사용되므로 이 책에서는 용어가 혼용되는 것을 볼 수 있습니다.\n\n\n또한 제목, 부제목, 캡션을 정의해야 합니다. 제목으로 질문을 추가하면 독자가 보기를 원하는 방향으로 안내할 수 있을 뿐만 아니라 스스로 찾아보게 만들 수도 있습니다. 여기서 우리는 제목에서 박탈이 심한 지역에 개관하는 박물관이 더 적습니까?라고 묻습니다 - 독자에게 박탈 수준에 따른 변화를 살펴보라고 말하지만 답을 바로 제공하지는 않습니다.\n그런 다음 부제목은 답이 무엇인지, 차트에 정확히 무엇이 표시되는지 설명합니다. 캡션은 데이터의 출처와 변수가 실제로 무엇인지 더 자세히 설명하기 때문에 많은 차트에서 볼 수 있는 것보다 여기서는 더 깁니다. 변수의 정의를 이해하는 것은 당연시해야 할 것이 아닙니다. 박탈 지수에 이미 익숙하지 않은 경우 1이 더 높은 수준의 박탈을 의미한다는 것이 명확하지 않을 수 있습니다.\n\ntitle &lt;- \"박탈이 심한 지역에 개관하는 박물관이 더 적습니까?\"\nst &lt;- \"1960년 이후 추정된 운영 중인 박물관 수의 변화는 박탈 수준이 높은 지역에서 훨씬 낮습니다. *2000년경부터 운영 중인 박물관 수는 박탈 지수에 관계없이 모든 지역에서 정체되었습니다. 그러나 이 정체 이전의 성장률은 박탈이 심한 지역에서 더 낮습니다.\"\ncap &lt;- \"*다중 박탈 지수(IMD)는 소득, 고용, 교육, 건강, 범죄, 주거 및 생활 환경과 같은 다양한 차원을 집계하여 영국 지리적 지역의 상대적 박탈을 측정합니다. 지수는 1(가장 박탈됨)에서 10(가장 덜 박탈됨)까지 다양합니다.&lt;br&gt;&lt;br&gt;**일부 경우에는 박물관의 정확한 개관 또는 폐관 날짜를 확정하는 것이 불가능했습니다. 이러한 경우 박물관의 개관 및 폐관 날짜는 가능한 날짜 범위의 중간 지점으로 간주됩니다.&lt;br&gt;&lt;br&gt;N. Rennie | Data: museweb.dcs.bbk.ac.uk\"\n\n\n\n\n\n\n\nTip 3.5: &lt;br&gt;을 사용하여 줄 바꿈 추가\n\n\n\n이전 장에서 했던 것처럼 ggtext의 element_textbox_simple()을 사용하여 텍스트 요소를 처리할 것이므로 캡션에 HTML 줄 바꿈 &lt;br&gt;이 포함되어 있습니다. \n\n\nlabs() 함수를 사용하여 제목, 부제목, 캡션 및 y축 레이블을 추가해 봅시다. x축이 연도를 보여준다는 것은 매우 명확하므로 x축의 기본 열 이름 레이블도 제거할 수 있습니다. \n\ntext_plot &lt;- col_plot +\n  labs(\n    title = title, subtitle = st, caption = cap,\n    x = \"\",\n    y = \"1960년 이후 운영 중인 추정 박물관 수의\\n% 변화**\"\n  )\n\n\n3.4.3 테마 조정\n이제 theme() 요소를 편집하여 텍스트 글꼴 및 스타일을 적용하고 배경색을 편집하고 범례를 제거해야 합니다. \nggplot2에서는 데이터 범위를 기반으로 축 제한이 자동으로 선택됩니다. 좋은 제한(및 구분)을 선택하는 것이 종종 유용합니다 - 다른 값이 어디에 있는지 계산하기가 더 쉽습니다. scale_y_continuous(limits = c(0, 300))을 설정하여 y축 범위를 0에서 300 사이로 만들 수 있습니다. 또한 coord_cartesian(expand = FALSE)를 설정하여 기본적으로 추가되는 플롯 영역 주위의 여분의 공간을 제거하여 약간 더 깔끔한 모양을 제공할 수 있습니다. theme_minimal()을 기본으로 사용하여 base_size = 7 및 base_family = body_font를 사용하여 기본 글꼴 크기 및 패밀리를 설정할 수 있습니다. \nlegend.position = \"none\"을 설정하면 오른쪽의 범례가 제거됩니다. plot.title.position = \"plot\" 및 plot.caption.position = \"plot\" 인수는 제목, 부제목 및 캡션 텍스트가 모두 플롯 영역의 왼쪽과 정렬되도록 합니다. 기본값은 패널 영역(기본적으로 회색으로 음영 처리된 영역)의 가장자리와 정렬하는 것인데, 긴 축 레이블이나 y축에 여러 줄의 축 제목이 있을 때는 좋아 보이지 않습니다.\npanel.spacing 인수는 패면이 서로 얼마나 가까운지를 제어합니다 - 이것은 나란히 있는 플롯의 연도 레이블이 서로 겹치는 것을 방지하는 데 도움이 될 수 있습니다. plot.margin = margin(10, 15, 10, 10)을 설정하면 플롯 바깥쪽에 여분의 공간이 추가되며 오른쪽의 더 높은 값은 왼쪽의 축 제목 공간을 보상하고 균형을 맞춥니다. plot.background 및 panel.background 인수는 플롯 및 패널 영역의 배경색을 이전에 정의한 bg_col 변수로 설정합니다.\nplot.title, plot.subtitle 및 plot.caption 인수의 경우 ggtext의 element_textbox_simple()을 사용하여 Markdown 또는 HTML 구문이 처리되도록 하고 부제목과 캡션의 텍스트를 자동으로 줄 바꿈합니다. 텍스트는 모두 왼쪽 정렬되고 lineheight는 0.5이며 text_col 변수를 색상으로 사용하도록 설정됩니다. 제목 글꼴은 약간 더 크고 굵게 만들어집니다. axis.text도 element_text()를 사용하여 lineheight가 0.5인 text_col 색상으로 설정됩니다. \n이제 최종 플롯이 완성되었습니다:\n\ntext_plot +\n  scale_y_continuous(limits = c(0, 300)) +\n  coord_cartesian(expand = FALSE) +\n  theme_minimal(base_size = 7, base_family = body_font) +\n  theme(\n    legend.position = \"none\",\n    plot.title.position = \"plot\",\n    plot.caption.position = \"plot\",\n    panel.spacing = unit(1, \"lines\"),\n    plot.margin = margin(10, 15, 10, 10),\n    plot.background = element_rect(\n      fill = bg_col, color = bg_col\n    ),\n    panel.background = element_rect(\n      fill = bg_col, color = bg_col\n    ),\n    plot.title = element_textbox_simple(\n      family = korean_font,\n      color = text_col,\n      lineheight = 0.5,\n      size = rel(1.2),\n      face = \"bold\",\n      margin = margin(b = 5)\n    ),\n    plot.subtitle = element_textbox_simple(\n      family = korean_font,\n      color = text_col,\n      lineheight = 0.5\n    ),\n    plot.caption = element_textbox_simple(\n      family = korean_font,\n      hjust = 0,\n      color = text_col,\n      lineheight = 0.5\n    ),\n    axis.text = element_text(\n      color = text_col,\n      lineheight = 0.5\n    )\n  )\n\n\n\n\n\n\nFigure 3.8: 이전 플롯의 스타일이 지정된 버전 - 사용자 지정 글꼴, 색상 배경 및 더 나은 간격이 포함되어 있습니다.\n\n\n\n\n그리고 Chapter 2 에서 했던 것처럼 ggsave()를 사용하여 파일로 저장할 수 있습니다. Chapter 2 에서는 최종 플롯을 파일로 저장할 때 PNG 파일로 저장했습니다. 그러나 이것이 유일한 옵션은 아닙니다. JPG, PDF, TIFF 또는 SVG(몇 가지 옵션만 언급하자면)로 저장할 수도 있었습니다. 그렇다면 어떤 파일 형식을 사용할지 어떻게 결정해야 할까요? \nPNG 및 JPG와 같은 형식은 래스터(raster) 이미지를 저장합니다. 즉, 각 픽셀에 대한 정보가 저장됩니다. 이것은 매우 상세한 정보를 캡처할 수 있음을 의미합니다. 그러나 이는 파일 크기가 커질 수 있음을 의미하기도 합니다. 래스터 이미지는 스케일링이 잘 되지 않습니다 - 이미지 크기를 늘리면 흐릿해지고 품질이 저하되는 경향이 있습니다. PDF 또는 SVG와 같은 형식은 벡터(vector) 이미지입니다. 즉, 이미지의 각 선과 모양에 대한 정보가 저장됩니다. 이것은 품질을 잃지 않고 크기를 조정하기가 더 쉽고 파일 크기가 더 작을 수 있음을 의미합니다(과도하게 복잡하지 않은 그래픽의 경우).\n래스터 이미지는 복잡한 시각화 및 이미지 또는 웹 사이트와 같이 고정된 해상도가 선호될 때 더 좋은 경향이 있습니다. 벡터 이미지는 크기 조정이 필요하거나 대화형일 가능성이 있는 그래픽에 더 좋은 경향이 있습니다. 이 책의 나머지 부분에서는 책 인쇄 버전의 일관성을 위해 PNG 형식으로 계속 저장할 것입니다. \n\nggsave(\n  filename = \"museums.png\",\n  width = 5,\n  height = 0.67 * 5\n)",
    "crumbs": [
      "일반적인 차트도 지루할 필요는 없습니다!",
      "<span class='chapter-number'>3</span>  <span class='chapter-title'>영국 박물관: **`gghighlight`**로 선형 차트 강조하기</span>"
    ]
  },
  {
    "objectID": "museums.html#회고",
    "href": "museums.html#회고",
    "title": "3  영국 박물관: gghighlight로 선형 차트 강조하기",
    "section": "\n3.5 회고",
    "text": "3.5 회고\n이 플롯에서 아직 개선할 수 있는 부분이 있나요? 연도를 나타내는 축 텍스트는 패면 플롯의 맨 아래 행에만 나타납니다. 이 때문에 아래 행의 연도를 먼저 보지 않고는 첫 번째 행에서 무슨 일이 일어나고 있는지 보기가 조금 어렵습니다. 사소한 점이지만 맨 윗줄에 연도 레이블을 추가하면 독자가 더 쉽게 읽을 수 있습니다.\n우리는 색상은 박탈 수준을 기반으로 하며 이미 패면 제목에 레이블이 지정되어 있다는 이유로 플롯에서 범례를 제거했습니다. 이 동일한 주장을 사용하여 색상을 모두 제거할 수도 있습니다. 박탈 수준이 패면 제목으로 주어질 때 박탈 수준을 나타내기 위해 여기서 색상을 사용할 필요가 없습니다. 특히 노란색은 옅은 배경색에 비해 보기가 더 어렵습니다. 예를 들어 강조 표시된 모든 선에 대해 빨간색과 같은 더 강한 색상을 사용하면 선이 눈에 띄게 하고 색상이 무엇을 의미하는지에 대한 혼란을 줄이는 데 더 좋을 것입니다. \n이 시각화의 원래 버전을 개발하는 과정에서 생성된 각 플롯은 camcorder를 사용하여 캡처되었으며 아래 gif에 표시됩니다. camcorder가 데이터 시각화 프로세스에서 어떻게 사용될 수 있는지 자세히 알고 싶다면 Section 14.1 를 참조하세요.",
    "crumbs": [
      "일반적인 차트도 지루할 필요는 없습니다!",
      "<span class='chapter-number'>3</span>  <span class='chapter-title'>영국 박물관: **`gghighlight`**로 선형 차트 강조하기</span>"
    ]
  },
  {
    "objectID": "museums.html#연습-문제",
    "href": "museums.html#연습-문제",
    "title": "3  영국 박물관: gghighlight로 선형 차트 강조하기",
    "section": "\n3.6 연습 문제",
    "text": "3.6 연습 문제\n\nviridis 색상 팔레트 대신 단일 색상(원하는 색상)을 사용하여 각 선을 강조 표시하도록 시각화를 편집하세요.\n패면 레이블을 편집하여 어느 것이 가장 덜 박탈됨이고 가장 많이 박탈됨인지 차트에 직접 나타내세요.\n\n\n\n\n\nAnscombe, F. J. 1973. “Graphs in Statistical Analysis.” The American Statistician 27 (1): 17–21. https://doi.org/10.1080/00031305.1973.10478966.\n\n\nAphalo, Pedro J. 2024. Learn R: As a Language. Second Edition. CRC Press. https://www.learnr-book.info/.\n\n\nAuguie, Baptiste. 2019. egg: Extensions for ’ggplot2’: Custom Geom, Custom Themes, Plot Alignment, Labelled Panels, Symmetric Scales, and Fixed Panel Size. https://CRAN.R-project.org/package=egg.\n\n\nBarthelme, Simon. 2024. imager: Image Processing Library Based on ’CImg’. https://CRAN.R-project.org/package=imager.\n\n\nBrand, Teun van den. 2025. “ggplot2 4.0.0.” https://www.tidyverse.org/blog/2025/09/ggplot2-4-0-0/.\n\n\nBridson, Robert. 2007. “Fast Poisson Disk Sampling in Arbitrary Dimensions.” In ACM SIGGRAPH 2007 Sketches. SIGGRAPH ’07. New York, NY, USA: Association for Computing Machinery. https://doi.org/10.1145/1278780.1278807.\n\n\nBrown, Mark J.F., and Paxton, Robert J. 2009. “The Conservation of Bees: A Global Perspective.” Apidologie 40 (3): 410–16. https://doi.org/10.1051/apido/2009019.\n\n\nCameron, Allan, and Teun van den Brand. 2024. geomtextpath: Curved Text in ’ggplot2’. https://CRAN.R-project.org/package=geomtextpath.\n\n\nCARTO. 2016. ’CARTOColors’ Palettes. https://carto.com/carto-colors/.\n\n\nChang, Winston. 2023. extrafont: Tools for Using Fonts. https://CRAN.R-project.org/package=extrafont.\n\n\nCheung, Foo. 2021. dumbbell: Displaying Changes Between Two Points Using Dumbbell Plots. https://CRAN.R-project.org/package=dumbbell.\n\n\nCowgill, Matt, and John Helveston. 2021. ggannotate: Interactively Annotate ggplot2 Plots. https://github.com/MattCowgill/ggannotate.\n\n\nCsárdi, Gábor, and Jim Hester. 2024. pak: Another Approach to Package Installation. https://CRAN.R-project.org/package=pak.\n\n\nCsárdi, Gábor, Jim Hester, Hadley Wickham, Winston Chang, Martin Morgan, and Dan Tenenbaum. 2024. remotes: R Package Installation from Remote Repositories, Including ’GitHub’. https://CRAN.R-project.org/package=remotes.\n\n\nDomin, Iaroslav. 2024. ggview: ’ggplot2’ Picture Previewer. https://CRAN.R-project.org/package=ggview.\n\n\nEngler, Jan Broder. 2024. “Tidyplots Empowers Life Scientists with Easy Code-Based Data Visualization.” bioRxiv. https://doi.org/10.1101/2024.11.08.621836.\n\n\nFC, Mike, Trevor L. Davis, and ggplot2 authors. 2024. ggpattern: ’ggplot2’ Pattern Geoms. https://CRAN.R-project.org/package=ggpattern.\n\n\nFlaticon.com. 2024. “Wind Power Flaticon.” https://www.flaticon.com/free-icon/wind-power_5670189.\n\n\nFont Awesome. 2024. “Font Awesome 6.” https://fontawesome.com/.\n\n\nFranconeri, Steven L., Lace M. Padilla, Priti Shah, Jeffrey M. Zacks, and Jessica Hullman. 2021. “The Science of Visual Data Communication: What Works.” Psychological Science in the Public Interest 22 (3): 110–61. https://doi.org/10.1177/15291006211051956.\n\n\nGarnier, Simon, Ross, Noam, Rudis, Robert, Camargo, et al. 2024. viridis(Lite) - Colorblind-Friendly Color Maps for R. https://doi.org/10.5281/zenodo.4679423.\n\n\nGohel, David, and Panagiotis Skintzos. 2024. ggiraph: Make ’ggplot2’ Graphics Interactive. https://CRAN.R-project.org/package=ggiraph.\n\n\nGovernment Analysis Function. 2021. “Data Visualisation: Colours.” https://analysisfunction.civilservice.gov.uk/policy-store/data-visualisation-colours-in-charts/.\n\n\nHafen, Ryan. 2023. geofacet: ’ggplot2’ Faceting Utilities for Geographical Data. https://CRAN.R-project.org/package=geofacet.\n\n\nHarmon, Jon. 2024. Web APIs with R. CRC Press. https://wapir.io/.\n\n\nHester, Jim, Florent Angly, Russ Hyde, Michael Chirico, Kun Ren, Alexander Rosenstock, and Indrajeet Patil. 2024. lintr: A ’Linter’ for R Code. https://CRAN.R-project.org/package=lintr.\n\n\nHester, Jim, and Jennifer Bryan. 2024. glue: Interpreted String Literals. https://glue.tidyverse.org/.\n\n\nHughes, Ellis. 2022a. camcorder: Record Your Plot History. https://CRAN.R-project.org/package=camcorder.\n\n\n———. 2022b. tidytuesdayR: Access the Weekly ’TidyTuesday’ Project Dataset. https://CRAN.R-project.org/package=tidytuesdayR.\n\n\nHvitfeldt, Emil. 2021. paletteer: Comprehensive Collection of Color Palettes. https://github.com/EmilHvitfeldt/paletteer.\n\n\n———. 2025. animalshelter: Animal Shelter Data. https://github.com/EmilHvitfeldt/animalshelter.\n\n\nIannone, Richard. 2024. fontawesome: Easily Work with ’Font Awesome’ Icons. https://CRAN.R-project.org/package=fontawesome.\n\n\nInternet Assigned Numbers Authority. 2023. “The tz Database: Time Zone and Daylight Saving Time Data.” Internet Assigned Numbers Authority. https://data.iana.org/time-zones/tz-link.html.\n\n\nJax (@lysrix). 2017. “Lemur.” https://unsplash.com/photos/red-and-white-rodent-h5xrh3CNT-k.\n\n\nKays, R., R. R. Dunn, A. W. Parsons, B. Mcdonald, T. Perkins, S. A. Powers, L. Shell, et al. 2020. “The Small Home Ranges and Large Local Ecological Impacts of Pet Cats.” Animal Conservation 23 (5): 516–23. https://doi.org/10.1111/acv.12563.\n\n\nKeyes, David. 2024. R for the Rest of Us: A Statistics-Free Introduction. No Starch Press. https://book.rfortherestofus.com/.\n\n\nLong Beach Animal Shelter. 2025. “Animal Shelter Data.” City of Long Beach Animal Care Services. https://data.longbeach.gov/explore/dataset/animal-shelter-intakes-and-outcomes/information/.\n\n\nLucchesi, Lydia, and Petra Kuhnert. 2020. Vizumap: Visualizing Uncertainty in Spatial Data. https://github.com/lydialucchesi/Vizumap.\n\n\nMapping Museums. 2021. “Mapping Museums Data.” www.mappingmuseums.org.\n\n\nMassicotte, Philippe, and Andy South. 2023. rnaturalearth: World Map Data from Natural Earth. https://docs.ropensci.org/rnaturalearth/.\n\n\nMatejka, Justin, and George Fitzmaurice. 2017. “Same Stats, Different Graphs: Generating Datasets with Varied Appearance and Identical Statistics Through Simulated Annealing.” In, 1290–94. https://doi.org/10.1145/3025453.3025912.\n\n\nMcDonald, J. L., and H. Cole. 2020. “Data from: The Small Home Ranges and Large Local Ecological Impacts of Pet Cats [United Kingdom].” Movebank data repository. https://doi.org/doi:10.5441/001/1.pf315732.\n\n\nMcWhite, Claire D., and Claus O. Wilke. 2024. colorblindr: Simulate colorblindness in R figures. https://github.com/clauswilke/colorblindr.\n\n\nMid-Atlantic Apiculture Research and Extension Consortium. 2024. “Seasonal Cycles of Activities in Colonies.” https://canr.udel.edu/maarec/honey-bee-biology/seasonal-cycles-of-activities-in-colonies/.\n\n\nmikefc. 2024. poissoned: Tileable Poisson Disc Sampling. https://github.com/coolbutuseless/poissoned.\n\n\nMills, Blake Robert. 2022. MetBrewer: Color Palettes Inspired by Works at the Metropolitan Museum of Art. https://CRAN.R-project.org/package=MetBrewer.\n\n\nMIT Election Data and Science Lab. 2017. “U.S. House 1976–2022.” Harvard Dataverse. https://doi.org/10.7910/DVN/IG0UN2.\n\n\nMüller, Kirill, and Lorenz Walthert. 2023. styler: Non-Invasive Pretty Printing of R Code. https://CRAN.R-project.org/package=styler.\n\n\nMüller, Kirill, and Hadley Wickham. 2023. tibble: Simple Data Frames. https://CRAN.R-project.org/package=tibble.\n\n\nMuth, Lisa. 2018. “An Alternative to Pink & Blue: Colors for Gender Data.” https://blog.datawrapper.de/gendercolor/.\n\n\nNatural Resources Canada. 2021. “Canadian Wind Turbine Database.” Natural Resources Canada (Government of Canada). https://open.canada.ca/data/en/dataset/79fdad93-9025-49ad-ba16-c26d718cc070.\n\n\nNoblet, Guillaume. 2025. ggbranding: Add Personal Branding to ’ggplot2’ Charts. https://github.com/gnoblet/ggbranding.\n\n\nNowosad, Jakub. 2018. ’CARTOColors’ Palettes. https://jakubnowosad.com/rcartocolor/.\n\n\nOoms, Jeroen. 2024. magick: Advanced Graphics and Image-Processing in R. https://CRAN.R-project.org/package=magick.\n\n\nOur World in Data. 2019. “Medical Doctors Per 1,000 People.” https://ourworldindata.org/grapher/physicians-per-1000-people.\n\n\nPebesma, Edzer. 2018. “Simple Features for R: Standardized Support for Spatial Vector Data.” The R Journal 10 (1): 439–46. https://doi.org/10.32614/RJ-2018-009.\n\n\nPedersen, Thomas Lin. 2022. ggforce: Accelerating ’ggplot2’. https://CRAN.R-project.org/package=ggforce.\n\n\n———. 2024. patchwork: The Composer of Plots. https://CRAN.R-project.org/package=patchwork.\n\n\n———. 2025. “Fonts in R.” https://www.tidyverse.org/blog/2025/05/fonts-in-r/.\n\n\nPedersen, Thomas Lin, and Martin Mitáš. 2024. marquee: Markdown Parser and Renderer for R Graphics. https://CRAN.R-project.org/package=marquee.\n\n\nPedersen, Thomas Lin, Jeroen Ooms, and Devon Govett. 2024. systemfonts: System Native Font Finding. https://CRAN.R-project.org/package=systemfonts.\n\n\nPedersen, Thomas Lin, and Maxim Shemanarev. 2023. ragg: Graphic Devices Based on AGG. https://CRAN.R-project.org/package=ragg.\n\n\nPLDB contributors. 2022. “PLDB: A Programming Language Database.” PLDB. https://pldb.com.\n\n\nQiu, Yixuan. 2022. sysfonts: Loading Fonts into R. https://CRAN.R-project.org/package=sysfonts.\n\n\n———. 2023. showtext: Using Fonts More Easily in R Graphs. https://CRAN.R-project.org/package=showtext.\n\n\nR Core Team. 2024. R: A Language and Environment for Statistical Computing. Vienna, Austria: R Foundation for Statistical Computing. https://www.R-project.org/.\n\n\nR4DS Online Learning Community. 2023. “Tidy Tuesday: A Weekly Social Data Project.” https://github.com/rfordatascience/tidytuesday.\n\n\nRennie, Nicola. 2023a. “Adding Social Media Icons to Charts with ggplot2.” https://nrennie.rbind.io/blog/adding-social-media-icons-ggplot2/.\n\n\n———. 2023b. “Creating Template Files with R.” https://nrennie.rbind.io/blog/script-templates-r/.\n\n\n———. 2023c. “Four Ways to Streamline Your R Workflows.” https://nrennie.rbind.io/blog/four-ways-streamline-r-workflows/.\n\n\n———. 2024a. ggtextcircle: Circular Text in ’ggplot2’. https://github.com/nrennie/ggtextcircle.\n\n\n———. 2024b. nobel: Access data from the Nobel Prize API via R. https://github.com/nrennie/nobel.\n\n\n———. 2024c. “tidytuesday.” GitHub Repository. GitHub. https://github.com/nrennie/tidytuesday.\n\n\nRennie, Nicola, and Andreas Krause. 2024. “Presenting data the Significance way - Part 1.” Significance 21 (3): 36–39. https://doi.org/10.1093/jrssig/qmae045.\n\n\nReynolds, Gina. 2025. “Everyday ggplot2 extension.” https://evamaerey.github.io/everyday_ggplot2_extension/.\n\n\nRStudio. 2018a. “forcats Hex Sticker.” https://github.com/rstudio/hex-stickers/blob/main/PNG/forcats.png.\n\n\n———. 2018b. “ggplot2 Hex Sticker.” https://github.com/rstudio/hex-stickers/blob/main/PNG/ggplot2.png.\n\n\n———. 2018c. “purrr Hex Sticker.” https://github.com/rstudio/hex-stickers/blob/main/PNG/purrr.png.\n\n\n———. 2018d. “readr Hex Sticker.” https://github.com/rstudio/hex-stickers/blob/main/PNG/readr.png.\n\n\n———. 2018e. “tibble Hex Sticker.” https://github.com/rstudio/hex-stickers/blob/main/PNG/tibble.png.\n\n\n———. 2020a. “dplyr Hex Sticker.” https://github.com/rstudio/hex-stickers/blob/main/PNG/dplyr.png.\n\n\n———. 2020b. “stringr Hex Sticker.” https://github.com/rstudio/hex-stickers/blob/main/PNG/stringr.png.\n\n\n———. 2020c. “tidyr Hex Sticker.” https://github.com/rstudio/hex-stickers/blob/main/PNG/tidyr.png.\n\n\nRudis, Bob, Ben Bolker, and Jan Schulz. 2017. ggalt: Extra Coordinate Systems, ’Geoms’, Statistical Transformations, Scales and Fonts for ’ggplot2’. https://CRAN.R-project.org/package=ggalt.\n\n\nRudis, Bob, and Dave Gandy. 2023. waffle: Create Waffle Chart Visualizations. https://CRAN.R-project.org/package=waffle.\n\n\nSarkar, Deepayan. 2008. Lattice: Multivariate Data Visualization with r. New York: Springer. http://lmdvr.r-forge.r-project.org.\n\n\nSchauberger, Philipp, and Alexander Walker. 2023. openxlsx: Read, Write and Edit xlsx Files. https://CRAN.R-project.org/package=openxlsx.\n\n\nScheuch, Christoph. 2025. owidapi: Access the Our World in Data Chart API. https://doi.org/10.32614/CRAN.package.owidapi.\n\n\nSchloerke, Barret, Di Cook, Joseph Larmarange, Francois Briatte, Moritz Marbach, Edwin Thoen, Amos Elberg, and Jason Crowley. 2024. GGally: Extension to ’ggplot2’. https://CRAN.R-project.org/package=GGally.\n\n\nSchloss, Karen B., Connor C. Gramazio, Allison T. Silverman, Madeline L. Parker, and Audrey S. Wang. 2019. “Mapping Color to Meaning in Colormap Data Visualizations.” IEEE Transactions on Visualization and Computer Graphics 25 (1): 810–19. https://doi.org/10.1109/TVCG.2018.2865147.\n\n\nShalloway, Bryan. 2023. funspotr: Spot R Functions & Packages. https://CRAN.R-project.org/package=funspotr.\n\n\nSievert, Carson. 2020. Interactive Web-Based Data Visualization with r, Plotly, and Shiny. Chapman; Hall/CRC. https://plotly-r.com.\n\n\nSlowikowski, Kamil. 2024. ggrepel: Automatically Position Non-Overlapping Text Labels with ’ggplot2’. https://CRAN.R-project.org/package=ggrepel.\n\n\nTierney, Nicholas. 2017. “visdat: Visualising Whole Data Frames.” JOSS 2 (16): 355. https://doi.org/10.21105/joss.00355.\n\n\nTierney, Nicholas, and Dianne Cook. 2023. “Expanding Tidy Data Principles to Facilitate Missing Data Exploration, Visualization and Assessment of Imputations.” Journal of Statistical Software 105 (7): 1–31. https://doi.org/10.18637/jss.v105.i07.\n\n\nTol, Paul. 2021. “Paul Tol’s Notes: Colour schemes and templates.” https://sronpersonalpages.nl/~pault/.\n\n\nUnited States Census Bureau. 2021a. “Historical Population Change Data (1910-2020).” https://www.census.gov/data/tables/time-series/dec/popchange-data-text.html.\n\n\n———. 2021b. “State Area Measurements and Internal Point Coordinates.” https://www.census.gov/geographies/reference-files/2010/geo/state-area.html.\n\n\nUnited States Department of Agriculture: Economics, Statistics and Market Information System. 2022. “Honey Bee Colonies.” USDA Economics, Statistics and Market Information System. https://usda.library.cornell.edu/concern/publications/rn301137d.\n\n\nWalker, Kyle. 2022. crsuggest: Obtain Suggested Coordinate Reference System Information for Spatial Data. https://CRAN.R-project.org/package=crsuggest.\n\n\nWanzer, Dana Linnell, Tarek Azzam, Natalie D. Jones, and Darrel Skousen. 2021. “The Role of Titles in Enhancing Data Visualization.” Evaluation and Program Planning 84: 101896. https://doi.org/10.1016/j.evalprogplan.2020.101896.\n\n\nWickham, Hadley. 2016. ggplot2: Elegant Graphics for Data Analysis. Springer-Verlag New York. https://ggplot2.tidyverse.org.\n\n\n———. 2023a. forcats: Tools for Working with Categorical Variables (Factors). https://doi.org/10.32614/CRAN.package.forcats.\n\n\n———. 2023b. stringr: Simple, Consistent Wrappers for Common String Operations. https://CRAN.R-project.org/package=stringr.\n\n\nWickham, Hadley, Mara Averick, Jennifer Bryan, Winston Chang, Lucy D’Agostino McGowan, Romain François, Garrett Grolemund, et al. 2019. “Welcome to the tidyverse.” Journal of Open Source Software 4 (43): 1686. https://doi.org/10.21105/joss.01686.\n\n\nWickham, Hadley, and Jennifer Bryan. 2023. readxl: Read Excel Files. https://CRAN.R-project.org/package=readxl.\n\n\nWickham, Hadley, Mine Çetinkaya-Rundel, and Garrett Grolemund. 2023. R for Data Science. Second Edition. O-Reilly. https://r4ds.hadley.nz.\n\n\nWickham, Hadley, Romain François, Lionel Henry, Kirill Müller, and Davis Vaughan. 2023. dplyr: A Grammar of Data Manipulation. https://CRAN.R-project.org/package=dplyr.\n\n\nWickham, Hadley, and Lionel Henry. 2023. purrr: Functional Programming Tools. https://CRAN.R-project.org/package=purrr.\n\n\nWickham, Hadley, Jim Hester, and Jennifer Bryan. 2024. readr: Read Rectangular Text Data. https://CRAN.R-project.org/package=readr.\n\n\nWickham, Hadley, Thomas Lin Pedersen, and Dana Seidel. 2023. scales: Scale Functions for Visualization. https://CRAN.R-project.org/package=scales.\n\n\nWickham, Hadley, Davis Vaughan, and Maximilian Girlich. 2024. tidyr: Tidy Messy Data. https://CRAN.R-project.org/package=tidyr.\n\n\nWilke, Claus. 2022. ggtextures: Drawing Textured Rectangles and Bars with grid and ggplot2. https://github.com/clauswilke/ggtextures.\n\n\nWilke, Claus O. 2024. cowplot: Streamlined Plot Theme and Plot Annotations for ’ggplot2’. https://wilkelab.org/cowplot/.\n\n\nWilke, Claus O., and Brenton M. Wiernik. 2022. ggtext: Improved Text Rendering Support for ’ggplot2’. https://CRAN.R-project.org/package=ggtext.\n\n\nwww.nobelprize.org. 2024. “Nobel Prize API Version 2.1.” https://api.nobelprize.org/2.1/laureates.\n\n\nYork, Piers. 2023. owidR: Import Data from Our World in Data. https://github.com/piersyork/owidR.\n\n\nYu, Guangchuang. 2023. ggimage: Use Image in ’ggplot2’. https://CRAN.R-project.org/package=ggimage.\n\n\nYutani, Hiroaki. 2023. gghighlight: Highlight Lines and Points in ’ggplot2’. https://CRAN.R-project.org/package=gghighlight.\n\n\nZehr, Sarah M., Richard G. Roach, David Haring, Julie Taylor, Freda H. Cameron, and Anne D. Yoder. 2014. “Life history profiles for 27 strepsirrhine primate taxa generated using captive data from the Duke Lemur Center.” Scientific Data 1 (1). https://doi.org/10.1038/sdata.2014.19.",
    "crumbs": [
      "일반적인 차트도 지루할 필요는 없습니다!",
      "<span class='chapter-number'>3</span>  <span class='chapter-title'>영국 박물관: **`gghighlight`**로 선형 차트 강조하기</span>"
    ]
  },
  {
    "objectID": "bee-colonies.html",
    "href": "bee-colonies.html",
    "title": "4  꿀벌 군집 손실:푸아송 디스크 샘플링으로 수량 시각화",
    "section": "",
    "text": "4.1 데이터\n이 장에서는 누락된 데이터의 패턴을 탐색하고, CRAN에서 사용할 수 없는 R 패키지를 설치하고, 푸아송 디스크 샘플링을 수행하는 방법을 알아보고, 두 변수로 패면 분류된 플롯을 만드는 방법을 배웁니다.\n이 장을 마치면 다음을 할 수 있습니다:\n이 장에 필요한 패키지들을 로드하는 것으로 시작해 보겠습니다.\n이 장에서는 두 개의 새로운 패키지도 사용합니다:\n주요 수분 매개자로서의 꿀벌은 우리 지구 생태계의 매우 중요한 부분입니다. 그러나 서식지 손실, 살충제 사용 및 질병과 같은 요인으로 인해 꿀벌의 수가 감소하고 있습니다 (Brown, Mark J.F. and Paxton, Robert J. 2009). 미국 농무부(USDA)는 매년 꿀벌 군집에 대한 데이터를 발표하는데, 여기에는 군집 수, 군집 크기, 군집 손실 또는 추가 비율, 군집 건강 스트레스 요인으로 확인된 요소에 대한 정보가 포함됩니다 (United States Department of Agriculture: Economics, Statistics and Market Information System 2022).\nUSDA 꿀벌 군집 데이터는 2022년 1월 TidyTuesday (R4DS Online Learning Community 2023) 데이터 세트로 사용되었으며 (Georgios Karamanis의 제안 이후), tidytuesdayR 패키지를 사용하여 로드할 수 있습니다:\ntuesdata &lt;- tt_load(\"2022-01-11\")\ncolony &lt;- tuesdata$colony\nstressor &lt;- tuesdata$stressor\n이 데이터 버전은 2021년 릴리스를 기반으로 하므로 2021년 6월까지의 데이터가 포함됩니다. 최신 데이터로 작업하려면 usda.library.cornell.edu/concern/publications/rn301137d에서 얻을 수 있습니다.\n두 가지 다른 데이터 세트가 포함되어 있습니다. 첫 번째인 colony에는 2015년 이후 각 미국 주별 꿀벌 군집 수와 크기에 대한 정보가 포함되어 있습니다. 두 번째인 stressor에는 꿀벌 군집에 대한 다양한 건강 스트레스 원인과 이러한 스트레스 요인에 의해 영향을 받는 군집 비율에 대한 정보가 포함되어 있으며, 역시 주 및 기간별로 나뉩니다.",
    "crumbs": [
      "일반적인 차트도 지루할 필요는 없습니다!",
      "<span class='chapter-number'>4</span>  <span class='chapter-title'>꿀벌 군집 손실:푸아송 디스크 샘플링으로 수량 시각화</span>"
    ]
  },
  {
    "objectID": "bee-colonies.html#탐색-작업",
    "href": "bee-colonies.html#탐색-작업",
    "title": "4  꿀벌 군집 손실:푸아송 디스크 샘플링으로 수량 시각화",
    "section": "\n4.2 탐색 작업",
    "text": "4.2 탐색 작업\n이 장에서는 colony 데이터에 초점을 맞추어 꿀벌 군집 수가 시간이 지남에 따라 어떻게 변하는지 그림을 그려보겠습니다.\n\n4.2.1 데이터 탐색\n기본 R의 boxplot() 함수를 사용하여 꿀벌 군집 수(colony_n)가 시간이 지남에 따라 어떻게 변하는지에 대한 간단한 상자 그림을 살펴보는 것으로 시작하겠습니다: \n\nboxplot(\n  colony_n ~ year,\n  data = colony,\n  horizontal = TRUE,\n  xlab = \"꿀벌 군집 수\",\n  ylab = NULL\n)\n\n\n\n\n\n\nFigure 4.1: 연도별 꿀벌 군집 수의 간단한 상자 그림으로, 매우 치우친 분포를 보여줍니다.\n\n\n\n\nFigure 4.1 은 사실 많은 정보를 제공하지는 않습니다. 군집 수의 분포가 매우 치우쳐 있고 꽤 많은 높은 값이 이상치로 분류되고 있다는 점을 시사할 뿐입니다. 이러한 이상치들로 인해 상자 그림의 주요 부분이 플롯의 왼쪽으로 찌그러져 있어 매년 평균적으로 얼마나 변하는지 알기 어렵습니다. 이것은 상자 그림의 더 일반적인 문제이기도 합니다. Anscombe’s quartet (Anscombe 1973)은 아마도 요약 통계의 불충분함을 보여주는 가장 유명한 예일 것입니다. 상자 그림은 본질적으로 변장한 요약 통계일 뿐입니다. 동일한 상자 그림을 가진 다른 데이터가 실제로는 매우 다른 분포에서 나올 수 있습니다 (Matejka and Fitzmaurice 2017).\n이러한 이상치의 원인을 이해하는 것부터 시작해 보겠습니다. 실제 값일까요? 데이터의 오류일까요? 아니면 데이터에 대해 잘못된 가정을 했을까요? 이를 더 잘 이해하기 위해 2020년 한 해를 확대하여 각 주의 군집 수를 살펴보고 가장 큰 이상치가 어떤 주와 관련이 있는지 이해해 보겠습니다. \n\ncolony_2020 &lt;- subset(colony, year == 2020)\nboxplot(\n  colony_n ~ state,\n  data = colony_2020,\n  horizontal = TRUE,\n  las = 1,\n  xlab = \"꿀벌 군집 수\",\n  ylab = NULL\n)\n\n\n\n\n\n\nFigure 4.2: ‘state’ 정의의 문제를 보여주는 주별 꿀벌 군집 수 상자 그림.\n\n\n\n\n군집 수가 훨씬 더 많은 몇 개의 주(캘리포니아, 플로리다, 노스다코타)가 있지만 주요 문제는 주(state) 중 하나가 미국 전체, 즉 다른 모든 값의 합계라는 것입니다. 또한 Figure 4.2 에서 모든 주가 개별적으로 포함되는 것은 아니라는 것을 알 수 있습니다. 일부 주(아마도 지역)를 그룹화한 \"Other States\" 범주가 대신 포함되어 있습니다.\n\n\n\n\n\n\nTip 4.1: 적절한 열 이름 선택\n\n\n\n불행히도 열 이름이 한 가지(예: 각 값은 주와 관련됨)를 암시하지만 해당 열에 실제로 다른 값(예: 국가)도 포함되는 것은 드문 일이 아닙니다. 열 이름을 지정할 때(특히 다른 사람과 공유할 데이터의 경우) 혼란을 피하기 위해 적절한 열 이름을 선택하십시오. 예를 들어 여기서는 region이 더 적절한 열 이름일 것입니다.\n\n\n상자 그림이 알려주지 않는 데이터의 또 다른 측면은 결측값입니다. 상자 그림은 있는 것만 플롯하고 없는 것은 플롯하지 않습니다. 기본 R 그래픽은 ggplot2 (Wickham 2016)가 하는 방식으로 NA 값에 대해 경고하지 않기 때문에 이 단계를 기억하는 것이 특히 중요합니다. 그렇다면 존재하지 않는 데이터는 어떻게 플롯할까요? \nvisdat 패키지 (Tierney 2017)는 데이터를 빠르게 살펴보는 훌륭한 방법입니다. 이름에서 알 수 있듯이 어떤 값이 누락되었는지 빠르게 시각화할 수 있는 vis_miss() 함수가 포함되어 있습니다. 압도적으로 큰 플롯을 만드는 것을 피하기 위해 한 주의 데이터만 시각화하는 것으로 시작하겠습니다. 기본 R의 subset() 함수를 사용하여 앨라배마주에 대한 데이터만 얻을 수 있습니다. \n\nlibrary(visdat)\ncolony_AL &lt;- subset(colony, state == \"Alabama\")\nvis_miss(colony_AL)\n\n\n\n\n\n\nFigure 4.3: 앨라배마와 관련된 데이터의 하위 집합에서 행과 열의 결측값을 보여주는 플롯으로, 결측값은 검은색 사각형으로 표시됩니다.\n\n\n\n\nFigure 4.3 의 vis_miss()로 생성된 플롯의 열 이름이 회전되어 가장 오른쪽 열 이름이 차트 영역 가장자리를 벗어나는 것을 알 수 있습니다. 이 문제를 해결하는 데 도움이 되는 두 가지 솔루션이 있습니다: \n\n열 이름을 축약하여 사용 가능한 공간을 초과할 가능성을 줄이는 visdat의 abbreviate_vars() 함수를 사용하십시오.\n\nvis_miss()의 플롯 출력이 ggplot2로 만들어졌다는 사실을 활용하십시오. 즉, theme() 함수를 사용하여 플롯의 오른쪽 여백에 사용할 수 있는 공간을 확장할 수 있습니다.\n\n\ncolony_AL |&gt;\n  abbreviate_vars(min_length = 8) |&gt;\n  vis_miss() +\n  theme(plot.margin = margin(r = 25))\n\n\n\n\n\n\nFigure 4.4: 앨라배마와 관련된 데이터의 하위 집합에서 행과 열의 결측값을 보여주는 플롯으로, 결측값은 검은색 사각형으로 표시됩니다. 데이터의 마지막 열에 대한 레이블은 이제 읽을 수 있으며 플롯의 가장자리에 숨겨져 있지 않습니다.\n\n\n\n\nFigure 4.4 에서 행은 시간 순서대로 정렬되어 있으며 특별한 패턴이 나타나지 않는 것을 볼 수 있습니다. colony_reno_pct 열에 결측 데이터가 가장 많고 모든 데이터(시간 및 주 제외)가 누락된 짧은 기간이 있습니다. 다른 주에 대해 이 시각화를 다시 생성하면 유사한 패턴을 볼 수 있습니다. \n2019년 4월-6월 기간 동안 모든 주에 대한 데이터를 사용할 수 없습니다. 이는 데이터가 단순히 무작위로 누락된 것이 아니라 이 기간 동안 지속적인 데이터 수집 문제가 있었음을 시사합니다. Figure 4.4 에서는 볼 수 없지만 데이터의 마지막 연도 말에 대한 데이터도 (암묵적으로) 누락되었습니다. 이는 데이터가 보고되는 시기(연간 데이터 릴리스는 8월에 발생함) 때문입니다. 즉, 모든 연도에 대해 데이터가 완전하지 않으므로 연간 평균을 구할 때 주의해야 합니다.\n이 장에서는 데이터의 결측값을 모델링, 대치 또는 제거하는 방법에 대해서는 다루지 않을 것입니다. 그 자체로 매우 큰 주제이기 때문입니다. 그러나 결측값을 명시적으로 다루든 그렇지 않든 결측값이 있는지 확인하고, 데이터 수집 프로세스의 어떤 측면이 이를 유발했을 수 있는지 고려하고, 이것이 도출할 수 있는 결론에 미치는 영향을 고려하는 것이 중요합니다.\n대신 완전한 데이터가 있는 분기로 시각화를 제한하겠습니다. 예를 들어 \"October-December\" 기간의 연간 추세만 살펴보는 것입니다. 하지만 이 접근 방식은 여전히 한계가 있습니다. 데이터는 분기별로 기록되므로 \"January-March\", \"April-June\", \"July-September\" 또는 \"October-December\" 중에서 선택할 수 있는 네 가지 옵션이 있습니다. 여기서는 \"October-December\"에 대한 데이터에 초점을 맞출 것입니다. 이 선택의 이유는 이 기간이 꿀벌 군집의 계절적 주기의 시작으로 간주되며 “이 시기의 군집 상태가 다음 해의 번영에 큰 영향을 미치기” 때문입니다 (Mid-Atlantic Apiculture Research and Extension Consortium 2024).\n\n\n\n\n\n\nTip 4.2: 누락된 패턴에 대한 패턴 놓치지 않기\n\n\n\n기본적으로 visdat 패키지는 누락된 데이터가 NA로 인코딩되어 있다고 가정합니다. 항상 그런 것은 아닙니다. 특히 직접 받기 전에 다른 소프트웨어로 처리된 데이터로 작업할 때 더욱 그렇습니다. 결측값이 \"\", \" \", 99, 999, - 또는 0과 같은 값을 사용하여 인코딩되는 것은 드문 일이 아닙니다. naniar 패키지 (Tierney and Cook 2023)는 결측값을 요약하고 처리하는 데 매우 유용합니다. naniar의 replace_with_na() 함수는 R에서 데이터를 더 쉽게 처리할 수 있도록 비정상적인 결측값 인코딩을 NA로 바꾸는 데 도움이 될 수 있습니다. \n결측값을 시각화할 때 열과 행의 순서를 생각하는 것도 중요합니다. 예를 들어 날짜가 있는 열이 있는 경우 결측 데이터를 시각화하기 전에 날짜별로 행을 정렬하면 결측의 시간적 패턴을 식별할 수 있습니다. 행이 다른 방식으로 정렬된 경우 이 패턴을 놓칠 수 있습니다.\n\n\n\n4.2.2 탐색적 스케치\n각 주에 대해 매년 평균 군집 수를 시각화해 보겠습니다. 선형 차트나 영역 차트와 같이 분명한 첫 번째 선택 목록이 있습니다. 간단한 막대 차트도 여기에서 효과적일 수 있습니다. 하지만 시각화 선택에 있어 조금 더 창의적이고 예술적이어야 합니다. 두 변수(주 및 연도)의 각 조합에서 사물(꿀벌 군집)의 수를 나타낼 수 있는 방법은 많습니다. 주와 연도의 모든 조합에 사용할 수 있는 데이터가 있으므로 Figure 4.5 와 같이 주와 연도의 그리드를 만들어 보겠습니다.\n\n\n\n\n\nFigure 4.5: 각 사각형이 연도와 미국 주의 조합을 나타내는 정사각형 그리드를 보여주는 초기 스케치.\n\n\n이제 각 그리드 사각형에서 단순히 사물의 수를 보여주려고 합니다. 어떻게 할 수 있을까요? 원을 그리고 원의 크기로 사물의 수를 보여줄 수 있습니다. 또는 각 사각형에 색을 칠하고 색의 강도로 사물의 수를 보여줄 수 있습니다. 또는 Figure 4.6 에서처럼 많은 점을 그리고 점의 수로 사물의 수를 보여줄 수 있습니다. 이러한 유형의 차트는 점 밀도 플롯(dot density plot)이라고 할 수 있으며 지리 데이터에 일반적으로 사용됩니다. \n또한 특정 지역의 주에 초점을 맞추거나 우리가 가장 관심 있는 단순한 주들만 시각화하도록 선택할 수도 있습니다.\n\n\n\n\n\nFigure 4.6: 각 연도 및 미국 주별 꿀벌 군집 수를 나타내는 점의 수를 보여주는 정사각형 그리드의 초기 스케치.",
    "crumbs": [
      "일반적인 차트도 지루할 필요는 없습니다!",
      "<span class='chapter-number'>4</span>  <span class='chapter-title'>꿀벌 군집 손실:푸아송 디스크 샘플링으로 수량 시각화</span>"
    ]
  },
  {
    "objectID": "bee-colonies.html#플롯-준비",
    "href": "bee-colonies.html#플롯-준비",
    "title": "4  꿀벌 군집 손실:푸아송 디스크 샘플링으로 수량 시각화",
    "section": "\n4.3 플롯 준비",
    "text": "4.3 플롯 준비\n이 플롯을 생생하게 표현하려면 몇 가지 작업을 완료해야 합니다:\n\n각 주별, 연도별 평균 군집 수를 계산합니다.\n군집 수를 나타낼 점에 대한 x 및 y 좌표를 시뮬레이션합니다.\n점을 플롯합니다.\n\n이것은 (때로는 복잡한) 준비가 많이 필요하지만 플로팅 자체는 비교적 간단한 차트 유형입니다.\n\n4.3.1 데이터 랭글링\n시각화할 주(states)의 하위 집합을 선택하는 것으로 시작하겠습니다:\n\nstates_to_plot &lt;- c(\n  \"California\", \"North Dakota\", \"Florida\",\n  \"Texas\", \"Idaho\", \"South Dakota\"\n)\n\n그런 다음 dplyr의 filter() 함수를 사용하여 데이터를 부분 집합화하여 이러한 주에 대한 행과 선택한 기간인 \"October-December\"만 포함합니다. 또한 select() 함수를 사용하여 연도, 주, 군집 수와 같이 플롯에 실제로 필요한 열만 유지합니다: \n\nplot_data &lt;- colony |&gt;\n  filter(\n    state %in% states_to_plot,\n    months == \"October-December\"\n  ) |&gt;\n  select(\n    year, state, colony_n\n  )\n\n기본적으로 주는 알파벳 순서로 정렬됩니다. 패턴을 더 쉽게 전달하기 위해 데이터의 마지막 연도(2020)에 있는 군집 수를 기준으로 주를 정렬합니다. 먼저 데이터를 2020년으로 필터링하고 colony_n 열을 기준으로 내림차순( dplyr의 desc() 사용)으로 데이터를 정렬한 다음 pull()을 사용하여 주 열을 추출하여 해당 순서를 결정합니다. \n\nstate_levels &lt;- plot_data |&gt;\n  filter(year == 2020) |&gt;\n  arrange(desc(colony_n)) |&gt;\n  pull(state)\n\n나중에 주 열을 팩터로 변환할 것이며, 이 state_levels 벡터는 팩터 레벨을 제공할 것입니다.\n이제 Figure 4.6 에서 스케치한 대로 각 그리드 사각형에서 꿀벌 군집 수를 나타낼 점을 생성해야 합니다. 균일 분포에서 x 및 y 좌표를 생성하는 runif() 함수를 사용하는 것과 같은 간단한 작업을 수행할 수 있습니다. 그러나 이 접근 방식은 약간 지저분해 보이는 플롯으로 이어질 가능성이 큽니다. 무작위성은 일반적으로 매우 좋아 보이지 않으며 많은 점이 겹쳐질 가능성이 큽니다. 대신 우리는 겹치지 않고 최소한 어느 정도 거리가 있는 점을 생성하고 싶습니다. 이를 위해 푸아송 디스크 샘플링(Poisson disk sampling)을 사용할 것입니다. \n\n4.3.2 poissoned를 사용한 푸아송 디스크 샘플링\n푸아송 디스크 샘플링은 점들이 대부분 무작위이지만 꽤 고르게 분포되는 패턴 유형인 블루 노이즈(blue noise)를 생성하는 한 가지 방법입니다. 푸아송 디스크 샘플링에서 모든 점은 적어도 \\(r\\) 거리만큼 떨어져 있어야 합니다. 즉, 각 점 주위에 반경 \\(r\\)의 디스크를 그리면 디스크에 다른 점이 포함되지 않습니다.\n푸아송 디스크 샘플링에는 여러 가지 접근 방식이 있습니다. 데이터를 생성하는 순진한(매우 느린) 방법은 데이터 포인트를 샘플링하는 것입니다. 두 번째 데이터 포인트를 샘플링합니다. 기존 데이터 포인트의 \\(r\\) 내에 있으면 버립니다. 그렇지 않으면 받아들여 데이터에 추가합니다. 반복합니다. 다행히도 계산적으로 더 효율적인 다른 접근 방식이 있으며, R에서 poissoned 패키지 (mikefc 2024)는 Bridson (2007) 에 설명된 접근 방식을 구현합니다. 이 패키지를 사용하면 2차원 또는 3차원으로 샘플을 생성할 수 있습니다(여기서는 2차원을 고수하겠습니다!).\n\n\n\n\n\n\nTip 4.3: GitHub에서 R 패키지 설치하기\n\n\n\nremotes 사용하기\n이 장을 처음 작성했을 때 poissoned 패키지는 CRAN에서 사용할 수 없었으므로 GitHub에서 대신 설치해야 했습니다. remotes 패키지 (Csárdi et al. 2024)를 사용하여 GitHub 또는 GitLab과 같은 원격 저장소에서 패키지를 설치할 수 있습니다. \"user/repository\" 형식의 문자열을 전달하여 install_github() 함수를 사용할 수 있습니다: \n\nlibrary(remotes)\ninstall_github(\"coolbutuseless/poissoned\")\n\npak 사용하기\nremotes의 대안은 pak 패키지 (Csárdi and Hester 2024)입니다. 사실 이것은 CRAN, Bioconductor, GitHub, URL, git 저장소 또는 로컬 디렉토리에서 R 패키지를 설치하는 또 다른 방법입니다. pak을 사용하여 GitHub에서 패키지를 설치하려면 pkg_install() 함수를 사용하고 다시 \"user/repository\" 문자열을 전달하십시오: \n\nlibrary(pak)\npkg_install(\"coolbutuseless/poissoned\")\n\n동일한 함수를 사용하여 CRAN에서 패키지를 설치할 수도 있습니다(예: pkg_install(\"ggplot2\")).\n\n\n각 그리드 사각형에 나타날 점의 x 및 y 좌표를 생성해야 합니다. 이를 위해 poissoned의 poisson2d() 함수를 사용할 것입니다. 두 좌표(x 및 y)를 저장하고 좌표 쌍의 수가 각 그리드 사각형마다 다르므로 출력을 리스트 열에 저장할 것입니다. dplyr의 mutate() 함수를 사용하여 다른 새 열을 추가하는 것과 같은 방식으로 리스트 열을 추가할 수 있습니다. 데이터의 각 행에 있는 state, year 및 colony_n 값에 따라 샘플을 생성하려고 하므로 dplyr의 rowwise() 함수를 사용합니다. 무작위 데이터를 생성하므로 코드를 실행할 때마다 동일한 플롯을 얻을 수 있도록 set.seed()를 사용하여 랜덤 시드를 설정해야 합니다. \n군집 수가 더 많은 곳은 더 밀집되어 더 많은 점을 포함하기를 원합니다. 즉, 군집 수가 더 많을 때 점 사이의 최소 반경이 더 작아야 합니다. 즉, r과 colony_n 사이에는 역의 관계가 있습니다. poisson2d()의 기본 그리드는 두 축 모두에서 0에서 10까지입니다. colony_n의 값 범위는 94000에서 770000까지이므로 최소 반경을 단순히 1/colony_n로 설정하면 점이 0.000001298701만큼만 떨어져 있게 됩니다. 너무 작습니다! 상수 인수를 곱하여 이 거리를 늘릴 수 있습니다. 몇 번의 시행착오 끝에 r을 200000/colony_n으로 설정했습니다. \n\nlibrary(poissoned)\nset.seed(123)\nbees_grid &lt;- plot_data |&gt;\n  rowwise() |&gt;\n  mutate(\n    pts = list(\n      poisson2d(r = 200000 / colony_n)\n    )\n  )\n\n푸아송 디스크 샘플링과 균일 샘플링의 차이를 확인하기 위해 일부 데이터를 시뮬레이션하고 플롯할 수 있습니다: \nset.seed(123)\n# Poisson disk sampling\npts &lt;- poisson2d()\nplot(\n  x = pts$x, y = pts$y,\n  main = \"푸아송 디스크 샘플링\"\n)\n# Uniform sampling same number of points\nplot(\n  x = runif(nrow(pts)), y = runif(nrow(pts)),\n  main = \"균일 샘플링\"\n)\n\n\n\n\n\n\n\n\n\n(a) 푸아송 디스크 샘플링\n\n\n\n\n\n\n\n\n\n(b) 균일 샘플링\n\n\n\n\n\n\nFigure 4.7: 푸아송 디스크 샘플링과 균일 샘플링을 사용하여 생성된 데이터를 비교하는 플롯.\n\n\nFigure 4.7 에서 푸아송 디스크 샘플링의 점 위치가 실제로는 완전히 무작위가 아니며 모양이 훨씬 더 좋다는 것을 알 수 있습니다.\nbees_grid 데이터로 돌아가서 tidyr의 unnest()를 사용하여 pts 리스트 열을 별도의 행과 열로 확장하고 state 열이 앞서 정의한 state_levels 변수에 의해 정렬된 팩터인지 확인합니다. \n\nbees_plot_data &lt;- bees_grid |&gt;\n  unnest(pts) |&gt;\n  mutate(\n    state = factor(state, levels = state_levels)\n  )\n\n이것은 다음과 같은 형태의 데이터 세트를 생성합니다:\n\nbees_plot_data\n\n# A tibble: 7,483 × 5\n    year state      colony_n     x     y\n   &lt;dbl&gt; &lt;fct&gt;         &lt;dbl&gt; &lt;dbl&gt; &lt;dbl&gt;\n 1  2015 California   750000  5.05  5.15\n 2  2015 California   750000  5.44  4.80\n 3  2015 California   750000  4.55  5.06\n 4  2015 California   750000  5.17  4.66\n 5  2015 California   750000  5.53  4.37\n 6  2015 California   750000  5.06  4.25\n 7  2015 California   750000  4.84  4.86\n 8  2015 California   750000  5.66  5.07\n 9  2015 California   750000  4.85  4.54\n10  2015 California   750000  5.37  5.29\n# ℹ 7,473 more rows\n\n\n\n4.3.3 첫 번째 플롯\n이전의 모든 장에서 했던 것처럼 ggplot() 함수를 사용하여 플롯을 시작하고 플롯의 모든 레이어에 사용할 기본 데이터 및 미적 매핑을 전달합니다. 점을 추가하기 위해 전통적인 산점도를 만드는 것과 같은 방식으로 geom_point()를 사용합니다. \nChapter 2 및 Chapter 3 에서 facet_wrap()을 사용하여 범주형 변수의 수준을 기반으로 작은 다중 플롯을 만들었습니다. 여기서 우리는 비슷한 것을 하고 싶지만 두 범주형 변수의 수준 조합을 기반으로 분할합니다. facet_grid() 함수를 추가하여 작은 다중 플롯의 그리드를 만듭니다. 여기서 state는 그리드의 행이고 year는 열입니다. switch = \"both\"를 설정하면 패싯 레이블이 기본값과 반대쪽 그리드 면에 배치됩니다. 이렇게 하면 레이블이 주의 경우 왼쪽에, 연도의 경우 아래쪽에 배치됩니다. \n\nbasic_plot &lt;- ggplot(\n  data = bees_plot_data,\n  mapping = aes(x = x, y = y)\n) +\n  geom_point() +\n  facet_grid(state ~ year, switch = \"both\")\nbasic_plot\n\n\n\n\n\n\nFigure 4.8: 각 그리드 사각형이 2015-2020년 사이의 1년과 캘리포니아, 노스다코타, 플로리다, 텍사스, 아이다호 또는 사우스다코타 중 하나를 나타내는 6x6 그리드. 각 사각형 내에서 점의 밀도는 꿀벌 군집의 수를 나타냅니다. 캘리포니아의 밀도가 높다는 것은 점들이 너무 빽빽하게 모여 있어 서로 구별할 수 없음을 의미합니다.\n\n\n\n\nFigure 4.8 의 점이 약간 너무 크다는 것을 알 수 있습니다. 캘리포니아 데이터의 점은 점으로 구별할 수조차 없고 검은색 사각형처럼 보입니다! 다음 플롯 반복에서는 점의 크기를 줄일 것입니다.",
    "crumbs": [
      "일반적인 차트도 지루할 필요는 없습니다!",
      "<span class='chapter-number'>4</span>  <span class='chapter-title'>꿀벌 군집 손실:푸아송 디스크 샘플링으로 수량 시각화</span>"
    ]
  },
  {
    "objectID": "bee-colonies.html#고급-스타일링",
    "href": "bee-colonies.html#고급-스타일링",
    "title": "4  꿀벌 군집 손실:푸아송 디스크 샘플링으로 수량 시각화",
    "section": "\n4.4 고급 스타일링",
    "text": "4.4 고급 스타일링\n이 차트의 스타일 요소를 편집하여 더 전문적이고 시각적으로 매력적으로 보이도록 만들어 보겠습니다.\n\n4.4.1 색상\n플롯의 색상을 선택하는 것으로 시작합니다. 열에 색상을 매핑하지는 않지만 플롯 배경색과 강조된 요소의 색상을 정의해야 합니다. 플롯을 깔끔하게 유지하기 위해 텍스트에도 동일한 색상을 사용합니다. Chapter 2 과 유사하게 데이터 주제에 맞는 색상을 선택할 수 있습니다. 꿀벌을 생각할 때 어떤 색상이 떠오르나요? 검은색과 노란색입니다. 배경색에는 노란색을, 강조 색상에는 검은색을 사용할 것입니다. \n\nbg_col &lt;- \"#FECC27\"\nhighlight_col &lt;- \"black\"\n\n각 그리드 사각형 내의 점 수를 시각화하려고 하므로 그리드 사각형과 플롯 배경 사이에 명확한 구분이 있어야 합니다. 즉, 플롯 영역의 배경색을 패싯 그리드 사각형의 배경색과 다른 색으로 만들어야 합니다. 전체 플롯 배경은 노란색이어야 하지만 각 그리드 사각형은 검은색 배경이어야 하며 점은 다시 노란색이어야 합니다. 돌이켜보면 아마도 highlight_col이 \"black\" 색상을 나타내는 가장 좋은 이름은 아닐 것입니다!\nFigure 4.8 에서 basic_plot을 다시 만들되 size 인수를 사용하여 점의 color를 변경하고 크기를 작게 만듭니다: \n\nbasic_plot &lt;- ggplot(\n  data = bees_plot_data,\n  mapping = aes(x = x, y = y)\n) +\n  geom_point(\n    size = 0.1,\n    color = bg_col\n  ) +\n  facet_grid(state ~ year, switch = \"both\")\nbasic_plot\n\n\n\n\n\n\nFigure 4.9: 각 그리드 사각형이 2015-2020년 사이의 1년과 캘리포니아, 노스다코타, 플로리다, 텍사스, 아이다호 또는 사우스다코타 중 하나를 나타내는 6x6 그리드. 각 사각형 내에서 점의 밀도는 꿀벌 군집의 수를 나타냅니다. 축소된(이제 노란색) 점 크기를 통해 가장 빽빽하게 채워진 그리드 사각형에서도 점을 서로 구별할 수 있습니다.\n\n\n\n\n나중에 Section 4.4.4 에서 패싯 그리드 사각형의 배경색을 편집할 것입니다.\n\n4.4.2 글꼴\n이것은 이미 시각적으로 꽤 복잡한 차트이므로 더 이상의 산만함을 피하고 차트의 모든 텍스트 요소에 동일한 서체를 사용할 것입니다. 즉, 단일 글꼴 변수 body_font만 정의합니다. 또한 간단하고 읽기 쉬운 서체를 사용할 것입니다. Red Hat은 산세리프 서체이며 Red Hat Text 버전은 특히 작은 글꼴 크기에서 가독성을 높이도록 설계되었습니다. 다시 말하지만 Google Fonts를 통해 사용할 수 있으므로 sysfonts의 font_add_google()을 사용하여 로드할 수 있으며 showtext_auto()를 사용하면 플롯이 showtext를 사용하여 텍스트를 자동으로 그릴 수 있습니다. \n\nfont_add_google(\n  name = \"Red Hat Text\", family = \"red_hat\"\n)\nfont_add_google(\n  name = \"Noto Sans KR\", family = \"noto_sans_kr\"\n)\nshowtext_auto()\nshowtext_opts(dpi = 300)\nbody_font &lt;- \"red_hat\"\nkorean_font &lt;- \"noto_sans_kr\"\n\n\n4.4.3 텍스트 추가\n이전 장과 마찬가지로 제목, 부제목 및 캡션에 대한 텍스트를 작성하고 문자열을 변수로 저장하여 기본 플로팅 코드를 더 깔끔하게 유지합니다. 부제목은 차트가 중요한 이유에 대한 동기(꿀벌 수 감소의 영향)를 설명하고 비표준 차트를 읽는 방법(꿀벌 수가 표시되는 방식)에 대한 짧은 설명을 제공합니다. 캡션은 데이터 소스와 차트 작성자 모두에게 크레딧을 제공합니다.\n\ntitle &lt;- \"미국의 꿀벌 군집 손실\"\nst &lt;- \"꿀벌은 자연의 생태적 균형과 생물 다양성을 보존하는 데 필수적입니다. 서식지 손실, 오염, 살충제 사용 등의 요인으로 인해 전 세계적으로 꿀벌 개체 수가 급격히 감소하고 있습니다. 각 사각형의 점 수는 매년 10월부터 12월까지 존재하는 꿀벌 군집의 수를 나타냅니다.\"\ncap &lt;- \"데이터: USDA | 그래픽: N. Rennie\"\n\n그런 다음 labs() 함수를 사용하여 이 텍스트를 추가하고 title, subtitle 및 caption을 설정할 수 있습니다. 데이터가 위치가 아닌 점의 수로 표시되므로 x축과 y축은 이 시각화에서 의미가 없습니다. Figure 4.10 에서 둘 다 NULL로 설정하여 x축 및 y축 제목을 제거합니다. \n\ntext_plot &lt;- basic_plot +\n  labs(\n    title = title,\n    subtitle = st,\n    caption = cap,\n    x = NULL, y = NULL\n  )\ntext_plot\n\n\n\n\n\n\nFigure 4.10: 각 그리드 사각형이 2015-2020년 사이의 1년과 캘리포니아, 노스다코타, 플로리다, 텍사스, 아이다호 또는 사우스다코타 중 하나를 나타내는 6x6 그리드. 각 사각형 내에서 점의 밀도는 꿀벌 군집의 수를 나타냅니다. 제목, 부제목 및 캡션이 추가되었지만 부제목이 페이지 측면으로 벗어납니다.\n\n\n\n\n\n4.4.4 테마 조정\n그런 다음 그리드 선도 제거하는 theme_void()를 사용하여 축 텍스트와 눈금을 제거할 수 있습니다. theme_void() 내에서 기본 서체를 사전 정의된 body_font 변수로 설정하고 패싯 레이블이 할당된 공간 내에 맞도록 크기를 줄일 수도 있습니다. \n그리드 사각형은 x축과 y축 모두 0-10이므로 점이 한 방향으로 더 가까워 보이는 것을 피하기 위해 그리드 사각형이 직사각형이 아니라 실제로 정사각형인 것이 합리적입니다. 1:1 종횡비를 강제하기 위해 coord_fixed()를 사용합니다. 플롯의 가장자리 주변의 추가 패딩을 제거하기 위해 expand = FALSE를 설정하면 점 밀도의 차이를 더 쉽게 볼 수 있습니다. \n\ntheme_plot &lt;- text_plot +\n  coord_fixed(expand = FALSE) +\n  theme_void(\n    base_family = body_font,\n    base_size = 7.5\n  ) +\n  theme(\n    text = element_text(family = korean_font),\n    plot.title = element_text(family = korean_font),\n    plot.subtitle = element_textbox_simple(family = korean_font)\n  )\n\n마지막 단계는 나머지 테마 요소를 조정하는 것입니다: \n\n플롯의 배경색(plot.background는 bg_col을 사용하여 노란색으로 설정)과 그리드 사각형(panel.background는 highlight_col을 사용하여 검은색으로 설정)을 편집합니다.\n패싯 레이블의 텍스트 색상과 여백은 strip.text 인수를 사용하여 수정할 수 있습니다. 여기서는 텍스트에 약간 다른 여백을 추가하기 때문에(x축 패싯의 경우 위쪽 여백, y축 패싯의 경우 오른쪽 여백) 텍스트가 x 및 y 패싯 레이블에 대해 별도로 변경됩니다.\n제목, 부제목 및 캡션 텍스트 색상을 highlight_col로 변경하고 element_text()를 사용하여 캡션을 왼쪽에 정렬합니다. 부제목은 Chapter 2 에 설명된 대로 긴 텍스트의 자동 줄 바꿈을 활성화하기 위해 ggtext의 element_textbox_simple()을 사용하여 정의됩니다.\nplot.margin을 조정하여 플롯 가장자리 주위에 공간을 추가하고 오른쪽에 약간 더 많은 공간을 추가합니다. 이렇게 하면 왼쪽의 패싯 레이블 텍스트에서 생성된 공간을 상쇄하므로 플롯이 더 균형 있게 보입니다.\n\n\ntheme_plot +\n  theme(\n    # background colors\n    plot.background = element_rect(\n      fill = bg_col, color = bg_col\n    ),\n    panel.background = element_rect(\n      fill = highlight_col, color = highlight_col\n    ),\n    # facet labels\n    strip.text.x = element_text(\n      color = highlight_col,\n      margin = margin(t = 5)\n    ),\n    strip.text.y = element_text(\n      color = highlight_col,\n      angle = 90,\n      margin = margin(r = 5)\n    ),\n    # text formatting\n    plot.title = element_text(\n      color = highlight_col,\n      face = \"bold\"\n    ),\n    plot.subtitle = element_textbox_simple(\n      color = highlight_col,\n      margin = margin(t = 5, b = 5)\n    ),\n    plot.caption = element_text(\n      color = highlight_col,\n      margin = margin(t = 5),\n      hjust = 0\n    ),\n    plot.margin = margin(5, 10, 5, 5)\n  )\n\n\n\n각 그리드 사각형이 2015-2020년 사이의 1년과 캘리포니아, 노스다코타, 플로리다, 텍사스, 아이다호 또는 사우스다코타 중 하나를 나타내는 6x6 그리드. 각 사각형 내에서 점의 밀도는 꿀벌 군집의 수를 나타냅니다. 디자인은 훨씬 더 미니멀하며 그리드 사각형의 검은색 배경으로 인해 대비가 높아져 노란색 점을 더 쉽게 볼 수 있습니다.\n\n\n\n이제 플롯을 완성했으며 ggsave()로 저장할 수 있습니다. \n\nggsave(\n  filename = \"bee-colonies.png\",\n  width = 5,\n  height = 5\n)",
    "crumbs": [
      "일반적인 차트도 지루할 필요는 없습니다!",
      "<span class='chapter-number'>4</span>  <span class='chapter-title'>꿀벌 군집 손실:푸아송 디스크 샘플링으로 수량 시각화</span>"
    ]
  },
  {
    "objectID": "bee-colonies.html#성찰",
    "href": "bee-colonies.html#성찰",
    "title": "4  꿀벌 군집 손실:푸아송 디스크 샘플링으로 수량 시각화",
    "section": "\n4.5 성찰",
    "text": "4.5 성찰\n이 차트의 비표준적 성격과 함께 꿀벌 테마의 색상은 시각적으로 흥미롭고 재미있습니다. 그러나 차트를 해석하는 방법을 이해하는 데는 조금 더 시간이 걸립니다. 이것은 저자가 차트의 작동 방식을 설명할 시간이 있는 환경에서 더 잘 작동할 시각화입니다. 예를 들어 프레젠테이션이나 이 차트를 읽는 방법 설명이 포함된 기사에서 그렇습니다. 설명이 없는 독립형 리플릿에서는 독자가 표시되는 내용을 이해하는 데 어려움을 겪을 수 있으므로 잘 작동하지 않을 것입니다. 차트 유형으로 시간 경과에 따른 추세를 보기는 더 어렵습니다. 간단한 선형 차트는 동일한 데이터를 보다 표준적이고 해석하기 쉬운 방식으로 표시할 수 있습니다. 그러나 선형 차트는 같은 방식으로 주의를 끌지 못합니다. 모든 것은 차트의 목적에 달려 있습니다. 주된 목표가 꿀벌 군집에 대한 중요한 데이터에 주의를 끌고 전반적인 추세를 보여주는 것입니까? 아니면 주된 목표가 각 연도의 군집 크기를 어느 정도의 정확도 범위 내에서 전달하는 것입니까? 이러한 질문에 대한 답이 이것이 적절한 차트 유형인지 여부를 결정할 것입니다.\n이 차트 버전은 6개 주에 대한 데이터만 보여주지만 탐색적 분석을 통해 (거의) 모든 주에 대한 데이터를 사용할 수 있음을 알고 있습니다. 이러한 주가 선택된 이유에 대한 설명이 부제목에 추가되거나 모든 주에 대한 데이터가 표시될 수 있습니다. 비록 매우 긴 차트가 되겠지만 말입니다! 시각화는 또한 각 주에 동일한 차트 영역을 할당합니다. 아마도 각 주가 동일한 지리적 영역을 가지고 있음을 암시할 수 있지만 물론 사실이 아닙니다. 차트는 캘리포니아에 꿀벌이 많다는 것을 보여줍니다. 캘리포니아는 면적 면에서도 세 번째로 큰 주입니다 (United States Census Bureau 2021b). 아마도 꿀벌이 살 공간이 더 많을까요? 아마도 데이터를 주 면적(또는 주 농업 면적)으로 표준화하면 주 간의 비교가 더 쉬울 것입니다.\n이 차트의 또 다른 단점은 단 하나의 변수, 즉 꿀벌 군집 수만 시각화한다는 것입니다. 그러나 군집 수가 적더라도 군집 크기가 크면 꿀벌 수가 크게 변하지 않는다는 것을 의미할 수 있습니다. 그러나 군집 수만 보면 그것을 알 수 없습니다. 차트를 단일 변수로 제한하면 데이터의 전체 그림을 얻을 수 없습니다.\n이러한 유형의 시각화에는 몇 가지 단점이 있고 완벽하지는 않지만 차트 디자인에 대해 창의적으로 생각하는 방법과 R에서 구현하는 방법에 대한 아이디어를 제공하기를 바랍니다.",
    "crumbs": [
      "일반적인 차트도 지루할 필요는 없습니다!",
      "<span class='chapter-number'>4</span>  <span class='chapter-title'>꿀벌 군집 손실:푸아송 디스크 샘플링으로 수량 시각화</span>"
    ]
  },
  {
    "objectID": "bee-colonies.html#연습-문제",
    "href": "bee-colonies.html#연습-문제",
    "title": "4  꿀벌 군집 손실:푸아송 디스크 샘플링으로 수량 시각화",
    "section": "\n4.6 연습 문제",
    "text": "4.6 연습 문제\n\ncolony_n 대신 colony_max 열을 사용하여 이 장의 시각화를 다시 만드십시오.\n같은 차트에 두 열을 어떻게 시각화할 수 있습니까?\n\n\n\n\n\nAnscombe, F. J. 1973. “Graphs in Statistical Analysis.” The American Statistician 27 (1): 17–21. https://doi.org/10.1080/00031305.1973.10478966.\n\n\nAphalo, Pedro J. 2024. Learn R: As a Language. Second Edition. CRC Press. https://www.learnr-book.info/.\n\n\nAuguie, Baptiste. 2019. egg: Extensions for ’ggplot2’: Custom Geom, Custom Themes, Plot Alignment, Labelled Panels, Symmetric Scales, and Fixed Panel Size. https://CRAN.R-project.org/package=egg.\n\n\nBarthelme, Simon. 2024. imager: Image Processing Library Based on ’CImg’. https://CRAN.R-project.org/package=imager.\n\n\nBrand, Teun van den. 2025. “ggplot2 4.0.0.” https://www.tidyverse.org/blog/2025/09/ggplot2-4-0-0/.\n\n\nBridson, Robert. 2007. “Fast Poisson Disk Sampling in Arbitrary Dimensions.” In ACM SIGGRAPH 2007 Sketches. SIGGRAPH ’07. New York, NY, USA: Association for Computing Machinery. https://doi.org/10.1145/1278780.1278807.\n\n\nBrown, Mark J.F., and Paxton, Robert J. 2009. “The Conservation of Bees: A Global Perspective.” Apidologie 40 (3): 410–16. https://doi.org/10.1051/apido/2009019.\n\n\nCameron, Allan, and Teun van den Brand. 2024. geomtextpath: Curved Text in ’ggplot2’. https://CRAN.R-project.org/package=geomtextpath.\n\n\nCARTO. 2016. ’CARTOColors’ Palettes. https://carto.com/carto-colors/.\n\n\nChang, Winston. 2023. extrafont: Tools for Using Fonts. https://CRAN.R-project.org/package=extrafont.\n\n\nCheung, Foo. 2021. dumbbell: Displaying Changes Between Two Points Using Dumbbell Plots. https://CRAN.R-project.org/package=dumbbell.\n\n\nCowgill, Matt, and John Helveston. 2021. ggannotate: Interactively Annotate ggplot2 Plots. https://github.com/MattCowgill/ggannotate.\n\n\nCsárdi, Gábor, and Jim Hester. 2024. pak: Another Approach to Package Installation. https://CRAN.R-project.org/package=pak.\n\n\nCsárdi, Gábor, Jim Hester, Hadley Wickham, Winston Chang, Martin Morgan, and Dan Tenenbaum. 2024. remotes: R Package Installation from Remote Repositories, Including ’GitHub’. https://CRAN.R-project.org/package=remotes.\n\n\nDomin, Iaroslav. 2024. ggview: ’ggplot2’ Picture Previewer. https://CRAN.R-project.org/package=ggview.\n\n\nEngler, Jan Broder. 2024. “Tidyplots Empowers Life Scientists with Easy Code-Based Data Visualization.” bioRxiv. https://doi.org/10.1101/2024.11.08.621836.\n\n\nFC, Mike, Trevor L. Davis, and ggplot2 authors. 2024. ggpattern: ’ggplot2’ Pattern Geoms. https://CRAN.R-project.org/package=ggpattern.\n\n\nFlaticon.com. 2024. “Wind Power Flaticon.” https://www.flaticon.com/free-icon/wind-power_5670189.\n\n\nFont Awesome. 2024. “Font Awesome 6.” https://fontawesome.com/.\n\n\nFranconeri, Steven L., Lace M. Padilla, Priti Shah, Jeffrey M. Zacks, and Jessica Hullman. 2021. “The Science of Visual Data Communication: What Works.” Psychological Science in the Public Interest 22 (3): 110–61. https://doi.org/10.1177/15291006211051956.\n\n\nGarnier, Simon, Ross, Noam, Rudis, Robert, Camargo, et al. 2024. viridis(Lite) - Colorblind-Friendly Color Maps for R. https://doi.org/10.5281/zenodo.4679423.\n\n\nGohel, David, and Panagiotis Skintzos. 2024. ggiraph: Make ’ggplot2’ Graphics Interactive. https://CRAN.R-project.org/package=ggiraph.\n\n\nGovernment Analysis Function. 2021. “Data Visualisation: Colours.” https://analysisfunction.civilservice.gov.uk/policy-store/data-visualisation-colours-in-charts/.\n\n\nHafen, Ryan. 2023. geofacet: ’ggplot2’ Faceting Utilities for Geographical Data. https://CRAN.R-project.org/package=geofacet.\n\n\nHarmon, Jon. 2024. Web APIs with R. CRC Press. https://wapir.io/.\n\n\nHester, Jim, Florent Angly, Russ Hyde, Michael Chirico, Kun Ren, Alexander Rosenstock, and Indrajeet Patil. 2024. lintr: A ’Linter’ for R Code. https://CRAN.R-project.org/package=lintr.\n\n\nHester, Jim, and Jennifer Bryan. 2024. glue: Interpreted String Literals. https://glue.tidyverse.org/.\n\n\nHughes, Ellis. 2022a. camcorder: Record Your Plot History. https://CRAN.R-project.org/package=camcorder.\n\n\n———. 2022b. tidytuesdayR: Access the Weekly ’TidyTuesday’ Project Dataset. https://CRAN.R-project.org/package=tidytuesdayR.\n\n\nHvitfeldt, Emil. 2021. paletteer: Comprehensive Collection of Color Palettes. https://github.com/EmilHvitfeldt/paletteer.\n\n\n———. 2025. animalshelter: Animal Shelter Data. https://github.com/EmilHvitfeldt/animalshelter.\n\n\nIannone, Richard. 2024. fontawesome: Easily Work with ’Font Awesome’ Icons. https://CRAN.R-project.org/package=fontawesome.\n\n\nInternet Assigned Numbers Authority. 2023. “The tz Database: Time Zone and Daylight Saving Time Data.” Internet Assigned Numbers Authority. https://data.iana.org/time-zones/tz-link.html.\n\n\nJax (@lysrix). 2017. “Lemur.” https://unsplash.com/photos/red-and-white-rodent-h5xrh3CNT-k.\n\n\nKays, R., R. R. Dunn, A. W. Parsons, B. Mcdonald, T. Perkins, S. A. Powers, L. Shell, et al. 2020. “The Small Home Ranges and Large Local Ecological Impacts of Pet Cats.” Animal Conservation 23 (5): 516–23. https://doi.org/10.1111/acv.12563.\n\n\nKeyes, David. 2024. R for the Rest of Us: A Statistics-Free Introduction. No Starch Press. https://book.rfortherestofus.com/.\n\n\nLong Beach Animal Shelter. 2025. “Animal Shelter Data.” City of Long Beach Animal Care Services. https://data.longbeach.gov/explore/dataset/animal-shelter-intakes-and-outcomes/information/.\n\n\nLucchesi, Lydia, and Petra Kuhnert. 2020. Vizumap: Visualizing Uncertainty in Spatial Data. https://github.com/lydialucchesi/Vizumap.\n\n\nMapping Museums. 2021. “Mapping Museums Data.” www.mappingmuseums.org.\n\n\nMassicotte, Philippe, and Andy South. 2023. rnaturalearth: World Map Data from Natural Earth. https://docs.ropensci.org/rnaturalearth/.\n\n\nMatejka, Justin, and George Fitzmaurice. 2017. “Same Stats, Different Graphs: Generating Datasets with Varied Appearance and Identical Statistics Through Simulated Annealing.” In, 1290–94. https://doi.org/10.1145/3025453.3025912.\n\n\nMcDonald, J. L., and H. Cole. 2020. “Data from: The Small Home Ranges and Large Local Ecological Impacts of Pet Cats [United Kingdom].” Movebank data repository. https://doi.org/doi:10.5441/001/1.pf315732.\n\n\nMcWhite, Claire D., and Claus O. Wilke. 2024. colorblindr: Simulate colorblindness in R figures. https://github.com/clauswilke/colorblindr.\n\n\nMid-Atlantic Apiculture Research and Extension Consortium. 2024. “Seasonal Cycles of Activities in Colonies.” https://canr.udel.edu/maarec/honey-bee-biology/seasonal-cycles-of-activities-in-colonies/.\n\n\nmikefc. 2024. poissoned: Tileable Poisson Disc Sampling. https://github.com/coolbutuseless/poissoned.\n\n\nMills, Blake Robert. 2022. MetBrewer: Color Palettes Inspired by Works at the Metropolitan Museum of Art. https://CRAN.R-project.org/package=MetBrewer.\n\n\nMIT Election Data and Science Lab. 2017. “U.S. House 1976–2022.” Harvard Dataverse. https://doi.org/10.7910/DVN/IG0UN2.\n\n\nMüller, Kirill, and Lorenz Walthert. 2023. styler: Non-Invasive Pretty Printing of R Code. https://CRAN.R-project.org/package=styler.\n\n\nMüller, Kirill, and Hadley Wickham. 2023. tibble: Simple Data Frames. https://CRAN.R-project.org/package=tibble.\n\n\nMuth, Lisa. 2018. “An Alternative to Pink & Blue: Colors for Gender Data.” https://blog.datawrapper.de/gendercolor/.\n\n\nNatural Resources Canada. 2021. “Canadian Wind Turbine Database.” Natural Resources Canada (Government of Canada). https://open.canada.ca/data/en/dataset/79fdad93-9025-49ad-ba16-c26d718cc070.\n\n\nNoblet, Guillaume. 2025. ggbranding: Add Personal Branding to ’ggplot2’ Charts. https://github.com/gnoblet/ggbranding.\n\n\nNowosad, Jakub. 2018. ’CARTOColors’ Palettes. https://jakubnowosad.com/rcartocolor/.\n\n\nOoms, Jeroen. 2024. magick: Advanced Graphics and Image-Processing in R. https://CRAN.R-project.org/package=magick.\n\n\nOur World in Data. 2019. “Medical Doctors Per 1,000 People.” https://ourworldindata.org/grapher/physicians-per-1000-people.\n\n\nPebesma, Edzer. 2018. “Simple Features for R: Standardized Support for Spatial Vector Data.” The R Journal 10 (1): 439–46. https://doi.org/10.32614/RJ-2018-009.\n\n\nPedersen, Thomas Lin. 2022. ggforce: Accelerating ’ggplot2’. https://CRAN.R-project.org/package=ggforce.\n\n\n———. 2024. patchwork: The Composer of Plots. https://CRAN.R-project.org/package=patchwork.\n\n\n———. 2025. “Fonts in R.” https://www.tidyverse.org/blog/2025/05/fonts-in-r/.\n\n\nPedersen, Thomas Lin, and Martin Mitáš. 2024. marquee: Markdown Parser and Renderer for R Graphics. https://CRAN.R-project.org/package=marquee.\n\n\nPedersen, Thomas Lin, Jeroen Ooms, and Devon Govett. 2024. systemfonts: System Native Font Finding. https://CRAN.R-project.org/package=systemfonts.\n\n\nPedersen, Thomas Lin, and Maxim Shemanarev. 2023. ragg: Graphic Devices Based on AGG. https://CRAN.R-project.org/package=ragg.\n\n\nPLDB contributors. 2022. “PLDB: A Programming Language Database.” PLDB. https://pldb.com.\n\n\nQiu, Yixuan. 2022. sysfonts: Loading Fonts into R. https://CRAN.R-project.org/package=sysfonts.\n\n\n———. 2023. showtext: Using Fonts More Easily in R Graphs. https://CRAN.R-project.org/package=showtext.\n\n\nR Core Team. 2024. R: A Language and Environment for Statistical Computing. Vienna, Austria: R Foundation for Statistical Computing. https://www.R-project.org/.\n\n\nR4DS Online Learning Community. 2023. “Tidy Tuesday: A Weekly Social Data Project.” https://github.com/rfordatascience/tidytuesday.\n\n\nRennie, Nicola. 2023a. “Adding Social Media Icons to Charts with ggplot2.” https://nrennie.rbind.io/blog/adding-social-media-icons-ggplot2/.\n\n\n———. 2023b. “Creating Template Files with R.” https://nrennie.rbind.io/blog/script-templates-r/.\n\n\n———. 2023c. “Four Ways to Streamline Your R Workflows.” https://nrennie.rbind.io/blog/four-ways-streamline-r-workflows/.\n\n\n———. 2024a. ggtextcircle: Circular Text in ’ggplot2’. https://github.com/nrennie/ggtextcircle.\n\n\n———. 2024b. nobel: Access data from the Nobel Prize API via R. https://github.com/nrennie/nobel.\n\n\n———. 2024c. “tidytuesday.” GitHub Repository. GitHub. https://github.com/nrennie/tidytuesday.\n\n\nRennie, Nicola, and Andreas Krause. 2024. “Presenting data the Significance way - Part 1.” Significance 21 (3): 36–39. https://doi.org/10.1093/jrssig/qmae045.\n\n\nReynolds, Gina. 2025. “Everyday ggplot2 extension.” https://evamaerey.github.io/everyday_ggplot2_extension/.\n\n\nRStudio. 2018a. “forcats Hex Sticker.” https://github.com/rstudio/hex-stickers/blob/main/PNG/forcats.png.\n\n\n———. 2018b. “ggplot2 Hex Sticker.” https://github.com/rstudio/hex-stickers/blob/main/PNG/ggplot2.png.\n\n\n———. 2018c. “purrr Hex Sticker.” https://github.com/rstudio/hex-stickers/blob/main/PNG/purrr.png.\n\n\n———. 2018d. “readr Hex Sticker.” https://github.com/rstudio/hex-stickers/blob/main/PNG/readr.png.\n\n\n———. 2018e. “tibble Hex Sticker.” https://github.com/rstudio/hex-stickers/blob/main/PNG/tibble.png.\n\n\n———. 2020a. “dplyr Hex Sticker.” https://github.com/rstudio/hex-stickers/blob/main/PNG/dplyr.png.\n\n\n———. 2020b. “stringr Hex Sticker.” https://github.com/rstudio/hex-stickers/blob/main/PNG/stringr.png.\n\n\n———. 2020c. “tidyr Hex Sticker.” https://github.com/rstudio/hex-stickers/blob/main/PNG/tidyr.png.\n\n\nRudis, Bob, Ben Bolker, and Jan Schulz. 2017. ggalt: Extra Coordinate Systems, ’Geoms’, Statistical Transformations, Scales and Fonts for ’ggplot2’. https://CRAN.R-project.org/package=ggalt.\n\n\nRudis, Bob, and Dave Gandy. 2023. waffle: Create Waffle Chart Visualizations. https://CRAN.R-project.org/package=waffle.\n\n\nSarkar, Deepayan. 2008. Lattice: Multivariate Data Visualization with r. New York: Springer. http://lmdvr.r-forge.r-project.org.\n\n\nSchauberger, Philipp, and Alexander Walker. 2023. openxlsx: Read, Write and Edit xlsx Files. https://CRAN.R-project.org/package=openxlsx.\n\n\nScheuch, Christoph. 2025. owidapi: Access the Our World in Data Chart API. https://doi.org/10.32614/CRAN.package.owidapi.\n\n\nSchloerke, Barret, Di Cook, Joseph Larmarange, Francois Briatte, Moritz Marbach, Edwin Thoen, Amos Elberg, and Jason Crowley. 2024. GGally: Extension to ’ggplot2’. https://CRAN.R-project.org/package=GGally.\n\n\nSchloss, Karen B., Connor C. Gramazio, Allison T. Silverman, Madeline L. Parker, and Audrey S. Wang. 2019. “Mapping Color to Meaning in Colormap Data Visualizations.” IEEE Transactions on Visualization and Computer Graphics 25 (1): 810–19. https://doi.org/10.1109/TVCG.2018.2865147.\n\n\nShalloway, Bryan. 2023. funspotr: Spot R Functions & Packages. https://CRAN.R-project.org/package=funspotr.\n\n\nSievert, Carson. 2020. Interactive Web-Based Data Visualization with r, Plotly, and Shiny. Chapman; Hall/CRC. https://plotly-r.com.\n\n\nSlowikowski, Kamil. 2024. ggrepel: Automatically Position Non-Overlapping Text Labels with ’ggplot2’. https://CRAN.R-project.org/package=ggrepel.\n\n\nTierney, Nicholas. 2017. “visdat: Visualising Whole Data Frames.” JOSS 2 (16): 355. https://doi.org/10.21105/joss.00355.\n\n\nTierney, Nicholas, and Dianne Cook. 2023. “Expanding Tidy Data Principles to Facilitate Missing Data Exploration, Visualization and Assessment of Imputations.” Journal of Statistical Software 105 (7): 1–31. https://doi.org/10.18637/jss.v105.i07.\n\n\nTol, Paul. 2021. “Paul Tol’s Notes: Colour schemes and templates.” https://sronpersonalpages.nl/~pault/.\n\n\nUnited States Census Bureau. 2021a. “Historical Population Change Data (1910-2020).” https://www.census.gov/data/tables/time-series/dec/popchange-data-text.html.\n\n\n———. 2021b. “State Area Measurements and Internal Point Coordinates.” https://www.census.gov/geographies/reference-files/2010/geo/state-area.html.\n\n\nUnited States Department of Agriculture: Economics, Statistics and Market Information System. 2022. “Honey Bee Colonies.” USDA Economics, Statistics and Market Information System. https://usda.library.cornell.edu/concern/publications/rn301137d.\n\n\nWalker, Kyle. 2022. crsuggest: Obtain Suggested Coordinate Reference System Information for Spatial Data. https://CRAN.R-project.org/package=crsuggest.\n\n\nWanzer, Dana Linnell, Tarek Azzam, Natalie D. Jones, and Darrel Skousen. 2021. “The Role of Titles in Enhancing Data Visualization.” Evaluation and Program Planning 84: 101896. https://doi.org/10.1016/j.evalprogplan.2020.101896.\n\n\nWickham, Hadley. 2016. ggplot2: Elegant Graphics for Data Analysis. Springer-Verlag New York. https://ggplot2.tidyverse.org.\n\n\n———. 2023a. forcats: Tools for Working with Categorical Variables (Factors). https://doi.org/10.32614/CRAN.package.forcats.\n\n\n———. 2023b. stringr: Simple, Consistent Wrappers for Common String Operations. https://CRAN.R-project.org/package=stringr.\n\n\nWickham, Hadley, Mara Averick, Jennifer Bryan, Winston Chang, Lucy D’Agostino McGowan, Romain François, Garrett Grolemund, et al. 2019. “Welcome to the tidyverse.” Journal of Open Source Software 4 (43): 1686. https://doi.org/10.21105/joss.01686.\n\n\nWickham, Hadley, and Jennifer Bryan. 2023. readxl: Read Excel Files. https://CRAN.R-project.org/package=readxl.\n\n\nWickham, Hadley, Mine Çetinkaya-Rundel, and Garrett Grolemund. 2023. R for Data Science. Second Edition. O-Reilly. https://r4ds.hadley.nz.\n\n\nWickham, Hadley, Romain François, Lionel Henry, Kirill Müller, and Davis Vaughan. 2023. dplyr: A Grammar of Data Manipulation. https://CRAN.R-project.org/package=dplyr.\n\n\nWickham, Hadley, and Lionel Henry. 2023. purrr: Functional Programming Tools. https://CRAN.R-project.org/package=purrr.\n\n\nWickham, Hadley, Jim Hester, and Jennifer Bryan. 2024. readr: Read Rectangular Text Data. https://CRAN.R-project.org/package=readr.\n\n\nWickham, Hadley, Thomas Lin Pedersen, and Dana Seidel. 2023. scales: Scale Functions for Visualization. https://CRAN.R-project.org/package=scales.\n\n\nWickham, Hadley, Davis Vaughan, and Maximilian Girlich. 2024. tidyr: Tidy Messy Data. https://CRAN.R-project.org/package=tidyr.\n\n\nWilke, Claus. 2022. ggtextures: Drawing Textured Rectangles and Bars with grid and ggplot2. https://github.com/clauswilke/ggtextures.\n\n\nWilke, Claus O. 2024. cowplot: Streamlined Plot Theme and Plot Annotations for ’ggplot2’. https://wilkelab.org/cowplot/.\n\n\nWilke, Claus O., and Brenton M. Wiernik. 2022. ggtext: Improved Text Rendering Support for ’ggplot2’. https://CRAN.R-project.org/package=ggtext.\n\n\nwww.nobelprize.org. 2024. “Nobel Prize API Version 2.1.” https://api.nobelprize.org/2.1/laureates.\n\n\nYork, Piers. 2023. owidR: Import Data from Our World in Data. https://github.com/piersyork/owidR.\n\n\nYu, Guangchuang. 2023. ggimage: Use Image in ’ggplot2’. https://CRAN.R-project.org/package=ggimage.\n\n\nYutani, Hiroaki. 2023. gghighlight: Highlight Lines and Points in ’ggplot2’. https://CRAN.R-project.org/package=gghighlight.\n\n\nZehr, Sarah M., Richard G. Roach, David Haring, Julie Taylor, Freda H. Cameron, and Anne D. Yoder. 2014. “Life history profiles for 27 strepsirrhine primate taxa generated using captive data from the Duke Lemur Center.” Scientific Data 1 (1). https://doi.org/10.1038/sdata.2014.19.",
    "crumbs": [
      "일반적인 차트도 지루할 필요는 없습니다!",
      "<span class='chapter-number'>4</span>  <span class='chapter-title'>꿀벌 군집 손실:푸아송 디스크 샘플링으로 수량 시각화</span>"
    ]
  },
  {
    "objectID": "animal-intakes.html",
    "href": "animal-intakes.html",
    "title": "5  동물 보호소 입소: ggforce를 사용한 게이지 차트 만들기",
    "section": "",
    "text": "5.1 데이터\n이 장에서는 ggforce 확장 패키지의 도움으로 ggplot2에 기본적으로 포함되지 않은 차트 유형인 게이지 차트를 만드는 방법을 알아봅니다.\n이 장을 마치면 다음을 할 수 있게 됩니다:\n이 장에 필요한 패키지를 로드하는 것으로 시작합니다.\n이 장에서는 이전 장에서 아직 사용하지 않은 몇 가지 새로운 패키지를 소개합니다:\nLong Beach 동물 보호소 데이터 세트 (Long Beach Animal Shelter 2025)에는 2017년에서 2014년 사이에 보호소에 맡겨진 28,000마리 이상의 동물에 대한 입소 및 결과 정보가 포함되어 있습니다. 여기서 맡겨진(surrendered)이라는 용어는 보호소로 들어온 모든 동물을 의미하지만, 데이터 세트에는 소유자가 맡겼는지, 압수되었는지, 길 잃은 동물로 발견되었는지, 아니면 다른 수단을 통해 도착했는지에 대한 정보도 포함되어 있습니다.\n동물 보호소 데이터 세트는 2025년 3월 TidyTuesday 데이터 세트로 사용되었으며 (Lydia Gibson이 큐레이팅한 후), 데이터는 animalshelter 패키지 (Hvitfeldt 2025)를 통해서도 사용할 수 있습니다. tidytuesdayR R 패키지 (Hughes 2022b)를 사용하여 데이터를 읽고 변수 정의를 살펴보는 것으로 시작하겠습니다:\ntuesdata &lt;- tt_load(\"2025-03-04\")\nlongbeach &lt;- tuesdata$longbeach\nlongbeach 데이터는 29787행과 22열로 상당히 큽니다.\nhead(longbeach)\n\n# A tibble: 6 × 22\n  animal_id animal_name animal_type primary_color\n  &lt;chr&gt;     &lt;chr&gt;       &lt;chr&gt;       &lt;chr&gt;        \n1 A693708   *charlien   dog         white        \n2 A708149   &lt;NA&gt;        reptile     brown        \n3 A638068   &lt;NA&gt;        bird        green        \n4 A639310   &lt;NA&gt;        bird        white        \n5 A618968   *morgan     cat         black        \n6 A730385   *brandon    rabbit      black        \n# ℹ 18 more variables: secondary_color &lt;chr&gt;, sex &lt;chr&gt;,\n#   dob &lt;date&gt;, intake_date &lt;date&gt;, intake_condition &lt;chr&gt;,\n#   intake_type &lt;chr&gt;, intake_subtype &lt;chr&gt;,\n#   reason_for_intake &lt;chr&gt;, outcome_date &lt;date&gt;,\n#   crossing &lt;chr&gt;, jurisdiction &lt;chr&gt;, outcome_type &lt;chr&gt;,\n#   outcome_subtype &lt;chr&gt;, latitude &lt;dbl&gt;, longitude &lt;dbl&gt;,\n#   outcome_is_dead &lt;lgl&gt;, was_outcome_alive &lt;lgl&gt;, …\n데이터 세트의 각 행은 서로 다른 입소와 관련이 있으며, animal_id 열에서 식별할 수 있듯이 일부 동물은 여러 번 나타납니다. 이름, 동물의 종류(예: 고양이 또는 개), 색상, 성별 및 생년월일과 같은 각 개별 동물에 대한 추가 정보가 제공됩니다. 이러한 열 중 상당수는 주로 길 잃은 동물로 도착한 동물에 대한 정보 부족으로 인해 누락된 값이 과도하게 많습니다. 추가 열은 날짜, 유형 및 하위 유형(예: 소유자 포기 또는 길 잃음)을 포함한 입소에 대한 정보와 입소에 대한 이유를 제공하는 자유 텍스트 응답을 제공합니다. 좌표 날짜 및 관할 구역을 포함하여 포획 또는 입소의 지리적 위치에 대한 더 자세한 정보가 제공됩니다. 마지막으로, 결과가 발생한 시기, 유형 및 하위 유형(예: 입양 또는 사망)을 포함하여 각 동물의 결과에 대한 데이터도 제공됩니다. 다양한 결과에 대한 일부 이진 변수도 미리 계산됩니다.",
    "crumbs": [
      "일반적인 차트도 지루할 필요는 없습니다!",
      "<span class='chapter-number'>5</span>  <span class='chapter-title'>동물 보호소 입소: **`ggforce`**를 사용한 게이지 차트 만들기</span>"
    ]
  },
  {
    "objectID": "animal-intakes.html#탐색-작업",
    "href": "animal-intakes.html#탐색-작업",
    "title": "5  동물 보호소 입소: ggforce를 사용한 게이지 차트 만들기",
    "section": "\n5.2 탐색 작업",
    "text": "5.2 탐색 작업\n동물과 입소 및 결과에 대해 기록된 다양한 측면을 고려할 때 더 조사할 수 있는 변수가 많이 있습니다. 이 데이터의 어떤 측면을 시각화하는 것이 흥미로울까요?\n\n5.2.1 데이터 탐색\n이 책의 다른 장과 마찬가지로 기본 R의 몇 가지 기본 탐색 플롯으로 시작하겠습니다. 예를 들어 Figure 5.1 의 barplot() 함수를 사용하여 각 animal_type의 변수 분포를 볼 수 있습니다. \n\nbarplot(\n  table(longbeach$animal_type),\n  las = 1,\n  horiz = TRUE\n)\n\n\n\n\n\n\nFigure 5.1: 동물 유형별 총 입소 동물 수 막대 차트.\n\n\n\n\n고양이와 관련된 관찰이 많으며 개가 꽤 근접하게 2위를 차지했습니다. 이것은 이런 종류의 동물을 반려동물로 키우는 것이 얼마나 흔한지를 나타낼 가능성이 큽니다. 또한 Figure 5.2 에 표시된 대로 입소 횟수가 시간이 지남에 따라 어떻게 변했는지에 관심이 있을 수 있습니다.\n\nplot(\n  x = table(longbeach$intake_date),\n  xlab = \"\", ylab = \"\",\n  main = \"Number of animals surrendered per day\"\n)\n\n\n\n\n\n\nFigure 5.2: 일일 입소 동물 수를 보여주는 선형 차트로, 계절적 피크와 2020-2021년 동안 낮은 수치를 보여줍니다.\n\n\n\n\n입소 횟수에 약간의 계절적 차이가 있으며 2020년과 2021년 동안 약간 감소한 것으로 보입니다. 이는 아마도 COVID-19 팬데믹이 포획할 수 있는 동물 수에 영향을 미쳤기 때문일 것입니다.\nFigure 5.3 의 기본 R에서 heatmap() 함수를 사용하여 다양한 동물 유형에 대한 입소 횟수가 시간이 지남에 따라 어떻게 변했는지 살펴보는 것이 더 흥미로울 수 있습니다. \n\nheatmap(\n  table(\n    longbeach$animal_type,\n    year(longbeach$intake_date)\n  ),\n  # prevent re-ordering\n  Rowv = NA,\n  Colv = NA,\n  # make labels smaller so they fit on the page\n  margins = c(3, 6),\n  cexRow = 0.5,\n  cexCol = 0.5\n)\n\n\n\n\n\n\nFigure 5.3: 매년 각 유형의 입소 동물 수 히트맵. 2020년과 2021년에는 모든 유형의 동물이 더 적게 입소했습니다.\n\n\n\n\nFigure 5.3 에서는 일부 동물 유형의 수가 매우 적으므로 데이터를 연간 값으로 집계하기 위해 lubridate의 year() 함수를 사용하여 날짜 변수에서 연도를 추출했습니다.\n이 데이터를 더 의미 있고 미적인 방식으로 시각적으로 표현하는 방법에 대해 생각해 봅시다. 모든 연도의 데이터를 포함하면 값의 추세를 고려할 수 있지만 때로는 몇 가지 스냅샷만 보는 것이 더 효과적일 수 있습니다. 예를 들어, 여기서 할 것처럼 2017년과 2023년만 고려함으로써 독자는 점진적인 추세에 대한 시각적 효과가 덜할 수 있는 시각적 효과보다는 와, 상황이 얼마나 변했는지 봐!라는 메시지를 받을 수 있습니다. 또한 이를 통해 장기적인 추세를 설명하려고 시도하는 동시에 팬데믹의 영향을 정량화하려고 하기보다는 팬데믹 전후의 수치를 비교할 수 있습니다.\n다시 lubridate의 year()를 사용하여 추출된 연도를 새 열로 저장하고 dplyr의 filter() 함수를 사용하여 longbeach 데이터 세트를 필터링하여 2017년과 2023년의 행만 고려할 수 있습니다. 일부 동물 유형은 연간 데이터로 집계하더라도 숫자가 매우 작으므로 if_else()를 사용하여 이미 존재하는 \"other\" 범주에 더 많은 동물 유형을 포함할 것입니다. 그런 다음 dplyr의 count()를 사용하여 관심 있는 각 연도에 각 동물 유형이 얼마나 많이 입소했는지 계산합니다.\n\n# subset data for years and combine aninmal types\nintake_data &lt;- longbeach |&gt;\n  mutate(\n    year = year(intake_date),\n    animal_type = if_else(\n      animal_type %in% c(\n        \"dog\", \"cat\", \"bird\",\n        \"wild\", \"reptile\"\n      ),\n      animal_type,\n      \"other\"\n    )\n  ) |&gt;\n  filter(\n    year %in% c(2017, 2023)\n  ) |&gt;\n  count(year, animal_type)\nhead(intake_data)\n\n# A tibble: 6 × 3\n   year animal_type     n\n  &lt;dbl&gt; &lt;chr&gt;       &lt;int&gt;\n1  2017 bird          352\n2  2017 cat          2228\n3  2017 dog          1743\n4  2017 other         230\n5  2017 reptile        57\n6  2017 wild          216\n\n\n이제 데이터에는 2017년과 2023년(year) 각각의 각 동물 유형(animal_type)의 수(n)만 표시됩니다. 이 데이터를 어떻게 시각화할 수 있을까요? 떠오르는 몇 가지 분명한 옵션이 있습니다. 간단한 그룹 막대 차트, 슬로프 차트 또는 (자주 인기가 없는) 파이 차트입니다. 데이터 시각화의 선택은 우리가 보여주고자 하는 데이터의 측면에 따라 달라집니다. 2017년과 2023년을 비교하고 싶습니까? 다른 동물 유형의 상대적 수를 보고 싶습니까? 아니면 데이터의 값 범위를 보여주고 싶습니까? 이 데이터에서 가장 흥미로운 예는 아마도 2017년과 2023년을 비교하는 것일 것입니다. 슬로프 차트가 이 데이터에 잘 작동할 가능성이 높지만 게이지 차트로 조금 더 실험적으로 진행해 보겠습니다.\n글을 쓰는 시점에는 ggplot2에 게이지 차트를 만드는 내장 함수가 없습니다. 게이지 차트를 들어 본 적이 없다면 Figure 5.4 의 초기 스케치가 우리가 목표로 하는 것에 대한 아이디어를 줄 수 있습니다.\n\n5.2.2 탐색적 스케치\n게이지 차트는 반원 위로 구부러진 누적 막대 차트라고 생각할 수 있습니다. 여기서는 하나의 누적 막대 차트 대신 두 개의 누적 막대 차트가 있습니다.\n\n\n\n\n\nFigure 5.4: 단일 동물 유형에 대한 데이터를 시각화하기 위한 아이디어의 초기 스케치.\n\n\n게이지 차트에는 종종 값을 더 강조하기 위해 다이얼(또는 바늘)이 포함되지만 여러 개의 게이지가 있는 경우 조금 복잡해집니다. 그러니 지금은 그냥 둡시다.",
    "crumbs": [
      "일반적인 차트도 지루할 필요는 없습니다!",
      "<span class='chapter-number'>5</span>  <span class='chapter-title'>동물 보호소 입소: **`ggforce`**를 사용한 게이지 차트 만들기</span>"
    ]
  },
  {
    "objectID": "animal-intakes.html#플롯-준비하기",
    "href": "animal-intakes.html#플롯-준비하기",
    "title": "5  동물 보호소 입소: ggforce를 사용한 게이지 차트 만들기",
    "section": "\n5.3 플롯 준비하기",
    "text": "5.3 플롯 준비하기\n게이지 차트는 ggplot2의 내장 기능이 아니므로 플로팅을 시작하기 전에 수동 준비를 조금 해야 합니다.\n\n5.3.1 데이터 랭글링\nggplot2에서 기본적으로 게이지 차트를 만들기 위해 geom_col() 및 coord_polar()를 사용할 수 있습니다. 그러나 ggplot2에서 극좌표를 사용하면 주석과 같은 요소를 원하는 위치에 추가하기 어려운 경우가 많습니다. 그러니 약간 다른 방식으로 게이지 차트를 만들어 봅시다! \n게이지 차트는 일반적으로 목표나 제한에 대한 진행 상황을 표시하는 데 사용됩니다. 예를 들어 백분율로 제공된 데이터를 고려할 때 100%가 일반적인 상한입니다. 우리 데이터의 경우 보호소의 최대 수용 인원을 알고 있다면 적절한 선택이 될 것입니다. 그러나 그 정보가 없으므로 자연적인 제한이 없습니다.\n따라서 다음과 같은 합리적인 것을 결정해야 합니다:\n\n모든 연도에 걸쳐 입소한 모든 동물의 최대 수\n선택한 연도에 걸쳐 입소한 모든 동물의 최대 수\n모든 연도에 걸쳐 입소한 단일 유형 동물의 최대 수\n선택한 연도에 걸쳐 입소한 단일 유형 동물의 최대 수\n\n어떤 의미에서 선택은 상당히 임의적이며 강조하려는 내용에 따라 다릅니다. 여기서는 선택한 연도에 걸쳐 입소한 단일 유형 동물의 최대 수를 사용합니다. ceiling()을 사용하여 가장 가까운 500으로 반올림하여 더 좋은 상한을 제공합니다. \n\nmax_intake &lt;- max(intake_data$n)\nupper_limit &lt;- ceiling(max_intake / 500) * 500\nc(max_intake, upper_limit)\n\n[1] 2228 2500\n\n\n\n\n\n\n\n\nTip 5.1: R에서 숫자 반올림\n\n\n\nR에서 round() 함수는 숫자를 반올림하는 데 사용할 수 있으며 digits 인수는 정밀도 수준을 지정합니다. 음수를 제공하면 10, 100, 1000 등으로 반올림할 수 있습니다. \n\nround(1234, digits = -1)\n\n[1] 1230\n\nround(1234, digits = -2)\n\n[1] 1200\n\nround(1234, digits = -3)\n\n[1] 1000\n\n\n그러나 10의 거듭제곱이 아닌 숫자로 반올림하려면 해당 숫자로 나누고 반올림한 다음 다시 숫자를 곱할 수 있습니다. round()를 floor() 또는 ceiling()으로 바꾸면 각각 내림 또는 올림을 할 수 있습니다.\n\n\nn을 선택한 상한으로 나누어 각 범주에 대해 해당 제한(value)에 대해 얼마나 진전이 있었는지 확인합시다. 나중에 플롯하기 쉽게 하기 위해 각 범주가 해당 제한(no_value)에서 얼마나 떨어져 있는지도 계산합니다. n 열은 더 이상 필요하지 않으므로 dplyr의 select()를 사용하여 삭제합니다. \n그런 다음 tidyr의 pivot_longer() 및 pivot_wider() 함수를 사용하여 데이터를 긴 형식으로 피벗했다가 다시 되돌립니다. 그 결과 각 동물 유형에 대해 데이터에 두 개의 행이 생성됩니다. (i) 2017년과 2023년 제한에 대한 백분율에 대한 행 하나, (ii) 2017년과 2023년 제한으로부터의 백분율에 대한 행 하나입니다. \n\nintake_YN &lt;- intake_data |&gt;\n  mutate(\n    value = n / upper_limit,\n    no_value = 1 - value\n  ) |&gt;\n  select(-n) |&gt;\n  pivot_longer(\n    cols = c(value, no_value),\n    names_to = \"YN\",\n    values_to = \"perc\"\n  ) |&gt;\n  pivot_wider(\n    names_from = \"year\",\n    values_from = \"perc\"\n  ) |&gt;\n  mutate(YN = factor(YN))\n\n누적 막대 차트(즉, 펼쳐진 게이지 차트)를 만드는 것을 생각해 보면 각 막대의 끝점(각 막대의 최대 y축 값)을 알아야 합니다. 이것은 각 그룹의 백분율이 아니라 각 그룹과 그 아래에 쌓인 그룹의 누적 백분율입니다. cumsum() 함수를 사용하여 각 연도 및 동물 유형에 걸쳐 누적 합계를 계산합니다: \n\nplot_data &lt;- intake_YN |&gt;\n  group_by(animal_type) |&gt;\n  mutate(\n    ymax_2017 = cumsum(`2017`),\n    ymax_2023 = cumsum(`2023`)\n  )\nhead(plot_data)\n\n# A tibble: 6 × 6\n# Groups:   animal_type [3]\n  animal_type YN       `2017` `2023` ymax_2017 ymax_2023\n  &lt;chr&gt;       &lt;fct&gt;     &lt;dbl&gt;  &lt;dbl&gt;     &lt;dbl&gt;     &lt;dbl&gt;\n1 bird        value     0.141  0.101     0.141     0.101\n2 bird        no_value  0.859  0.899     1         1    \n3 cat         value     0.891  0.767     0.891     0.767\n4 cat         no_value  0.109  0.233     1         1    \n5 dog         value     0.697  0.564     0.697     0.564\n6 dog         no_value  0.303  0.436     1         1    \n\n\nno_value 행에 대한 ymax_* 값은 항상 1이라는 것을 알 수 있습니다. 이는 no_value가 마지막 막대이므로 해당 막대를 완료할 때쯤이면 항상 데이터의 100%를 플로팅했을 것이기 때문입니다. 데이터는 현재 여전히 animal_type별로 그룹화되어 있다는 점에 유의하십시오. 이것은 나중에 중요할 것입니다!\n\n5.3.2 ggforce 확장 패키지\nggforce 확장 패키지 (Pedersen 2022)는 ggplot2의 동작을 확장하는 많은 유용한 함수를 포함하고 있으며, 그중 많은 함수가 탐색적 데이터 시각화를 목표로 합니다. 이 장에서는 많은 함수를 다루지 않고 대신 게이지 차트를 만드는 데 사용하는 방법에 초점을 맞출 것입니다. ggforce는 CRAN에서 사용할 수 있으며 일반적인 install.packages(\"ggforce\") 명령으로 설치할 수 있습니다.\n\n5.3.3 ggforce를 사용한 게이지 차트\n게이지 차트를 만드는 목적을 위해 관심 있는 함수는 geom_arc_bar() 입니다. geom_arc_bar() 함수를 사용하면 ggplot2에서 호를 그릴 수 있습니다. 이 함수를 사용하여 도넛 차트나 선버스트 플롯과 같은 시각화를 만들 수도 있습니다. 이중 게이지 차트를 만들기 위해 geom_arc_bar()를 두 번 호출합니다 - 하나는 2017년 호용이고 다른 하나는 2023년 호용입니다. geom_arc_bar()를 사용할 때 필요한 몇 가지 필수 미학이 있습니다:\n\n\nx0: 게이지 차트가 놓인 원의 중심의 x 좌표입니다. 우리에게 이것은 상수 값이 될 것이므로 아무 숫자나 선택할 수 있습니다 - 0이 분명한 선택인 것 같습니다.\n\ny0: 게이지 차트가 놓인 원의 중심의 y 좌표입니다. 우리에게 이것은 상수 값이 될 것이므로 아무 숫자나 선택할 수 있습니다 - 다시 0이 분명한 선택인 것 같습니다.\n\nr0: 호의 내부 반지름(x0 및 y0에서).\n\nr: 호의 외부 반지름(x0 및 y0에서). r0와 r의 차이는 게이지 차트의 두께를 결정합니다. 우리가 그릴 두 호 각각에 대해 이것들은 일정할 것입니다. 외부 호(2023)의 경우 r0 = 0.7 및 r = 1로 설정할 수 있고 내부 호(2017)의 경우 r0 = 0.2 및 r = 0.5로 설정할 수 있습니다. 두 호의 반지름 차이는 0.3이므로 두께가 동일하다는 점에 유의하십시오.\n\nstart: 호의 각 세그먼트의 시작 각도.\n\nend: 호의 각 세그먼트의 끝 각도.\n\n우리가 해야 할 데이터 랭글링의 마지막 부분은 start 및 end 값을 계산하는 것입니다.\n\n5.3.4 미학 계산\n끝 값은 쉽습니다. 이미 가지고 있는 ymax_2017 및 ymax_2023 열입니다. 동등한 ymin_2017 및 ymin_2023 값을 계산해야 합니다. 각 누적 막대 차트의 최소값은 무엇일까요?\n잠시 게이지 차트 대신 누적 막대 차트를 다시 생각해 봅시다(시각화하기가 조금 더 쉽기 때문입니다). 스택 맨 아래에 있는 첫 번째 막대의 최소값은 항상 0이 될 것입니다. 맨 아래에 있기 때문입니다. 나머지 누적 막대의 경우 최소값은 그 아래에 쌓인 막대의 최대값과 같을 것입니다. 이는 우리가 필요한 모든 값을 이미 계산하여 plot_data에 저장했음을 의미합니다. 이제 약간 재정렬하기만 하면 됩니다.\n\n\n\n\n\n\nTip 5.2: 할 수 있다고 해서 해야 하는 것은 아닙니다\n\n\n\n기본 R에는 코드 줄 수가 적고 읽기 쉬운 더 좋은 방법이 거의 확실히 있습니다. 다음 코드 블록은 우리가 해야 하는지 고려하지 않고 파이프형 워크플로에서 이 작업을 할 수 있는지 확인하는 실험으로 간주하십시오!\n\n\n2017년 데이터부터 시작하겠습니다. 먼저 rep(0, n_types)를 사용하여 첫 번째 누적 막대의 최소값에 대해 0 값을 생성합니다. 2017년에는 각 동물 유형에 대해 하나의 0이 필요하기 때문입니다. 그런 다음 마지막 항목을 제외한 plot_data에서 ymax_2017 값을 가져오려고 합니다. 따라서 slice_head()를 사용하여 이 행의 하위 집합을 가져옵니다(각 동물 유형에서 마지막 항목이 누락됨). plot_data는 여전히 animal_type별로 그룹화되어 있다는 것을 기억하십시오. 그런 다음 이 ymax_2017을 생성한 0에 붙이고 mutate()를 사용하여 ymin_2017이라는 새 열에 전달합니다. 2023년 호에 대한 코드는 유사합니다. \n\nn_types &lt;- length(\n  unique(plot_data$animal_type)\n)\nymin_data &lt;- plot_data |&gt;\n  ungroup() |&gt;\n  # start values for 2017 arc\n  mutate(\n    ymin_2017 = c(rbind(\n      rep(0, n_types),\n      (slice_head(plot_data, n = -1) |&gt;\n        pull(ymax_2017))\n    ))\n  ) |&gt;\n  # repeat for 2023\n  mutate(\n    ymin_2023 = c(rbind(\n      rep(0, n_types),\n      (slice_head(plot_data, n = -1) |&gt;\n        pull(ymax_2023))\n    ))\n  )\n\n우리의 모든 변수는 현재 0과 1 사이의 척도로 조정되어 있습니다(제한에 대한 백분율과 관련이 있기 때문입니다). 하지만 이것을 호로 그리려면 극좌표로 변환해야 합니다. 호를 \\(-\\pi/2\\)(0 대신)에서 시작하고 \\(\\pi/2\\)(1 대신)에서 끝내려고 합니다. scales 패키지 (Wickham, Pedersen, and Seidel 2023)의 rescale() 함수를 사용하여 from과 to로 스케일링할 범위를 정의할 수 있습니다. \n소문자 \"y\"로 시작하는 ymin_data의 모든 열, 즉 모든 ymax_* 및 ymin_* 열에 이것을 적용하고 싶으므로 starts_with() 열 선택기 함수와 함께 dplyr의 mutate() 및 across()를 사용합니다. dplyr가 YN 열도 다시 스케일링하는 것을 방지하기 위해 ignore.case = FALSE를 설정해야 합니다. \n\n\n\n\n\n\nTip 5.3: mutate()의 이전 버전\n\n\n\ndplyr의 이전 버전에서는 mutate() 및 across() 대신 mutate_at() 함수가 사용되었습니다. mutate_at() 함수는 이제 대체되었습니다.\n\n\n\ngauge_data &lt;- ymin_data |&gt;\n  mutate(\n    across(\n      starts_with(\"y\", ignore.case = FALSE),\n      ~ rescale(.,\n        to = pi * c(-0.5, 0.5),\n        from = 0:1\n      )\n    )\n  )\nhead(gauge_data)\n\n# A tibble: 6 × 8\n  animal_type YN       `2017` `2023` ymax_2017 ymax_2023\n  &lt;chr&gt;       &lt;fct&gt;     &lt;dbl&gt;  &lt;dbl&gt;     &lt;dbl&gt;     &lt;dbl&gt;\n1 bird        value     0.141  0.101    -1.13     -1.25 \n2 bird        no_value  0.859  0.899     1.57      1.57 \n3 cat         value     0.891  0.767     1.23      0.839\n4 cat         no_value  0.109  0.233     1.57      1.57 \n5 dog         value     0.697  0.564     0.620     0.200\n6 dog         no_value  0.303  0.436     1.57      1.57 \n# ℹ 2 more variables: ymin_2017 &lt;dbl&gt;, ymin_2023 &lt;dbl&gt;\n\n\n\n5.3.5 첫 번째 플롯\n이제 데이터 랭글링이 끝났고(드디어!) 첫 번째 플롯을 만들 준비가 되었습니다. 항상 그렇듯이 ggplot() 함수로 시작하고 호를 그리는 데 사용할 gauge_data를 전달합니다. 각 호의 미학은 다양하므로 전역적으로 전달하는 것을 보류합니다. \n그런 다음 geom_arc_bar()를 두 번 사용하여 두 개의 호를 추가합니다. 위에서 설명한 대로 x0, y0, r0, r 상수를 설정합니다. 미학에 대해 상수 값을 선택했더라도 필수 미학이므로 aes() 함수 안에 있어야 합니다. 그런 다음 ymin_* 및 ymax_* 열을 start 및 end 미학으로 전달하고 YN 열을 기반으로 fill 색상을 설정합니다. \n또한 facet_wrap()을 사용하여 각 동물 유형에 대한 호 쌍을 별도의 패싯에 그리고 nrow = 2를 사용하여 6개국에 대한 멋진 직사각형 3x2 그리드 패싯을 제공하도록 선택합니다. \n\nbasic_plot &lt;- ggplot(data = gauge_data) +\n  # Outer 2023 arc\n  geom_arc_bar(\n    mapping = aes(\n      x0 = 0, y0 = 0,\n      r0 = 0.7, r = 1,\n      start = ymin_2023, end = ymax_2023,\n      fill = YN\n    )\n  ) +\n  # Inner 2017 arc\n  geom_arc_bar(\n    mapping = aes(\n      x0 = 0, y0 = 0,\n      r0 = 0.2, r = 0.5,\n      start = ymin_2017, end = ymax_2017,\n      fill = YN\n    )\n  ) +\n  facet_wrap(~animal_type, nrow = 2)\nbasic_plot\n\n\n\n\n\n\nFigure 5.5: Initial plot created using geom_arc_bar() from ggforce, faceted by different animal types.",
    "crumbs": [
      "일반적인 차트도 지루할 필요는 없습니다!",
      "<span class='chapter-number'>5</span>  <span class='chapter-title'>동물 보호소 입소: **`ggforce`**를 사용한 게이지 차트 만들기</span>"
    ]
  },
  {
    "objectID": "animal-intakes.html#고급-스타일링",
    "href": "animal-intakes.html#고급-스타일링",
    "title": "5  동물 보호소 입소: ggforce를 사용한 게이지 차트 만들기",
    "section": "\n5.4 고급 스타일링",
    "text": "5.4 고급 스타일링\n이제 이중 게이지 차트가 생겼습니다. 하지만 훨씬 더 보기 좋게(그리고 더 유익하게) 만들 수 있습니다!\n\n5.4.1 색상\n색상에 대한 몇 가지 변수를 정의하는 것으로 시작하겠습니다. 여기서 우리는 목표에 대한 백분율, 즉 입소한 동물 수를 보여주는 세그먼트에 사용할 분홍색 highlight_col을 정의합니다. 이것은 우리가 전달하려는 요점이기 때문에 밝고 눈길을 끄는 색상이어야 합니다. second_col은 목표에 대해 남은 백분율을 보여주는 데 사용되므로 배경과 조금 더 유사한 색상을 선택할 수 있습니다. 배경(bg_col)은 밝은 회색, second_col은 중간 회색, 텍스트(text_col)는 검은색이 됩니다. \n\nhighlight_col &lt;- \"#990C58\"\nsecond_col &lt;- \"#949398\"\nbg_col &lt;- \"#DEDEDE\"\ntext_col &lt;- \"black\"\n\n게이지 차트에 새 색상을 추가하기 전에 세그먼트 주변의 검은색 윤곽선을 제거해 보겠습니다. 플롯에 아무것도 추가하지 않는 꽤 두꺼운 선입니다. 우리가 선택한 새 색상으로 세그먼트 사이에 충분한 대비가 있을 것입니다. 미적 매핑 외부에서 color = NA를 설정하여 호에서 윤곽선을 제거할 수 있습니다. \n\nbasic_plot &lt;- ggplot(data = gauge_data) +\n  geom_arc_bar(\n    mapping = aes(\n      x0 = 0, y0 = 0,\n      r0 = 0.7, r = 1,\n      start = ymin_2023, end = ymax_2023,\n      fill = YN\n    ),\n    color = NA\n  ) +\n  geom_arc_bar(\n    mapping = aes(\n      x0 = 0, y0 = 0,\n      r0 = 0.2, r = 0.5,\n      start = ymin_2017, end = ymax_2017,\n      fill = YN\n    ),\n    color = NA\n  ) +\n  facet_wrap(~animal_type, nrow = 2)\n\n이제 ggplot2의 scale_fill_manual()을 사용하여 색상을 적용할 수 있습니다. \n\ncolor_plot &lt;- basic_plot +\n  scale_fill_manual(\n    breaks = c(\"value\", \"no_value\"),\n    values = c(highlight_col, second_col)\n  )\ncolor_plot\n\n\n\n\n\n\nFigure 5.6: Edited version of the previous plot with colors changed from defaults to gray and dark pink.\n\n\n\n\n시각화를 위한 색상을 선택할 때 그룹을 구분하거나 정보를 전달하기 위해 색상과 범례에 너무 많이 의존하지 않는 것이 중요합니다. 색각 이상(색맹이라고도 함)은 다양한 형태로 나타나며 유형에 따라 사람들이 색상을 인식하는 방식이 다릅니다. 차트가 색각 이상이 있는 사람들에게 접근 가능한지 확인하는 한 가지 방법은 회색조(흑백)로 보고 색상 없이 이해할 수 있는지 확인하는 것입니다. 그럴 수 없다면 다른 색상을 선택하거나 모양과 패턴을 사용하여 그룹을 구별하는 것을 고려하십시오. 범례를 피할 수 없을 때 데이터를 직접 레이블링하고 범례의 순서가 데이터의 순서와 일치하는지 확인하면 도움이 될 수 있습니다 (Government Analysis Function 2021). \nR에는 색상 팔레트의 접근성을 조사하는 데 사용할 수 있는 여러 패키지가 있습니다. 그중 하나는 colorblindr (McWhite and Wilke 2024)입니다. colorblindr 패키지를 사용하면 색맹이 있는 사람에게 차트가 어떻게 보일지 시뮬레이션할 수 있습니다. 이 패키지에는 관련 ggplot2 함수가 있는 색맹 친화적인 질적 팔레트도 포함되어 있습니다. 글을 쓰는 시점에서 colorblindr은 CRAN에서 사용할 수 없지만 Chapter 4 에 설명된 방법을 사용하여 GitHub에서 설치할 수 있습니다. \n\ncvd_grid(color_plot)\n\n\n\n\n\n\nFigure 5.7: A 2x2 grid of charts showing simulations of how the current chart might appear to people with each of four different types of color vision deficiency.\n\n\n\n\nggplot2의 기본 색상 팔레트는 회색조로 볼 때 구분이 되지 않으므로 차트에 어떤 색상을 사용할지 생각하는 것이 중요합니다.\n\n5.4.2 텍스트 및 글꼴\n이전 장에서 보았듯이 sysfonts 및 showtext 패키지를 사용하여 Google 글꼴을 로드할 수 있습니다. 여기서는 제목과 본문 모두에 \"Ubuntu\" 서체를 사용하여 깔끔하고 미니멀하게 유지합니다. \n\nfont_add_google(name = \"Ubuntu\")\nfont_add_google(name = \"Noto Sans KR\", family = \"noto_sans_kr\")\nshowtext_auto()\nshowtext_opts(dpi = 300)\nbody_font &lt;- \"Ubuntu\"\nkorean_font &lt;- \"noto_sans_kr\"\n\n제목과 부제목에 대한 텍스트를 정의해 보겠습니다. 여기서 제목은 차트의 핵심 메시지를 정의하여 독자가 그래픽을 훑어보더라도 요점을 이해할 수 있도록 합니다. 부제목은 플롯을 해석하는 방법에 대한 간단한 설명을 제공하고 독자가 가져가기를 원하는 주요 결론을 반복합니다. caption 변수는 이 시각화에 대한 데이터 소스와 차트 작성자를 식별합니다.\n\ntitle &lt;- \"The number of animals surrendered is lower in 2023 compared to 2017\"\nsubtitle &lt;- \"The inner pink bar represents the number of animals surrendered in 2017, whilst the outer pink bar represents the number in 2023. A decrease is seen across all types of animals.\"\ncaption &lt;- \"Data: City of Long Beach Animal Care Services | Graphic: N. Rennie\"\n\n축 레이블은 geom_arc_bar() 플롯에 큰 의미가 없으므로 나중에 theme 함수를 사용할 때 제거할 것입니다. 대신 게이지 끝에 geom_text()를 사용하여 자체 레이블을 추가할 수 있습니다. 더 쉽게 하기 위해 텍스트 레이블을 추가하기 위한 작은 data.frame을 구성할 수 있습니다. 여기에는 텍스트가 위치해야 하는 x 및 y 좌표(아직 축 레이블을 삭제하지 않았으므로 이미 있는 그래프에서 읽을 수 있음)와 나타날 label이 포함됩니다.\n\ntext_df &lt;- data.frame(\n  x = c(0.35, 0.85),\n  y = c(-0.1, -0.1),\n  label = c(2017, 2023)\n)\n\n그런 다음 방금 만든 텍스트 data.frame을 사용하여 data 인수를 지정해야 한다는 점에 유의하면서 geom_text()가 있는 레이어를 추가하여 기존 플롯에 이 텍스트를 추가할 수 있습니다. 또한 geom_text() 함수 내에서 서체와 크기를 직접 지정해야 하며 ggplot2의 labs() 함수를 사용하여 이전에 만든 제목과 부제목 텍스트를 추가할 수 있습니다.\n\ntext_plot &lt;- color_plot +\n  geom_text(\n    data = text_df,\n    mapping = aes(x = x, y = y, label = label),\n    family = body_font,\n    size = 3\n  ) +\n  labs(\n    title = title,\n    subtitle = subtitle,\n    caption = caption\n  )\ntext_plot\n\n\n\n\n\n\nFigure 5.8: Previous plot with additional labels indicating the year on each gauge chart, as well as an added title and subtitle.\n\n\n\n\n\n5.4.3 테마 조정\n회색 배경, 그리드 선 및 축 레이블과 같은 모든 테마 요소를 제거하는 것으로 시작하겠습니다. 가장 쉬운 방법은 theme_void()를 사용하는 것입니다. theme_void()의 base_family 인수를 사용하여 남아 있는 모든 비 geom 텍스트 요소에 기본적으로 사용될 서체를 설정할 수 있습니다.\n현재 게이지 플롯이 약간 찌그러져 보이고 반원형이 아니라는 것을 눈치챘을 것입니다. 플롯 패널에 1:1 종횡비를 강제하는 coord_fixed() 를 추가하여 이 문제를 해결할 수 있습니다.\n\ntheme_plot &lt;- text_plot +\n  coord_fixed() +\n  theme_void(base_size = 8.5, base_family = body_font) +\n  theme(\n    text = element_text(family = korean_font),\n    plot.title = element_text(family = korean_font),\n    plot.subtitle = element_textbox_simple(family = korean_font)\n  )\ntheme_plot\n\n\n\n\n\n\nFigure 5.9: Edited version of previous plot with fixed coordinate system to prevent squashing, and all theme elements removed.\n\n\n\n\n보기가 더 좋아졌지만 여전히 훌륭하지는 않습니다. 스타일링으로 무엇을 더 개선해야 할까요?\n\n제목 텍스트가 눈에 띄지 않고 부제목, 패싯 텍스트와 너무 쉽게 섞입니다. 아마도 굵은 글꼴이 도움이 될까요?\n부제목 텍스트가 페이지에 맞지 않지만 익숙해졌을 ggtext의 element_textbox_simple() 함수를 사용하여 해결할 수 있습니다.\n특정 종횡비를 강제로 사용하기 위해 coord_fixed()를 사용하고 있기 때문에 이제 꽤 이상한 간격 문제가 발생했습니다. 플롯의 상단과 하단에 큰 흰색 간격이 있고 연도 레이블이 하단에서 약간 잘렸습니다.\n범례가 많은 공간을 차지하고 정보가 별로 없습니다.\n\n \ntheme() 요소를 편집하여 처음 두 가지 문제를 해결해 보겠습니다.\n\n부제목에 element_textbox_simple()을 사용하여 텍스트를 왼쪽 정렬합니다.\n제목과 패싯 strip.text에 대해 face = \"bold\"를 설정하고 rel() 함수를 사용하여 글꼴 크기를 늘립니다.\n이전 시각화에서 했던 것처럼 배경색을 bg_col로 설정하고 plot.margin 인수를 설정하여 가장자리 주위에 패딩을 추가합니다.\n\n\n\nstyled_plot &lt;- theme_plot +\n  theme(\n    plot.background = element_rect(\n      fill = bg_col, color = bg_col\n    ),\n    panel.background = element_rect(\n      fill = bg_col, color = bg_col\n    ),\n    strip.text = element_text(\n      face = \"bold\", size = rel(1.2),\n      margin = margin(b = 5)\n    ),\n    plot.title = element_text(\n      margin = margin(b = 10),\n      hjust = 0,\n      face = \"bold\",\n      size = rel(1.2)\n    ),\n    plot.subtitle = element_textbox_simple(\n      margin = margin(b = 10),\n      hjust = 0,\n      halign = 0\n    ),\n    plot.caption = element_text(\n      margin = margin(t = 10),\n      hjust = 0\n    ),\n    plot.margin = margin(5, 5, 5, 5)\n  )\nstyled_plot\n\n\n\n\n\n\nFigure 5.10: Further styling of gauge chart to change background color, prevent overlapping in the subtitle text, and increase the size of the title.\n\n\n\n\n거의 다 왔지만 연도 레이블 텍스트가 약간 찌그러져 있습니다. 문제의 일부는 범례가 차지하는 공간의 양입니다. 오른쪽 상단과 하단 모서리에 너무 많은 빈 공간을 남겨두고 더 필요한 다른 곳의 공간을 빼앗아갑니다. 이것은 차트를 개발할 때 흔히 발생하는 문제를 강조합니다. 시각화의 크기는 얼마나 커야 할까요? 이미지의 올바른 크기를 선택하는 것은 플롯에서 고정된 종횡비를 사용할 때(예: coord_fixed() 또는 공간 좌표를 사용할 때 - Chapter 12 에서 볼 수 있음) 특히 중요합니다. 잘못 선택하면 플롯이 잘리거나 여분의 공백이 생길 수 있기 때문입니다. \n\n\n\n\n\n\nTip 5.4: 종횡비 선택\n\n\n\n너비와 높이에 대해 생각하는 것보다 종횡비와 너비(또는 높이)에 대해 생각하는 것이 더 도움이 될 때가 많습니다. 이렇게 하면 이미지 크기를 늘리는 과정이 조금 더 쉬워지는 경우가 많습니다. \n일반적으로 사용되는 종횡비가 있습니다(예: 4x6, 5x7 또는 1x1). 일반적으로 사용되는 종횡비를 선택하면 특히 웹 사이트나 슬라이드에서 여러 플롯을 정렬하기가 더 쉬울 수 있습니다. 출판물의 일부로 플롯을 만드는 경우 일부 학술지나 잡지에는 특정 종횡비 요구 사항이 있을 수 있습니다. 그렇지 않으면 탐색적 스케치를 사용하여 적절한 종횡비를 결정하십시오.\n\n\n\n\n\n\n\n\nTip 5.5: 너비 선택\n\n\n\n종종 너비 선택은 물리적 제약에 따라 달라질 수 있습니다. 예를 들어 이 책의 시각화는 모두 인쇄판 페이지에 맞게 약 5인치 너비입니다. 여러 크기의 이미지(예: 저해상도 및 고해상도)를 원할 수도 있습니다.\n플롯의 너비(또는 해상도)를 변경하면 종종 글꼴 크기와 같이 반드시 더 크게 재조정되지 않는 다른 측면도 변경해야 함을 의미합니다. base_size를 설정하고 rel()을 사용하여 개별 글꼴 크기 요소를 편집하면 작업량을 최소화할 수 있습니다. 원하는 크기와 해상도로 플롯을 보면 크기를 올바르게 설정하기가 더 쉽습니다. 자세한 내용은 Section 14.1 를 참조하십시오.\n\n\n\n5.4.4 전통적인 범례의 대안\n플롯의 높이를 늘려 연도 레이블이 찌그러지는 것을 막을 수도 있지만 대안적인 접근 방식은 문제의 근원을 해결하고 범례를 편집하는 것입니다.\n범례를 처리하는 데는 몇 가지 다른 옵션이 있습니다.\n\n범례를 그대로 두되 오른쪽이 아닌 주 차트 위나 아래로 위치를 변경하고 한 줄로 만듭니다. 그러면 공간을 덜 차지할 것입니다. 범례 위치 변경은 Chapter 11 에서 논의할 것입니다.\n사용자 정의 범례를 디자인할 수 있습니다. 이중 게이지 차트는 흔하지 않고 독자에게 생소할 수 있으므로 이 옵션이 좋을 수 있습니다. 작동 방식에 대한 추가 정보를 추가하면 도움이 될 수 있습니다. Chapter 12 및 Chapter 13 에서 사용자 정의 범례를 디자인하고 사용하는 방법을 살펴보겠습니다.\n대신 부제목에 색상 텍스트를 사용하여 범주가 무엇인지 나타낼 수 있습니다. 이 시각화의 경우 진한 분홍색 범주를 강조 표시하고 설명하는 것으로 충분할 것입니다. R에서 이를 수행하는 방법은 Chapter 6 및 Chapter 7 에서 살펴보겠습니다.\n\n여기에는 어떤 형태의 범례도 사실상 불필요하다는 주장이 있을 수 있습니다. 현재의 색상 선택과 차트 제목은 진한 분홍색이 데이터의 동물 수(목표에 대한 백분율)를 나타낸다는 것을 충분히 명확하게 보여줍니다.\n따라서 theme() 내부에서 legend.position = \"none\"을 설정하여 범례를 제거해 봅시다. \n\nstyled_plot +\n  theme(legend.position = \"none\")\n\n\n\n\n\n\nFigure 5.11: Final styling of gauge chart to remove the legend, providing more space for the chart area.\n\n\n\n\n그런 다음 ggsave()로 저장합니다: \n\nggsave(\n  filename = \"animal-intakes.png\",\n  width = 5,\n  height = 0.7 * 5\n)",
    "crumbs": [
      "일반적인 차트도 지루할 필요는 없습니다!",
      "<span class='chapter-number'>5</span>  <span class='chapter-title'>동물 보호소 입소: **`ggforce`**를 사용한 게이지 차트 만들기</span>"
    ]
  },
  {
    "objectID": "animal-intakes.html#성찰",
    "href": "animal-intakes.html#성찰",
    "title": "5  동물 보호소 입소: ggforce를 사용한 게이지 차트 만들기",
    "section": "\n5.5 성찰",
    "text": "5.5 성찰\n게이지 차트가 이 데이터를 시각화하는 가장 효과적인 방법일까요? 아니요. 게이지 차트에는 고유한 문제가 있으며 그중 일부를 여기에서 볼 수 있습니다. 2023년을 나타내는 링이 바깥쪽에 있으므로 반지름이 더 크고 따라서 면적도 더 큽니다. 2017년과 2023년 사이의 호 길이 변화를 측정하면 이 두 가지에 대한 면적의 비례적 변화를 측정했을 때와 다른 답을 얻을 수 있습니다. 여기서는 2023년 값이 2017년 값보다 일관되게 낮지만 더 많은 공간을 차지합니다. 게이지 차트 아이디어를 고수한다고 가정할 때 이 플롯을 개선하기 위해 어떤 추가 변경을 할 수 있을까요?\n\n패싯 레이블을 좀 더 멋지게 서식을 지정할 수 있습니다(예: 대문자 사용, wild 대신 wild animals 사용). 패싯을 전체적으로 가장 높은 것에서 가장 낮은 것으로 정렬하면 읽기가 얼마나 쉬운지도 향상될 것입니다.\n정확한 수를 레이블 텍스트로 제공하면 입소의 변화를 보기가 더 쉬워질 것입니다. 6가지 동물 유형 모두에서 감소가 있었음이 합리적으로 명확하지만 게이지 차트의 특성(그리드 선 없음)으로 인해 정확한 값을 얻기가 꽤 어렵습니다. 2017년에 개와 고양이의 차이점은 무엇입니까? 여기서는 말하기가 너무 어렵습니다.\n현재 선택이 다소 임의적으므로 상한에 대해 더 직관적인 값을 얻고 사용합니다. 찾을 수 없다면 슬로프 차트와 같은 더 간단한 차트 유형으로 돌아가는 더 많은 동기가 될 수 있습니다.\n여기서는 전체적인 전통적 범례가 불필요할 수 있지만 색상 텍스트를 추가하면 분홍색 영역이 주요 데이터를 나타낸다는 설명이 추가될 수 있습니다. Chapter 6 및 Chapter 7 에서 전설 대신 색상 텍스트를 사용하는 것을 살펴보겠습니다.",
    "crumbs": [
      "일반적인 차트도 지루할 필요는 없습니다!",
      "<span class='chapter-number'>5</span>  <span class='chapter-title'>동물 보호소 입소: **`ggforce`**를 사용한 게이지 차트 만들기</span>"
    ]
  },
  {
    "objectID": "animal-intakes.html#연습-문제",
    "href": "animal-intakes.html#연습-문제",
    "title": "5  동물 보호소 입소: ggforce를 사용한 게이지 차트 만들기",
    "section": "\n5.6 연습 문제",
    "text": "5.6 연습 문제\n\n게이지 차트 대신 막대 차트를 사용하여 이 시각화를 다시 디자인하고 차트에 직접 백분율 값을 표시하는 레이블을 추가하십시오.\n레이아웃을 개선하기 위해 종횡비나 좌표계를 변경해야 합니까?\n\n\n\n\n\nAnscombe, F. J. 1973. “Graphs in Statistical Analysis.” The American Statistician 27 (1): 17–21. https://doi.org/10.1080/00031305.1973.10478966.\n\n\nAphalo, Pedro J. 2024. Learn R: As a Language. Second Edition. CRC Press. https://www.learnr-book.info/.\n\n\nAuguie, Baptiste. 2019. egg: Extensions for ’ggplot2’: Custom Geom, Custom Themes, Plot Alignment, Labelled Panels, Symmetric Scales, and Fixed Panel Size. https://CRAN.R-project.org/package=egg.\n\n\nBarthelme, Simon. 2024. imager: Image Processing Library Based on ’CImg’. https://CRAN.R-project.org/package=imager.\n\n\nBrand, Teun van den. 2025. “ggplot2 4.0.0.” https://www.tidyverse.org/blog/2025/09/ggplot2-4-0-0/.\n\n\nBridson, Robert. 2007. “Fast Poisson Disk Sampling in Arbitrary Dimensions.” In ACM SIGGRAPH 2007 Sketches. SIGGRAPH ’07. New York, NY, USA: Association for Computing Machinery. https://doi.org/10.1145/1278780.1278807.\n\n\nBrown, Mark J.F., and Paxton, Robert J. 2009. “The Conservation of Bees: A Global Perspective.” Apidologie 40 (3): 410–16. https://doi.org/10.1051/apido/2009019.\n\n\nCameron, Allan, and Teun van den Brand. 2024. geomtextpath: Curved Text in ’ggplot2’. https://CRAN.R-project.org/package=geomtextpath.\n\n\nCARTO. 2016. ’CARTOColors’ Palettes. https://carto.com/carto-colors/.\n\n\nChang, Winston. 2023. extrafont: Tools for Using Fonts. https://CRAN.R-project.org/package=extrafont.\n\n\nCheung, Foo. 2021. dumbbell: Displaying Changes Between Two Points Using Dumbbell Plots. https://CRAN.R-project.org/package=dumbbell.\n\n\nCowgill, Matt, and John Helveston. 2021. ggannotate: Interactively Annotate ggplot2 Plots. https://github.com/MattCowgill/ggannotate.\n\n\nCsárdi, Gábor, and Jim Hester. 2024. pak: Another Approach to Package Installation. https://CRAN.R-project.org/package=pak.\n\n\nCsárdi, Gábor, Jim Hester, Hadley Wickham, Winston Chang, Martin Morgan, and Dan Tenenbaum. 2024. remotes: R Package Installation from Remote Repositories, Including ’GitHub’. https://CRAN.R-project.org/package=remotes.\n\n\nDomin, Iaroslav. 2024. ggview: ’ggplot2’ Picture Previewer. https://CRAN.R-project.org/package=ggview.\n\n\nEngler, Jan Broder. 2024. “Tidyplots Empowers Life Scientists with Easy Code-Based Data Visualization.” bioRxiv. https://doi.org/10.1101/2024.11.08.621836.\n\n\nFC, Mike, Trevor L. Davis, and ggplot2 authors. 2024. ggpattern: ’ggplot2’ Pattern Geoms. https://CRAN.R-project.org/package=ggpattern.\n\n\nFlaticon.com. 2024. “Wind Power Flaticon.” https://www.flaticon.com/free-icon/wind-power_5670189.\n\n\nFont Awesome. 2024. “Font Awesome 6.” https://fontawesome.com/.\n\n\nFranconeri, Steven L., Lace M. Padilla, Priti Shah, Jeffrey M. Zacks, and Jessica Hullman. 2021. “The Science of Visual Data Communication: What Works.” Psychological Science in the Public Interest 22 (3): 110–61. https://doi.org/10.1177/15291006211051956.\n\n\nGarnier, Simon, Ross, Noam, Rudis, Robert, Camargo, et al. 2024. viridis(Lite) - Colorblind-Friendly Color Maps for R. https://doi.org/10.5281/zenodo.4679423.\n\n\nGohel, David, and Panagiotis Skintzos. 2024. ggiraph: Make ’ggplot2’ Graphics Interactive. https://CRAN.R-project.org/package=ggiraph.\n\n\nGovernment Analysis Function. 2021. “Data Visualisation: Colours.” https://analysisfunction.civilservice.gov.uk/policy-store/data-visualisation-colours-in-charts/.\n\n\nHafen, Ryan. 2023. geofacet: ’ggplot2’ Faceting Utilities for Geographical Data. https://CRAN.R-project.org/package=geofacet.\n\n\nHarmon, Jon. 2024. Web APIs with R. CRC Press. https://wapir.io/.\n\n\nHester, Jim, Florent Angly, Russ Hyde, Michael Chirico, Kun Ren, Alexander Rosenstock, and Indrajeet Patil. 2024. lintr: A ’Linter’ for R Code. https://CRAN.R-project.org/package=lintr.\n\n\nHester, Jim, and Jennifer Bryan. 2024. glue: Interpreted String Literals. https://glue.tidyverse.org/.\n\n\nHughes, Ellis. 2022a. camcorder: Record Your Plot History. https://CRAN.R-project.org/package=camcorder.\n\n\n———. 2022b. tidytuesdayR: Access the Weekly ’TidyTuesday’ Project Dataset. https://CRAN.R-project.org/package=tidytuesdayR.\n\n\nHvitfeldt, Emil. 2021. paletteer: Comprehensive Collection of Color Palettes. https://github.com/EmilHvitfeldt/paletteer.\n\n\n———. 2025. animalshelter: Animal Shelter Data. https://github.com/EmilHvitfeldt/animalshelter.\n\n\nIannone, Richard. 2024. fontawesome: Easily Work with ’Font Awesome’ Icons. https://CRAN.R-project.org/package=fontawesome.\n\n\nInternet Assigned Numbers Authority. 2023. “The tz Database: Time Zone and Daylight Saving Time Data.” Internet Assigned Numbers Authority. https://data.iana.org/time-zones/tz-link.html.\n\n\nJax (@lysrix). 2017. “Lemur.” https://unsplash.com/photos/red-and-white-rodent-h5xrh3CNT-k.\n\n\nKays, R., R. R. Dunn, A. W. Parsons, B. Mcdonald, T. Perkins, S. A. Powers, L. Shell, et al. 2020. “The Small Home Ranges and Large Local Ecological Impacts of Pet Cats.” Animal Conservation 23 (5): 516–23. https://doi.org/10.1111/acv.12563.\n\n\nKeyes, David. 2024. R for the Rest of Us: A Statistics-Free Introduction. No Starch Press. https://book.rfortherestofus.com/.\n\n\nLong Beach Animal Shelter. 2025. “Animal Shelter Data.” City of Long Beach Animal Care Services. https://data.longbeach.gov/explore/dataset/animal-shelter-intakes-and-outcomes/information/.\n\n\nLucchesi, Lydia, and Petra Kuhnert. 2020. Vizumap: Visualizing Uncertainty in Spatial Data. https://github.com/lydialucchesi/Vizumap.\n\n\nMapping Museums. 2021. “Mapping Museums Data.” www.mappingmuseums.org.\n\n\nMassicotte, Philippe, and Andy South. 2023. rnaturalearth: World Map Data from Natural Earth. https://docs.ropensci.org/rnaturalearth/.\n\n\nMatejka, Justin, and George Fitzmaurice. 2017. “Same Stats, Different Graphs: Generating Datasets with Varied Appearance and Identical Statistics Through Simulated Annealing.” In, 1290–94. https://doi.org/10.1145/3025453.3025912.\n\n\nMcDonald, J. L., and H. Cole. 2020. “Data from: The Small Home Ranges and Large Local Ecological Impacts of Pet Cats [United Kingdom].” Movebank data repository. https://doi.org/doi:10.5441/001/1.pf315732.\n\n\nMcWhite, Claire D., and Claus O. Wilke. 2024. colorblindr: Simulate colorblindness in R figures. https://github.com/clauswilke/colorblindr.\n\n\nMid-Atlantic Apiculture Research and Extension Consortium. 2024. “Seasonal Cycles of Activities in Colonies.” https://canr.udel.edu/maarec/honey-bee-biology/seasonal-cycles-of-activities-in-colonies/.\n\n\nmikefc. 2024. poissoned: Tileable Poisson Disc Sampling. https://github.com/coolbutuseless/poissoned.\n\n\nMills, Blake Robert. 2022. MetBrewer: Color Palettes Inspired by Works at the Metropolitan Museum of Art. https://CRAN.R-project.org/package=MetBrewer.\n\n\nMIT Election Data and Science Lab. 2017. “U.S. House 1976–2022.” Harvard Dataverse. https://doi.org/10.7910/DVN/IG0UN2.\n\n\nMüller, Kirill, and Lorenz Walthert. 2023. styler: Non-Invasive Pretty Printing of R Code. https://CRAN.R-project.org/package=styler.\n\n\nMüller, Kirill, and Hadley Wickham. 2023. tibble: Simple Data Frames. https://CRAN.R-project.org/package=tibble.\n\n\nMuth, Lisa. 2018. “An Alternative to Pink & Blue: Colors for Gender Data.” https://blog.datawrapper.de/gendercolor/.\n\n\nNatural Resources Canada. 2021. “Canadian Wind Turbine Database.” Natural Resources Canada (Government of Canada). https://open.canada.ca/data/en/dataset/79fdad93-9025-49ad-ba16-c26d718cc070.\n\n\nNoblet, Guillaume. 2025. ggbranding: Add Personal Branding to ’ggplot2’ Charts. https://github.com/gnoblet/ggbranding.\n\n\nNowosad, Jakub. 2018. ’CARTOColors’ Palettes. https://jakubnowosad.com/rcartocolor/.\n\n\nOoms, Jeroen. 2024. magick: Advanced Graphics and Image-Processing in R. https://CRAN.R-project.org/package=magick.\n\n\nOur World in Data. 2019. “Medical Doctors Per 1,000 People.” https://ourworldindata.org/grapher/physicians-per-1000-people.\n\n\nPebesma, Edzer. 2018. “Simple Features for R: Standardized Support for Spatial Vector Data.” The R Journal 10 (1): 439–46. https://doi.org/10.32614/RJ-2018-009.\n\n\nPedersen, Thomas Lin. 2022. ggforce: Accelerating ’ggplot2’. https://CRAN.R-project.org/package=ggforce.\n\n\n———. 2024. patchwork: The Composer of Plots. https://CRAN.R-project.org/package=patchwork.\n\n\n———. 2025. “Fonts in R.” https://www.tidyverse.org/blog/2025/05/fonts-in-r/.\n\n\nPedersen, Thomas Lin, and Martin Mitáš. 2024. marquee: Markdown Parser and Renderer for R Graphics. https://CRAN.R-project.org/package=marquee.\n\n\nPedersen, Thomas Lin, Jeroen Ooms, and Devon Govett. 2024. systemfonts: System Native Font Finding. https://CRAN.R-project.org/package=systemfonts.\n\n\nPedersen, Thomas Lin, and Maxim Shemanarev. 2023. ragg: Graphic Devices Based on AGG. https://CRAN.R-project.org/package=ragg.\n\n\nPLDB contributors. 2022. “PLDB: A Programming Language Database.” PLDB. https://pldb.com.\n\n\nQiu, Yixuan. 2022. sysfonts: Loading Fonts into R. https://CRAN.R-project.org/package=sysfonts.\n\n\n———. 2023. showtext: Using Fonts More Easily in R Graphs. https://CRAN.R-project.org/package=showtext.\n\n\nR Core Team. 2024. R: A Language and Environment for Statistical Computing. Vienna, Austria: R Foundation for Statistical Computing. https://www.R-project.org/.\n\n\nR4DS Online Learning Community. 2023. “Tidy Tuesday: A Weekly Social Data Project.” https://github.com/rfordatascience/tidytuesday.\n\n\nRennie, Nicola. 2023a. “Adding Social Media Icons to Charts with ggplot2.” https://nrennie.rbind.io/blog/adding-social-media-icons-ggplot2/.\n\n\n———. 2023b. “Creating Template Files with R.” https://nrennie.rbind.io/blog/script-templates-r/.\n\n\n———. 2023c. “Four Ways to Streamline Your R Workflows.” https://nrennie.rbind.io/blog/four-ways-streamline-r-workflows/.\n\n\n———. 2024a. ggtextcircle: Circular Text in ’ggplot2’. https://github.com/nrennie/ggtextcircle.\n\n\n———. 2024b. nobel: Access data from the Nobel Prize API via R. https://github.com/nrennie/nobel.\n\n\n———. 2024c. “tidytuesday.” GitHub Repository. GitHub. https://github.com/nrennie/tidytuesday.\n\n\nRennie, Nicola, and Andreas Krause. 2024. “Presenting data the Significance way - Part 1.” Significance 21 (3): 36–39. https://doi.org/10.1093/jrssig/qmae045.\n\n\nReynolds, Gina. 2025. “Everyday ggplot2 extension.” https://evamaerey.github.io/everyday_ggplot2_extension/.\n\n\nRStudio. 2018a. “forcats Hex Sticker.” https://github.com/rstudio/hex-stickers/blob/main/PNG/forcats.png.\n\n\n———. 2018b. “ggplot2 Hex Sticker.” https://github.com/rstudio/hex-stickers/blob/main/PNG/ggplot2.png.\n\n\n———. 2018c. “purrr Hex Sticker.” https://github.com/rstudio/hex-stickers/blob/main/PNG/purrr.png.\n\n\n———. 2018d. “readr Hex Sticker.” https://github.com/rstudio/hex-stickers/blob/main/PNG/readr.png.\n\n\n———. 2018e. “tibble Hex Sticker.” https://github.com/rstudio/hex-stickers/blob/main/PNG/tibble.png.\n\n\n———. 2020a. “dplyr Hex Sticker.” https://github.com/rstudio/hex-stickers/blob/main/PNG/dplyr.png.\n\n\n———. 2020b. “stringr Hex Sticker.” https://github.com/rstudio/hex-stickers/blob/main/PNG/stringr.png.\n\n\n———. 2020c. “tidyr Hex Sticker.” https://github.com/rstudio/hex-stickers/blob/main/PNG/tidyr.png.\n\n\nRudis, Bob, Ben Bolker, and Jan Schulz. 2017. ggalt: Extra Coordinate Systems, ’Geoms’, Statistical Transformations, Scales and Fonts for ’ggplot2’. https://CRAN.R-project.org/package=ggalt.\n\n\nRudis, Bob, and Dave Gandy. 2023. waffle: Create Waffle Chart Visualizations. https://CRAN.R-project.org/package=waffle.\n\n\nSarkar, Deepayan. 2008. Lattice: Multivariate Data Visualization with r. New York: Springer. http://lmdvr.r-forge.r-project.org.\n\n\nSchauberger, Philipp, and Alexander Walker. 2023. openxlsx: Read, Write and Edit xlsx Files. https://CRAN.R-project.org/package=openxlsx.\n\n\nScheuch, Christoph. 2025. owidapi: Access the Our World in Data Chart API. https://doi.org/10.32614/CRAN.package.owidapi.\n\n\nSchloerke, Barret, Di Cook, Joseph Larmarange, Francois Briatte, Moritz Marbach, Edwin Thoen, Amos Elberg, and Jason Crowley. 2024. GGally: Extension to ’ggplot2’. https://CRAN.R-project.org/package=GGally.\n\n\nSchloss, Karen B., Connor C. Gramazio, Allison T. Silverman, Madeline L. Parker, and Audrey S. Wang. 2019. “Mapping Color to Meaning in Colormap Data Visualizations.” IEEE Transactions on Visualization and Computer Graphics 25 (1): 810–19. https://doi.org/10.1109/TVCG.2018.2865147.\n\n\nShalloway, Bryan. 2023. funspotr: Spot R Functions & Packages. https://CRAN.R-project.org/package=funspotr.\n\n\nSievert, Carson. 2020. Interactive Web-Based Data Visualization with r, Plotly, and Shiny. Chapman; Hall/CRC. https://plotly-r.com.\n\n\nSlowikowski, Kamil. 2024. ggrepel: Automatically Position Non-Overlapping Text Labels with ’ggplot2’. https://CRAN.R-project.org/package=ggrepel.\n\n\nTierney, Nicholas. 2017. “visdat: Visualising Whole Data Frames.” JOSS 2 (16): 355. https://doi.org/10.21105/joss.00355.\n\n\nTierney, Nicholas, and Dianne Cook. 2023. “Expanding Tidy Data Principles to Facilitate Missing Data Exploration, Visualization and Assessment of Imputations.” Journal of Statistical Software 105 (7): 1–31. https://doi.org/10.18637/jss.v105.i07.\n\n\nTol, Paul. 2021. “Paul Tol’s Notes: Colour schemes and templates.” https://sronpersonalpages.nl/~pault/.\n\n\nUnited States Census Bureau. 2021a. “Historical Population Change Data (1910-2020).” https://www.census.gov/data/tables/time-series/dec/popchange-data-text.html.\n\n\n———. 2021b. “State Area Measurements and Internal Point Coordinates.” https://www.census.gov/geographies/reference-files/2010/geo/state-area.html.\n\n\nUnited States Department of Agriculture: Economics, Statistics and Market Information System. 2022. “Honey Bee Colonies.” USDA Economics, Statistics and Market Information System. https://usda.library.cornell.edu/concern/publications/rn301137d.\n\n\nWalker, Kyle. 2022. crsuggest: Obtain Suggested Coordinate Reference System Information for Spatial Data. https://CRAN.R-project.org/package=crsuggest.\n\n\nWanzer, Dana Linnell, Tarek Azzam, Natalie D. Jones, and Darrel Skousen. 2021. “The Role of Titles in Enhancing Data Visualization.” Evaluation and Program Planning 84: 101896. https://doi.org/10.1016/j.evalprogplan.2020.101896.\n\n\nWickham, Hadley. 2016. ggplot2: Elegant Graphics for Data Analysis. Springer-Verlag New York. https://ggplot2.tidyverse.org.\n\n\n———. 2023a. forcats: Tools for Working with Categorical Variables (Factors). https://doi.org/10.32614/CRAN.package.forcats.\n\n\n———. 2023b. stringr: Simple, Consistent Wrappers for Common String Operations. https://CRAN.R-project.org/package=stringr.\n\n\nWickham, Hadley, Mara Averick, Jennifer Bryan, Winston Chang, Lucy D’Agostino McGowan, Romain François, Garrett Grolemund, et al. 2019. “Welcome to the tidyverse.” Journal of Open Source Software 4 (43): 1686. https://doi.org/10.21105/joss.01686.\n\n\nWickham, Hadley, and Jennifer Bryan. 2023. readxl: Read Excel Files. https://CRAN.R-project.org/package=readxl.\n\n\nWickham, Hadley, Mine Çetinkaya-Rundel, and Garrett Grolemund. 2023. R for Data Science. Second Edition. O-Reilly. https://r4ds.hadley.nz.\n\n\nWickham, Hadley, Romain François, Lionel Henry, Kirill Müller, and Davis Vaughan. 2023. dplyr: A Grammar of Data Manipulation. https://CRAN.R-project.org/package=dplyr.\n\n\nWickham, Hadley, and Lionel Henry. 2023. purrr: Functional Programming Tools. https://CRAN.R-project.org/package=purrr.\n\n\nWickham, Hadley, Jim Hester, and Jennifer Bryan. 2024. readr: Read Rectangular Text Data. https://CRAN.R-project.org/package=readr.\n\n\nWickham, Hadley, Thomas Lin Pedersen, and Dana Seidel. 2023. scales: Scale Functions for Visualization. https://CRAN.R-project.org/package=scales.\n\n\nWickham, Hadley, Davis Vaughan, and Maximilian Girlich. 2024. tidyr: Tidy Messy Data. https://CRAN.R-project.org/package=tidyr.\n\n\nWilke, Claus. 2022. ggtextures: Drawing Textured Rectangles and Bars with grid and ggplot2. https://github.com/clauswilke/ggtextures.\n\n\nWilke, Claus O. 2024. cowplot: Streamlined Plot Theme and Plot Annotations for ’ggplot2’. https://wilkelab.org/cowplot/.\n\n\nWilke, Claus O., and Brenton M. Wiernik. 2022. ggtext: Improved Text Rendering Support for ’ggplot2’. https://CRAN.R-project.org/package=ggtext.\n\n\nwww.nobelprize.org. 2024. “Nobel Prize API Version 2.1.” https://api.nobelprize.org/2.1/laureates.\n\n\nYork, Piers. 2023. owidR: Import Data from Our World in Data. https://github.com/piersyork/owidR.\n\n\nYu, Guangchuang. 2023. ggimage: Use Image in ’ggplot2’. https://CRAN.R-project.org/package=ggimage.\n\n\nYutani, Hiroaki. 2023. gghighlight: Highlight Lines and Points in ’ggplot2’. https://CRAN.R-project.org/package=gghighlight.\n\n\nZehr, Sarah M., Richard G. Roach, David Haring, Julie Taylor, Freda H. Cameron, and Anne D. Yoder. 2014. “Life history profiles for 27 strepsirrhine primate taxa generated using captive data from the Duke Lemur Center.” Scientific Data 1 (1). https://doi.org/10.1038/sdata.2014.19.",
    "crumbs": [
      "일반적인 차트도 지루할 필요는 없습니다!",
      "<span class='chapter-number'>5</span>  <span class='chapter-title'>동물 보호소 입소: **`ggforce`**를 사용한 게이지 차트 만들기</span>"
    ]
  },
  {
    "objectID": "text.html",
    "href": "text.html",
    "title": "아이콘, 글꼴 및 텍스트 활용",
    "section": "",
    "text": "글꼴과 텍스트는 차트를 개발할 때 가장 먼저 고려되는 요소가 아닌 경우가 많습니다. 아마도 플롯이 데이터에 대한 텍스트 설명보다 더 나은 대안으로 분류되기 때문일 것입니다. 그렇긴 하지만 글꼴을 신중하게 사용하면 플롯을 더 명확하고 흥미롭게 만들 수 있습니다.\n\n 6  캐나다 풍력 터빈: 와플 차트와 픽토그램 에서는 아이콘 글꼴을 다운로드한 다음 sysfonts 및 showtext를 사용하여 로컬 글꼴 파일을 읽는 방법을 자세히 설명합니다. 또한 marquee 패키지를 통해 기존 범례 대신 색상 텍스트를 사용하는 예를 보여줍니다.\n 7  고양이: ggtext를 사용한 데이터 기반 주석 에서는 ggtext로 색상 텍스트를 추가하는 다른 방법을 설명하고 데이터가 업데이트될 때 업데이트되는 데이터 기반 주석을 만드는 방법을 보여줍니다. 이 장에서는 또한 플롯 캡션에 소셜 미디어 아이콘을 추가하는 함수를 작성하는 방법도 보여줍니다.\n 8  노벨상 수상자: 텍스트 배치 및 플롯 매개변수화 에서는 미학적으로 즐거우면서도 단어 구름(word cloud)보다 더 명확하게 텍스트 데이터를 시각화하는 방법을 고려합니다.\n\n이 섹션에서는 또한 R을 사용하여 API에서 데이터를 얻는 방법과 플롯을 매개변수화하는 함수를 작성하여 데이터의 다른 하위 집합에 대해 동일한 차트의 다른 버전을 만드는 방법도 다룹니다.\n\n\n\n\nAnscombe, F. J. 1973. “Graphs in Statistical Analysis.” The American Statistician 27 (1): 17–21. https://doi.org/10.1080/00031305.1973.10478966.\n\n\nAphalo, Pedro J. 2024. Learn R: As a Language. Second Edition. CRC Press. https://www.learnr-book.info/.\n\n\nAuguie, Baptiste. 2019. egg: Extensions for ’ggplot2’: Custom Geom, Custom Themes, Plot Alignment, Labelled Panels, Symmetric Scales, and Fixed Panel Size. https://CRAN.R-project.org/package=egg.\n\n\nBarthelme, Simon. 2024. imager: Image Processing Library Based on ’CImg’. https://CRAN.R-project.org/package=imager.\n\n\nBrand, Teun van den. 2025. “ggplot2 4.0.0.” https://www.tidyverse.org/blog/2025/09/ggplot2-4-0-0/.\n\n\nBridson, Robert. 2007. “Fast Poisson Disk Sampling in Arbitrary Dimensions.” In ACM SIGGRAPH 2007 Sketches. SIGGRAPH ’07. New York, NY, USA: Association for Computing Machinery. https://doi.org/10.1145/1278780.1278807.\n\n\nBrown, Mark J.F., and Paxton, Robert J. 2009. “The Conservation of Bees: A Global Perspective.” Apidologie 40 (3): 410–16. https://doi.org/10.1051/apido/2009019.\n\n\nCameron, Allan, and Teun van den Brand. 2024. geomtextpath: Curved Text in ’ggplot2’. https://CRAN.R-project.org/package=geomtextpath.\n\n\nCARTO. 2016. ’CARTOColors’ Palettes. https://carto.com/carto-colors/.\n\n\nChang, Winston. 2023. extrafont: Tools for Using Fonts. https://CRAN.R-project.org/package=extrafont.\n\n\nCheung, Foo. 2021. dumbbell: Displaying Changes Between Two Points Using Dumbbell Plots. https://CRAN.R-project.org/package=dumbbell.\n\n\nCowgill, Matt, and John Helveston. 2021. ggannotate: Interactively Annotate ggplot2 Plots. https://github.com/MattCowgill/ggannotate.\n\n\nCsárdi, Gábor, and Jim Hester. 2024. pak: Another Approach to Package Installation. https://CRAN.R-project.org/package=pak.\n\n\nCsárdi, Gábor, Jim Hester, Hadley Wickham, Winston Chang, Martin Morgan, and Dan Tenenbaum. 2024. remotes: R Package Installation from Remote Repositories, Including ’GitHub’. https://CRAN.R-project.org/package=remotes.\n\n\nDomin, Iaroslav. 2024. ggview: ’ggplot2’ Picture Previewer. https://CRAN.R-project.org/package=ggview.\n\n\nEngler, Jan Broder. 2024. “Tidyplots Empowers Life Scientists with Easy Code-Based Data Visualization.” bioRxiv. https://doi.org/10.1101/2024.11.08.621836.\n\n\nFC, Mike, Trevor L. Davis, and ggplot2 authors. 2024. ggpattern: ’ggplot2’ Pattern Geoms. https://CRAN.R-project.org/package=ggpattern.\n\n\nFlaticon.com. 2024. “Wind Power Flaticon.” https://www.flaticon.com/free-icon/wind-power_5670189.\n\n\nFont Awesome. 2024. “Font Awesome 6.” https://fontawesome.com/.\n\n\nFranconeri, Steven L., Lace M. Padilla, Priti Shah, Jeffrey M. Zacks, and Jessica Hullman. 2021. “The Science of Visual Data Communication: What Works.” Psychological Science in the Public Interest 22 (3): 110–61. https://doi.org/10.1177/15291006211051956.\n\n\nGarnier, Simon, Ross, Noam, Rudis, Robert, Camargo, et al. 2024. viridis(Lite) - Colorblind-Friendly Color Maps for R. https://doi.org/10.5281/zenodo.4679423.\n\n\nGohel, David, and Panagiotis Skintzos. 2024. ggiraph: Make ’ggplot2’ Graphics Interactive. https://CRAN.R-project.org/package=ggiraph.\n\n\nGovernment Analysis Function. 2021. “Data Visualisation: Colours.” https://analysisfunction.civilservice.gov.uk/policy-store/data-visualisation-colours-in-charts/.\n\n\nHafen, Ryan. 2023. geofacet: ’ggplot2’ Faceting Utilities for Geographical Data. https://CRAN.R-project.org/package=geofacet.\n\n\nHarmon, Jon. 2024. Web APIs with R. CRC Press. https://wapir.io/.\n\n\nHester, Jim, Florent Angly, Russ Hyde, Michael Chirico, Kun Ren, Alexander Rosenstock, and Indrajeet Patil. 2024. lintr: A ’Linter’ for R Code. https://CRAN.R-project.org/package=lintr.\n\n\nHester, Jim, and Jennifer Bryan. 2024. glue: Interpreted String Literals. https://glue.tidyverse.org/.\n\n\nHughes, Ellis. 2022a. camcorder: Record Your Plot History. https://CRAN.R-project.org/package=camcorder.\n\n\n———. 2022b. tidytuesdayR: Access the Weekly ’TidyTuesday’ Project Dataset. https://CRAN.R-project.org/package=tidytuesdayR.\n\n\nHvitfeldt, Emil. 2021. paletteer: Comprehensive Collection of Color Palettes. https://github.com/EmilHvitfeldt/paletteer.\n\n\n———. 2025. animalshelter: Animal Shelter Data. https://github.com/EmilHvitfeldt/animalshelter.\n\n\nIannone, Richard. 2024. fontawesome: Easily Work with ’Font Awesome’ Icons. https://CRAN.R-project.org/package=fontawesome.\n\n\nInternet Assigned Numbers Authority. 2023. “The tz Database: Time Zone and Daylight Saving Time Data.” Internet Assigned Numbers Authority. https://data.iana.org/time-zones/tz-link.html.\n\n\nJax (@lysrix). 2017. “Lemur.” https://unsplash.com/photos/red-and-white-rodent-h5xrh3CNT-k.\n\n\nKays, R., R. R. Dunn, A. W. Parsons, B. Mcdonald, T. Perkins, S. A. Powers, L. Shell, et al. 2020. “The Small Home Ranges and Large Local Ecological Impacts of Pet Cats.” Animal Conservation 23 (5): 516–23. https://doi.org/10.1111/acv.12563.\n\n\nKeyes, David. 2024. R for the Rest of Us: A Statistics-Free Introduction. No Starch Press. https://book.rfortherestofus.com/.\n\n\nLong Beach Animal Shelter. 2025. “Animal Shelter Data.” City of Long Beach Animal Care Services. https://data.longbeach.gov/explore/dataset/animal-shelter-intakes-and-outcomes/information/.\n\n\nLucchesi, Lydia, and Petra Kuhnert. 2020. Vizumap: Visualizing Uncertainty in Spatial Data. https://github.com/lydialucchesi/Vizumap.\n\n\nMapping Museums. 2021. “Mapping Museums Data.” www.mappingmuseums.org.\n\n\nMassicotte, Philippe, and Andy South. 2023. rnaturalearth: World Map Data from Natural Earth. https://docs.ropensci.org/rnaturalearth/.\n\n\nMatejka, Justin, and George Fitzmaurice. 2017. “Same Stats, Different Graphs: Generating Datasets with Varied Appearance and Identical Statistics Through Simulated Annealing.” In, 1290–94. https://doi.org/10.1145/3025453.3025912.\n\n\nMcDonald, J. L., and H. Cole. 2020. “Data from: The Small Home Ranges and Large Local Ecological Impacts of Pet Cats [United Kingdom].” Movebank data repository. https://doi.org/doi:10.5441/001/1.pf315732.\n\n\nMcWhite, Claire D., and Claus O. Wilke. 2024. colorblindr: Simulate colorblindness in R figures. https://github.com/clauswilke/colorblindr.\n\n\nMid-Atlantic Apiculture Research and Extension Consortium. 2024. “Seasonal Cycles of Activities in Colonies.” https://canr.udel.edu/maarec/honey-bee-biology/seasonal-cycles-of-activities-in-colonies/.\n\n\nmikefc. 2024. poissoned: Tileable Poisson Disc Sampling. https://github.com/coolbutuseless/poissoned.\n\n\nMills, Blake Robert. 2022. MetBrewer: Color Palettes Inspired by Works at the Metropolitan Museum of Art. https://CRAN.R-project.org/package=MetBrewer.\n\n\nMIT Election Data and Science Lab. 2017. “U.S. House 1976–2022.” Harvard Dataverse. https://doi.org/10.7910/DVN/IG0UN2.\n\n\nMüller, Kirill, and Lorenz Walthert. 2023. styler: Non-Invasive Pretty Printing of R Code. https://CRAN.R-project.org/package=styler.\n\n\nMüller, Kirill, and Hadley Wickham. 2023. tibble: Simple Data Frames. https://CRAN.R-project.org/package=tibble.\n\n\nMuth, Lisa. 2018. “An Alternative to Pink & Blue: Colors for Gender Data.” https://blog.datawrapper.de/gendercolor/.\n\n\nNatural Resources Canada. 2021. “Canadian Wind Turbine Database.” Natural Resources Canada (Government of Canada). https://open.canada.ca/data/en/dataset/79fdad93-9025-49ad-ba16-c26d718cc070.\n\n\nNoblet, Guillaume. 2025. ggbranding: Add Personal Branding to ’ggplot2’ Charts. https://github.com/gnoblet/ggbranding.\n\n\nNowosad, Jakub. 2018. ’CARTOColors’ Palettes. https://jakubnowosad.com/rcartocolor/.\n\n\nOoms, Jeroen. 2024. magick: Advanced Graphics and Image-Processing in R. https://CRAN.R-project.org/package=magick.\n\n\nOur World in Data. 2019. “Medical Doctors Per 1,000 People.” https://ourworldindata.org/grapher/physicians-per-1000-people.\n\n\nPebesma, Edzer. 2018. “Simple Features for R: Standardized Support for Spatial Vector Data.” The R Journal 10 (1): 439–46. https://doi.org/10.32614/RJ-2018-009.\n\n\nPedersen, Thomas Lin. 2022. ggforce: Accelerating ’ggplot2’. https://CRAN.R-project.org/package=ggforce.\n\n\n———. 2024. patchwork: The Composer of Plots. https://CRAN.R-project.org/package=patchwork.\n\n\n———. 2025. “Fonts in R.” https://www.tidyverse.org/blog/2025/05/fonts-in-r/.\n\n\nPedersen, Thomas Lin, and Martin Mitáš. 2024. marquee: Markdown Parser and Renderer for R Graphics. https://CRAN.R-project.org/package=marquee.\n\n\nPedersen, Thomas Lin, Jeroen Ooms, and Devon Govett. 2024. systemfonts: System Native Font Finding. https://CRAN.R-project.org/package=systemfonts.\n\n\nPedersen, Thomas Lin, and Maxim Shemanarev. 2023. ragg: Graphic Devices Based on AGG. https://CRAN.R-project.org/package=ragg.\n\n\nPLDB contributors. 2022. “PLDB: A Programming Language Database.” PLDB. https://pldb.com.\n\n\nQiu, Yixuan. 2022. sysfonts: Loading Fonts into R. https://CRAN.R-project.org/package=sysfonts.\n\n\n———. 2023. showtext: Using Fonts More Easily in R Graphs. https://CRAN.R-project.org/package=showtext.\n\n\nR Core Team. 2024. R: A Language and Environment for Statistical Computing. Vienna, Austria: R Foundation for Statistical Computing. https://www.R-project.org/.\n\n\nR4DS Online Learning Community. 2023. “Tidy Tuesday: A Weekly Social Data Project.” https://github.com/rfordatascience/tidytuesday.\n\n\nRennie, Nicola. 2023a. “Adding Social Media Icons to Charts with ggplot2.” https://nrennie.rbind.io/blog/adding-social-media-icons-ggplot2/.\n\n\n———. 2023b. “Creating Template Files with R.” https://nrennie.rbind.io/blog/script-templates-r/.\n\n\n———. 2023c. “Four Ways to Streamline Your R Workflows.” https://nrennie.rbind.io/blog/four-ways-streamline-r-workflows/.\n\n\n———. 2024a. ggtextcircle: Circular Text in ’ggplot2’. https://github.com/nrennie/ggtextcircle.\n\n\n———. 2024b. nobel: Access data from the Nobel Prize API via R. https://github.com/nrennie/nobel.\n\n\n———. 2024c. “tidytuesday.” GitHub Repository. GitHub. https://github.com/nrennie/tidytuesday.\n\n\nRennie, Nicola, and Andreas Krause. 2024. “Presenting data the Significance way - Part 1.” Significance 21 (3): 36–39. https://doi.org/10.1093/jrssig/qmae045.\n\n\nReynolds, Gina. 2025. “Everyday ggplot2 extension.” https://evamaerey.github.io/everyday_ggplot2_extension/.\n\n\nRStudio. 2018a. “forcats Hex Sticker.” https://github.com/rstudio/hex-stickers/blob/main/PNG/forcats.png.\n\n\n———. 2018b. “ggplot2 Hex Sticker.” https://github.com/rstudio/hex-stickers/blob/main/PNG/ggplot2.png.\n\n\n———. 2018c. “purrr Hex Sticker.” https://github.com/rstudio/hex-stickers/blob/main/PNG/purrr.png.\n\n\n———. 2018d. “readr Hex Sticker.” https://github.com/rstudio/hex-stickers/blob/main/PNG/readr.png.\n\n\n———. 2018e. “tibble Hex Sticker.” https://github.com/rstudio/hex-stickers/blob/main/PNG/tibble.png.\n\n\n———. 2020a. “dplyr Hex Sticker.” https://github.com/rstudio/hex-stickers/blob/main/PNG/dplyr.png.\n\n\n———. 2020b. “stringr Hex Sticker.” https://github.com/rstudio/hex-stickers/blob/main/PNG/stringr.png.\n\n\n———. 2020c. “tidyr Hex Sticker.” https://github.com/rstudio/hex-stickers/blob/main/PNG/tidyr.png.\n\n\nRudis, Bob, Ben Bolker, and Jan Schulz. 2017. ggalt: Extra Coordinate Systems, ’Geoms’, Statistical Transformations, Scales and Fonts for ’ggplot2’. https://CRAN.R-project.org/package=ggalt.\n\n\nRudis, Bob, and Dave Gandy. 2023. waffle: Create Waffle Chart Visualizations. https://CRAN.R-project.org/package=waffle.\n\n\nSarkar, Deepayan. 2008. Lattice: Multivariate Data Visualization with r. New York: Springer. http://lmdvr.r-forge.r-project.org.\n\n\nSchauberger, Philipp, and Alexander Walker. 2023. openxlsx: Read, Write and Edit xlsx Files. https://CRAN.R-project.org/package=openxlsx.\n\n\nScheuch, Christoph. 2025. owidapi: Access the Our World in Data Chart API. https://doi.org/10.32614/CRAN.package.owidapi.\n\n\nSchloerke, Barret, Di Cook, Joseph Larmarange, Francois Briatte, Moritz Marbach, Edwin Thoen, Amos Elberg, and Jason Crowley. 2024. GGally: Extension to ’ggplot2’. https://CRAN.R-project.org/package=GGally.\n\n\nSchloss, Karen B., Connor C. Gramazio, Allison T. Silverman, Madeline L. Parker, and Audrey S. Wang. 2019. “Mapping Color to Meaning in Colormap Data Visualizations.” IEEE Transactions on Visualization and Computer Graphics 25 (1): 810–19. https://doi.org/10.1109/TVCG.2018.2865147.\n\n\nShalloway, Bryan. 2023. funspotr: Spot R Functions & Packages. https://CRAN.R-project.org/package=funspotr.\n\n\nSievert, Carson. 2020. Interactive Web-Based Data Visualization with r, Plotly, and Shiny. Chapman; Hall/CRC. https://plotly-r.com.\n\n\nSlowikowski, Kamil. 2024. ggrepel: Automatically Position Non-Overlapping Text Labels with ’ggplot2’. https://CRAN.R-project.org/package=ggrepel.\n\n\nTierney, Nicholas. 2017. “visdat: Visualising Whole Data Frames.” JOSS 2 (16): 355. https://doi.org/10.21105/joss.00355.\n\n\nTierney, Nicholas, and Dianne Cook. 2023. “Expanding Tidy Data Principles to Facilitate Missing Data Exploration, Visualization and Assessment of Imputations.” Journal of Statistical Software 105 (7): 1–31. https://doi.org/10.18637/jss.v105.i07.\n\n\nTol, Paul. 2021. “Paul Tol’s Notes: Colour schemes and templates.” https://sronpersonalpages.nl/~pault/.\n\n\nUnited States Census Bureau. 2021a. “Historical Population Change Data (1910-2020).” https://www.census.gov/data/tables/time-series/dec/popchange-data-text.html.\n\n\n———. 2021b. “State Area Measurements and Internal Point Coordinates.” https://www.census.gov/geographies/reference-files/2010/geo/state-area.html.\n\n\nUnited States Department of Agriculture: Economics, Statistics and Market Information System. 2022. “Honey Bee Colonies.” USDA Economics, Statistics and Market Information System. https://usda.library.cornell.edu/concern/publications/rn301137d.\n\n\nWalker, Kyle. 2022. crsuggest: Obtain Suggested Coordinate Reference System Information for Spatial Data. https://CRAN.R-project.org/package=crsuggest.\n\n\nWanzer, Dana Linnell, Tarek Azzam, Natalie D. Jones, and Darrel Skousen. 2021. “The Role of Titles in Enhancing Data Visualization.” Evaluation and Program Planning 84: 101896. https://doi.org/10.1016/j.evalprogplan.2020.101896.\n\n\nWickham, Hadley. 2016. ggplot2: Elegant Graphics for Data Analysis. Springer-Verlag New York. https://ggplot2.tidyverse.org.\n\n\n———. 2023a. forcats: Tools for Working with Categorical Variables (Factors). https://doi.org/10.32614/CRAN.package.forcats.\n\n\n———. 2023b. stringr: Simple, Consistent Wrappers for Common String Operations. https://CRAN.R-project.org/package=stringr.\n\n\nWickham, Hadley, Mara Averick, Jennifer Bryan, Winston Chang, Lucy D’Agostino McGowan, Romain François, Garrett Grolemund, et al. 2019. “Welcome to the tidyverse.” Journal of Open Source Software 4 (43): 1686. https://doi.org/10.21105/joss.01686.\n\n\nWickham, Hadley, and Jennifer Bryan. 2023. readxl: Read Excel Files. https://CRAN.R-project.org/package=readxl.\n\n\nWickham, Hadley, Mine Çetinkaya-Rundel, and Garrett Grolemund. 2023. R for Data Science. Second Edition. O-Reilly. https://r4ds.hadley.nz.\n\n\nWickham, Hadley, Romain François, Lionel Henry, Kirill Müller, and Davis Vaughan. 2023. dplyr: A Grammar of Data Manipulation. https://CRAN.R-project.org/package=dplyr.\n\n\nWickham, Hadley, and Lionel Henry. 2023. purrr: Functional Programming Tools. https://CRAN.R-project.org/package=purrr.\n\n\nWickham, Hadley, Jim Hester, and Jennifer Bryan. 2024. readr: Read Rectangular Text Data. https://CRAN.R-project.org/package=readr.\n\n\nWickham, Hadley, Thomas Lin Pedersen, and Dana Seidel. 2023. scales: Scale Functions for Visualization. https://CRAN.R-project.org/package=scales.\n\n\nWickham, Hadley, Davis Vaughan, and Maximilian Girlich. 2024. tidyr: Tidy Messy Data. https://CRAN.R-project.org/package=tidyr.\n\n\nWilke, Claus. 2022. ggtextures: Drawing Textured Rectangles and Bars with grid and ggplot2. https://github.com/clauswilke/ggtextures.\n\n\nWilke, Claus O. 2024. cowplot: Streamlined Plot Theme and Plot Annotations for ’ggplot2’. https://wilkelab.org/cowplot/.\n\n\nWilke, Claus O., and Brenton M. Wiernik. 2022. ggtext: Improved Text Rendering Support for ’ggplot2’. https://CRAN.R-project.org/package=ggtext.\n\n\nwww.nobelprize.org. 2024. “Nobel Prize API Version 2.1.” https://api.nobelprize.org/2.1/laureates.\n\n\nYork, Piers. 2023. owidR: Import Data from Our World in Data. https://github.com/piersyork/owidR.\n\n\nYu, Guangchuang. 2023. ggimage: Use Image in ’ggplot2’. https://CRAN.R-project.org/package=ggimage.\n\n\nYutani, Hiroaki. 2023. gghighlight: Highlight Lines and Points in ’ggplot2’. https://CRAN.R-project.org/package=gghighlight.\n\n\nZehr, Sarah M., Richard G. Roach, David Haring, Julie Taylor, Freda H. Cameron, and Anne D. Yoder. 2014. “Life history profiles for 27 strepsirrhine primate taxa generated using captive data from the Duke Lemur Center.” Scientific Data 1 (1). https://doi.org/10.1038/sdata.2014.19.",
    "crumbs": [
      "아이콘, 글꼴 및 텍스트 활용"
    ]
  },
  {
    "objectID": "wind-turbines.html",
    "href": "wind-turbines.html",
    "title": "6  캐나다 풍력 터빈: 와플 차트와 픽토그램",
    "section": "",
    "text": "6.1 데이터\n이 장에서는 URL을 통해 Excel 파일에서 데이터를 읽는 방법, waffle 패키지를 사용하여 와플 차트를 만드는 방법, 기존 범례 대신 사용할 색상 텍스트가 포함된 부제목을 작성하는 방법을 배웁니다.\n이 장을 마치면 다음을 할 수 있습니다:\n이 장에서 필요한 패키지를 로드하는 것으로 시작합니다.\n이전 장에서와 같이 ggplot2를 사용하여 플롯을 작성하고 dplyr을 사용하여 데이터를 가져오고 조작하며 glue를 사용하여 데이터 기반 문자열을 생성합니다. sysfonts 및 showtext 패키지는 다양한 글꼴을 로드하고 렌더링하는 데 다시 사용됩니다.\n이 장에서는 아직 사용하지 않은 꽤 많은 패키지를 소개합니다. 도입된 새로운 아이디어의 수에 압도되지 마십시오. 나중에 이러한 패키지에 익숙해지기 위해 더 많은 장에서 다시 사용할 것입니다!\n2020년 10월, 캐나다 정부 오픈 데이터 포털의 풍력 터빈 데이터가 TidyTuesday 데이터 세트로 사용되었습니다 (R4DS Online Learning Community 2023). 캐나다 풍력 터빈 데이터베이스는 전력 용량 및 지리적 위치를 포함하여 캐나다에 설치된 풍력 터빈에 대한 정보를 제공합니다 (Natural Resources Canada 2021). 이전 장에서 했던 것처럼 tidytuesdayR 패키지를 사용하여 데이터를 읽는 대신 open.canada.ca 웹사이트에서 직접 데이터를 읽어 봅시다.",
    "crumbs": [
      "아이콘, 글꼴 및 텍스트 활용",
      "<span class='chapter-number'>6</span>  <span class='chapter-title'>캐나다 풍력 터빈: 와플 차트와 픽토그램</span>"
    ]
  },
  {
    "objectID": "wind-turbines.html#데이터",
    "href": "wind-turbines.html#데이터",
    "title": "6  캐나다 풍력 터빈: 와플 차트와 픽토그램",
    "section": "",
    "text": "Tip 6.1: 캐나다의 오픈 정부 데이터\n\n\n\n캐나다 풍력 터빈 데이터에는 Open Government Licence - Canada에 따라 라이선스가 부여된 정보가 포함되어 있습니다. search.open.canada.ca/opendata에서 더 많은 오픈 데이터를 검색할 수 있습니다. 오픈 데이터 소스에 대한 자세한 논의는 Chapter 11 를 참조하십시오.\n\n\n\n6.1.1 openxlsx로 데이터 읽기\nreadxl 패키지 (Wickham and Bryan 2023)는 로컬에 저장된 Excel 파일을 읽는 데 사용할 수 있지만 URL에서 직접 Excel 파일을 읽는 데는 작동하지 않습니다. 관련 open.canada.ca/data/dataset 웹사이트를 방문하여 파일을 수동으로 다운로드한 다음 readxl을 사용하여 읽을 수 있습니다. 또는 URL을 전달할 수 있는 openxlsx 패키지 (Schauberger and Walker 2023)를 사용할 수 있습니다.\n물론 이 파일의 URL이 무엇인지 알아야 합니다. 풍력 터빈 데이터에 대한 다음 웹페이지(open.canada.ca/data/dataset/79fdad93-9025-49ad-ba16-c26d718cc070)를 방문하여 Excel 파일 링크를 마우스 오른쪽 버튼으로 클릭하면 링크 주소를 복사할 수 있습니다. 해당 링크 주소를 url이라는 문자열로 저장합니다. 동일한 사이트에서 다른 데이터 세트를 다운로드할 계획이라면 나중에 다시 사용할 수 있도록 기본 웹사이트를 base_url 변수로 저장하는 것이 유용할 수 있습니다.\n그런 다음 openxlsx의 read.xlsx() 함수를 사용하며, 여기서 url 변수를 xlsxFile 인수에 전달합니다: \n\nbase_url &lt;- \"https://ftp.cartes.canada.ca/\"\nurl &lt;- paste0(\n  base_url,\n  \"pub/nrcan_rncan/Wind-energy_Energie-eolienne/wind_turbines_database/Wind_Turbine_Database_FGP.xlsx\"\n)\nwind_turbines &lt;- read.xlsx(xlsxFile = url)\n\nExcel 파일에는 사람에게는 친숙하지만 컴퓨터에는 덜 친숙하게 만드는 몇 가지 기능이 있습니다:\n\n여러 시트\n빈 행\n병합된 셀\n\n다행히 다운로드한 .xlsx 파일은 사람에게 친숙하면서도 컴퓨터에게도 친숙하므로 지금은 이러한 문제를 처리할 필요가 없습니다.\n\n\n\n\n\n\nTip 6.2: Excel의 여러 시트 처리\n\n\n\nExcel 파일에는 여러 데이터 시트가 포함될 수 있습니다. read.xlsx()의 sheet 인수를 사용하여 읽으려는 시트의 이름이나 인덱스를 지정할 수 있습니다. 시트 이름을 사용하는 것이 일반적으로 조금 더 강력합니다. 즉, 시트 순서가 (우발적으로) 변경되어도 코드가 견딜 수 있습니다.\n\n\n\n\n\n\n\n\nTip 6.3: Excel에서 빈 행 건너뛰기\n\n\n\nread.xlsx() 함수는 항상 파일 시작 부분의 빈 행을 건너뜁니다. 그러나 때로는 스프레드시트 작성자가 제목 행을 추가한 다음 실제 데이터가 시작되기 전에 빈 행을 몇 개 추가할 수 있습니다. startRow 인수를 사용하여 데이터가 실제로 시작되는 행을 지정할 수 있습니다.\n\n\n\n\n\n\n\n\nTip 6.4: Excel에서 병합된 셀 처리\n\n\n\n병합된 셀은 데이터가 더 이상 멋진 직사각형 구조에 맞지 않기 때문에 처리하기 어렵습니다. 병합된 셀이 어디에 있고 무엇을 포함하느냐에 따라 처리 난이도가 달라집니다. 파일 상단(예: 제목 정보 포함)에 있는 경우 startRow를 사용하는 것으로 충분할 수 있습니다. 그렇지 않으면 read.xlsx()에서 fillMergedCells = TRUE를 설정하면 병합된 셀의 값이 병합 내의 모든 셀에 부여됨을 의미합니다 (Schauberger and Walker 2023).\n\n\n작업하고 싶을 때마다 URL에서 데이터를 다시 다운로드하고 싶지는 않으므로(특히 데이터가 업데이트될 수 있는 경우) 로컬에 사본을 저장해 봅시다. 단순히 Excel 파일을 저장할 수도 있습니다(또는 read_csv() 대신 download.file()을 사용할 수도 있음). 그러나 CSV 파일은 크기가 더 작고 간단한 텍스트 편집기에서 열 수 있으므로 CSV 파일로 저장하는 것이 좋습니다. 다행히도 wind_turbines 데이터는 형식이 잘 갖추어져 있습니다. 병합된 셀, 여러 시트 또는 처리해야 할 빈 행이 없습니다. 즉, 적절한 파일 이름으로(그리고 행 이름의 추가 열을 추가하지 않도록 row.names = FALSE를 설정하여) write.csv()를 사용하여 CSV 파일로 저장할 수 있습니다. \n\nwrite.csv(\n  x = wind_turbines,\n  file = \"data/wind_turbines.csv\",\n  row.names = FALSE\n)\n\n그런 다음 readr의 read.csv() 또는 read_csv()를 사용하여 CSV 파일을 다시 읽을 수 있습니다: \n\nwind_turbines &lt;- read_csv(\"data/wind_turbines.csv\")\n\nwind_turbines 데이터에는 6698개의 행과 15개의 열이 있습니다. 데이터의 처음 몇 행은 다음과 같습니다:\n\nhead(wind_turbines)\n\n# A tibble: 6 × 15\n  OBJECTID `Province/Territory` Project.name          \n     &lt;dbl&gt; &lt;chr&gt;                &lt;chr&gt;                 \n1        1 Alberta              Optimist Wind Energy  \n2        2 Alberta              Castle River Wind Farm\n3        3 Alberta              Waterton Wind Turbines\n4        4 Alberta              Waterton Wind Turbines\n5        5 Alberta              Waterton Wind Turbines\n6        6 Alberta              Waterton Wind Turbines\n# ℹ 12 more variables: `Total.project.capacity.(MW)` &lt;dbl&gt;,\n#   Turbine.identifier &lt;chr&gt;,\n#   Turbine.number.in.project &lt;chr&gt;,\n#   `Turbine.rated.capacity.(kW)` &lt;chr&gt;,\n#   `Rotor.diameter.(m)` &lt;dbl&gt;, `Hub.height.(m)` &lt;dbl&gt;,\n#   Manufacturer &lt;chr&gt;, Model &lt;chr&gt;,\n#   Commissioning.date &lt;chr&gt;, Latitude &lt;dbl&gt;, …\n\n\nOBJECTID 열은 고유 행 식별자입니다. 데이터에는 각 풍력 터빈에 대한 행이 있으며, 일부 데이터는 터빈 수준에서, 일부 데이터는 프로젝트 수준에서 제공됩니다. 프로젝트 수준 데이터와 관련된 변수의 경우, 이는 동일한 프로젝트의 터빈에 대해 열 내에서 값이 여러 번 반복될 수 있음을 의미합니다.\nProvince/Territory 열은 터빈이 있는 지리적 지역을 지정하고 Latitude 및 Longitude 열은 정확한 좌표를 제공합니다. Project.name은 각 풍력 터빈이 연결된 프로젝트의 이름을 제공하고 Total.project.capacity.(MW)는 프로젝트의 총 전력 용량을 메가와트 단위로 제공합니다. Turbine.identifier 열은 각 터빈의 고유 ID를 제공합니다. 이는 프로젝트 이름의 약어와 프로젝트 내 터빈 번호를 식별하는 번호의 조합입니다(Turbine.number.in.project에도 프로젝트 당 총 터빈 수의 분수로 나열됨). 각 개별 터빈의 용량(킬로와트)은 Turbine.rated.capacity.(kW)에 제공됩니다(프로젝트의 모든 터빈에 대한 개별 용량을 합산하면 Total.project.capacity.(MW)의 값에 100을 곱한 값이 됨).\n각 터빈의 로터 직경과 허브 높이는 각각 Rotor.diameter.(m) 및 Hub.height.(m)로 제공됩니다. 제조업체와 모델은 Manufacturer 및 Model 열에도 제공됩니다. 시운전 날짜는 Commissioning.date 열에 제공됩니다. 일부는 프로젝트 수준에서 제공되는 반면 다른 일부는 프로젝트 내 터빈마다 다른 것으로 보입니다. Notes 열에는 일부 터빈에 대한 추가 정보가 포함된 자유 텍스트 데이터가 포함되어 있습니다. 이 값의 대부분은 비어 있지만 열에는 터빈 용량이 변경되었는지 여부 또는 값 계산 방법에 대한 가정에 대한 정보를 제공할 수 있습니다.",
    "crumbs": [
      "아이콘, 글꼴 및 텍스트 활용",
      "<span class='chapter-number'>6</span>  <span class='chapter-title'>캐나다 풍력 터빈: 와플 차트와 픽토그램</span>"
    ]
  },
  {
    "objectID": "wind-turbines.html#탐색-작업",
    "href": "wind-turbines.html#탐색-작업",
    "title": "6  캐나다 풍력 터빈: 와플 차트와 픽토그램",
    "section": "\n6.2 탐색 작업",
    "text": "6.2 탐색 작업\n여기서 살펴볼 만한 꽤 많은 변수가 있습니다. 특히 서로 관련될 수 있는 개별 터빈에 대한 여러 변수가 있기 때문입니다. 예를 들어 로터 직경이 더 큰 터빈의 용량이 더 높습니까? 로터 직경과 허브 높이 사이의 관계는 무엇입니까? 어떤 제조업체가 가장 일반적입니까? 어느 지역에 터빈이 가장 많습니까? 지리적 좌표가 있으므로 캐나다 전역의 터빈 공간 분포를 살펴볼 수도 있습니다. 공간 데이터 플롯은 Chapter 11, Chapter 12, 및 Chapter 13 에서 조금 더 나중에 살펴볼 것입니다.\n\n6.2.1 데이터 탐색\n로터 직경이 더 큰 풍력 터빈은 용량도 더 높다는 가설을 탐색하는 것으로 시작하겠습니다. 초기 단계로 이 두 변수의 산점도를 만들 수 있습니다. Turbine.rated.capacity.(kW) 열은 숫자 값을 포함하고 있음에도 불구하고 현재 문자 열이므로 플롯하기 전에 as.numeric()으로 래핑합니다:\n\nplot(\n  x = wind_turbines$`Rotor.diameter.(m)`,\n  y = as.numeric(\n    wind_turbines$`Turbine.rated.capacity.(kW)`\n  ),\n  xlab = \"Rotor diameter (m)\",\n  ylab = \"Turbine rated capacity (kW)\"\n)\n\n\n\n\n\n\nFigure 6.1: 로터 직경과 터빈 용량 간의 관계를 보여주는 산점도.\n\n\n\n\n이 산점도는 몇 가지 문제를 강조합니다:\n\n\nNA 값에 대한 경고 메시지가 표시됩니다.\n\nWarning message: In xy.coords(x, y, xlabel, ylabel, log) : NAs introduced by coercion\n\n이것은 Turbine.rated.capacity.(kW) 열의 as.numeric 변환에서 발생합니다. 이 열을 더 자세히 살펴보면 \"1903/2126/2221\"과 같은 몇 가지 비정상적인 값이 있음을 알 수 있습니다. 설명에 대해 Notes 열을 보면 \"Some turbines derated such that the farm has an maximum operating capacity of 180 MW\"(팜의 최대 작동 용량이 180MW가 되도록 일부 터빈 등급이 낮아짐) 때문에 이러한 값이 존재함을 알 수 있습니다. 불행히도 우리는 이 등급 낮춤이 어떤 개별 터빈에 적용되는지 모르기 때문에 산점도를 만들기 어렵습니다.\n\n이 산점도의 다른 문제는 많은 관측치가 동일하지만 플롯에 명확하게 표시되지 않는다는 것입니다. 나중에 어떤 통계 모델을 적합하여 이 관계를 더 자세히 탐색하려는 경우 일반적인 가정은 각 관측치가 독립적이라는 것입니다. 여기서는 그렇지 않습니다. 많은 개별 터빈이 동일한 프로젝트에 속하므로 로터 직경과 용량이 동일한 동일한 모델입니다. 대신 고유 값을 그룹화하고 특정 모델의 터빈 수를 가중치로 사용할 수 있습니다. 이것은 각 직경-용량 조합의 터빈 수를 보여주는 거품 크기가 있는 버블 차트로 더 잘 시각화될 수 있습니다.\n\n\n\n\n\n\n\nTip 6.5: 데이터 검사\n\n\n\nView(wind_turbines)를 사용하여 사람이 읽기에 더 편한 형식으로 데이터를 검사할 수 있음을 기억하십시오. 데이터를 보고, 열의 요약을 얻고, 기본 R로 탐색적 그래픽을 만드는 것 외에도 탐색적 데이터 분석을 돕는 많은 패키지를 사용할 수 있습니다.\n예를 들어 GGally 패키지 (Schloerke et al. 2024)를 사용하면 데이터의 일부 또는 모든 열을 탐색하기 위해 쌍별 비교 플롯과 상관 행렬을 쉽게 만들 수 있습니다.\n\nggpairs(\n  data = wind_turbines,\n  columns = c(\n    \"Province/Territory\",\n    \"Hub.height.(m)\",\n    \"Rotor.diameter.(m)\"\n  )\n)\n\n\n\n\n\n\nFigure 6.2: 상관 관계, 밀도 플롯, 막대 차트, 산점도 및 상자 그림을 사용하여 wind_turbines 데이터 관계의 세 열 간의 비교를 보여주는 3x3 그리드.\n\n\n\n\n\n\n대신 정렬된 막대 차트를 만들어 각 지역의 터빈 수를 살펴봅시다. table() 함수를 사용하여 지역별 수를 얻고 sort()를 사용하여 가장 작은 것부터 가장 큰 것까지 순서를 정합니다. 그런 다음 barplot() 함수를 사용하여 차트를 만들고 horiz = TRUE를 설정하여 막대를 가로로 만들어 읽기 쉽게 만듭니다.\n\nbarplot(\n  sort(table(wind_turbines$`Province/Territory`)),\n  las = 1,\n  horiz = TRUE\n)\n\n\n\n\n\n\nFigure 6.3: 각 주 또는 준주에서 커미셔닝된 풍력 터빈 수를 보여주는 정렬된 막대 차트.\n\n\n\n\n대부분의 터빈은 온타리오에 있지만 항상 그랬습니까? 각 터빈의 시운전 날짜에 대한 정보도 있습니다. 다른 기간에 대해 이 막대 차트를 다시 작성하여 터빈의 지리적 확산이 시간이 지남에 따라 어떻게 변했는지 확인할 수 있습니다. wind_turbines$Commissioning.date를 table() 함수에 추가하여 각 연도에 대한 누적 막대 차트를 만들 수 있습니다:\n\nbarplot(\n  table(\n    wind_turbines$`Province/Territory`,\n    wind_turbines$Commissioning.date\n  ),\n  las = 1,\n  horiz = TRUE\n)\n\n\n\n\n\n\nFigure 6.4: 각 주 또는 준주에 얼마나 많은지 보여주는 누적 막대가 있는 기간 내에 커미셔닝된 풍력 터빈 수를 보여주는 정렬된 막대 차트.\n\n\n\n\nFigure 6.4 의 y축에서 볼 수 있듯이 Commissioning.date가 항상 연도로 제공되는 것은 아닙니다. 대신 때로는 연도 범위로 제공됩니다. Commissioning.date 데이터를 처리하기 전에 이 플롯의 미적으로 더 만족스러운 초안을 작성해 봅시다.\n\n6.2.2 탐색적 스케치\n관측치가 매우 적은 연도와 시운전 날짜의 정확한 연도를 알 수 없는 터빈이 있습니다. 연도별 터빈 수를 그리는 대신 여러 해의 기간 동안 터빈 수를 플롯해 봅시다. 이러한 기간의 선택은 디자이너의 선택에 달려 있습니다. 이 시각화에서는 2000 - 2004, 2005 - 2009, 2010 - 2014, 2015 - 2019의 4개 5년 기간을 고려하는 것으로 시작하겠습니다.\n한 지역을 다른 지역과 비교하기 어렵게 만들 수 있는 각 연도에 대한 누적 막대 차트를 만드는 대신 와플 차트(waffle chart)라는 대안을 살펴봅시다. 와플 차트는 사각형 파이 차트(square pie charts)라고도 합니다. 가장 일반적으로 10x10 그리드로 시각화되며 각 그리드 사각형은 1%를 나타냅니다. 그리드 사각형의 색상은 다른 범주를 나타냅니다. 파이 차트(및 어느 정도 막대 차트)에 비해 와플 차트의 장점은 사용자가 백분율을 쉽게 읽을 수 있다는 것입니다. 사각형을 세기만 하면 됩니다! 단점은 범주의 값이 1% 미만인 경우 이를 시각화할 쉬운 방법이 없다는 것입니다(부분적으로 채색된 사각형이 옵션이긴 하지만). \n와플 차트는 백분율 대신 카운트를 표시하는 데에도 사용할 수 있습니다. 예를 들어, 각 사각형은 풍력 터빈을 나타내고 사각형의 색상은 해당 터빈이 있는 지역을 나타낼 수 있습니다. 예를 들어 카운트의 와플 차트는 Figure 6.5 와 같을 수 있습니다.\n\n\n\n\n\nFigure 6.5: 시간에 따른 터빈을 보여주는 패싯 와플 차트의 초기 스케치.\n\n\n이 기본 버전의 차트에 두 가지 약간의 변형을 줄 수 있습니다:\n\n플롯할 관측치가 6698개 있는데, 이는 개별 그리드 사각형이 매우 많은 것입니다. 대신 각 사각형은 단 하나가 아니라 일정 수의 터빈을 나타낼 수 있습니다.\n사각형을 플롯하는 대신 아이콘을 사용할 수 있습니다. 예를 들어 풍력 터빈 아이콘을 플롯할 수 있습니다. 이러한 와플 차트의 변형을 픽토그램(pictogram)이라고 합니다. 아이콘은 Province/Territory 열의 지역에 따라 색상을 지정할 수 있습니다. 많은 공간을 차지하는 기존 범례를 사용하는 대신 부제목 내에 색상 텍스트를 대안으로 사용할 수 있습니다.",
    "crumbs": [
      "아이콘, 글꼴 및 텍스트 활용",
      "<span class='chapter-number'>6</span>  <span class='chapter-title'>캐나다 풍력 터빈: 와플 차트와 픽토그램</span>"
    ]
  },
  {
    "objectID": "wind-turbines.html#플롯-준비",
    "href": "wind-turbines.html#플롯-준비",
    "title": "6  캐나다 풍력 터빈: 와플 차트와 픽토그램",
    "section": "\n6.3 플롯 준비",
    "text": "6.3 플롯 준비\nggplot2를 사용하여 Figure 6.5 의 초안을 작성하려면 준비해야 할 몇 가지 사항이 있습니다:\n\n\nCommissioning.date 열은 다년 레이블을 처리하고 5년 범주로 그룹화하도록 처리해야 합니다.\n각 아이콘이 몇 개의 풍력 터빈을 나타낼지 결정해야 합니다.\n\nProvince/Territory 열의 일부 범주는 숫자가 매우 적고 각 아이콘이 나타내는 터빈 수보다 적을 수 있으므로 함께 그룹화해야 할 수도 있습니다.\n\n\n6.3.1 데이터 랭글링\nCommissioning.date 열을 처리하는 것부터 시작하겠습니다. 여기에는 세 가지 유형의 값이 있습니다:\n\n단일 연도(예: \"2019\"): 이것은 이상적인 시나리오이며 아무것도 할 필요가 없습니다.\n\n/로 구분된 두 연도(예: \"2001/2003\"): 이를 처리하는 몇 가지 옵션이 있습니다. 첫해, 마지막 해 또는 (연속되지 않은 연도인 경우) 연도 범위의 중간 지점을 취할 수 있습니다. 여기서는 마지막 해를 취할 것입니다. 이는 Commissioning.date가 있는 모든 풍력 터빈이 해당 날짜까지 확실히 시운전되었음을 의미하기 때문입니다.\n\n/로 구분된 3년(예: \"2005/2006/2012\"): 이것은 더 복잡하지만 위와 같은 이유로 마지막 해를 취할 것입니다.\n\n본질적으로 이것은 다음을 의미합니다:\n\n\nCommissioning.date에 \"/\"가 없으면 아무 것도 하지 않습니다.\n\nCommissioning.date에 하나 이상의 \"/\"가 있으면 마지막 \"/\" 뒤에 오는 것을 추출합니다.\n\nextract_after_last_slash()라는 함수를 만들어 봅시다. 이 함수의 입력은 문자열 벡터입니다. 먼저 stringr 패키지의 str_detect()를 사용하여 입력 요소에 \"/\"가 포함되어 있는지 확인합니다 (Wickham 2023b). 그런 다음 정규 표현식과 함께 stringr의 str_match()를 사용하여 마지막 \"/\" 뒤의 요소를 추출합니다. \"/\"가 없으면 출력은 NA가 됩니다. str_match() 함수는 입력 길이와 동일한 행 수를 가진 행렬을 반환하며, 여기서 첫 번째 열은 전체 일치, 즉 입력입니다. 두 번째 열에는 원하는 출력이 포함되어 있으므로 [, 2]를 사용하여 추출합니다. 마지막으로 dplyr의 if_else()를 사용하여 \"/\"가 있으면 str_match()의 출력을 사용하고, 그렇지 않으면 원래 값을 유지합니다. \n\nextract_after_last_slash &lt;- function(texts) {\n  has_slash &lt;- str_detect(texts, \"/\")\n  extracted &lt;- str_match(texts, \".*/(.*)$\")[, 2]\n  output &lt;- if_else(has_slash, extracted, texts)\n  return(output)\n}\n\n\n\n\n\n\n\nTip 6.6: if_else()와 ifelse() 비교\n\n\n\n이전에 기본 R에서 ifelse() 함수를 사용해 본 적이 있다면 dplyr에 매우 비슷한 이름의 함수가 있는 이유와 차이점이 무엇인지 궁금할 것입니다. 주요 차이점은 if_else()가 당신이 생각하는 대로 수행하고 있는지 확인하는 데 더 엄격하다는 것입니다. 예를 들어 길이가 4인 벡터 x가 있고 0과 같은 x의 값을 다른 것으로 바꾸고 싶다고 가정해 봅시다. 해당 대체가 길이가 3인 경우 실제로 말이 되지 않습니다. 길이 3의 벡터에서 어떤 값을 사용해야 합니까? if_else() 함수는 오류로 이 문제를 강조하지만 ifelse() 함수는 조용히 같은 위치의 값을 사용합니다.\n\nx &lt;- c(1, 0, 2, 3)\nif_else(x == 0, c(4, 5, 3), x)\n\nError in `if_else()`:\n! Can't recycle `true` (size 3) to size 4.\n\nifelse(x == 0, c(4, 5, 3), x)\n\n[1] 1 5 2 3\n\n\ndplyr의 if_else() 함수는 유형도 보존합니다. Date를 if_else()에 넣으면 Date가 나옵니다. ifelse()의 경우에는 항상 그런 것은 아닙니다. \n\n\n이제 새로운 extract_after_last_slash() 함수를 사용해 봅시다! select()를 사용하여 실제로 필요한 열인 Province/Territory 및 Commissioning.date만 유지하는 것으로 시작합니다. 그런 다음 Commissioning.date 열에 extract_after_last_slash()를 적용한 결과인 Year라는 새 열을 만듭니다. 처음에 이 열은 여전히 문자열이므로 as.numeric()을 사용하여 숫자로 변환합니다: \n\nturbines_year &lt;- wind_turbines |&gt;\n  select(\n    `Province/Territory`, Commissioning.date\n  ) |&gt;\n  mutate(\n    Year = extract_after_last_slash(Commissioning.date),\n    Year = as.numeric(Year)\n  )\n\n이제 새로운 Year 열을 범주로 그룹화해 봅시다. 범주는 2000년부터 2019년까지를 포괄하므로 dplyr의 filter()를 사용하여 이 기간에 맞지 않는 행을 필터링하는 것으로 시작합니다. 그런 다음 dplyr의 case_when()을 사용하여 실제로 범주를 구성합니다. 여기서는 seq() 함수를 사용합니다. seq(2000, 2004) 코드는 벡터 2000 2001 2002 2003 2004를 생성합니다. Year가 이러한 값 중 하나와 같으면 \"2000 - 2004\" 범주로 들어갑니다. 등등. R은 범주를 자동으로 정렬하지만, 이 경우 알파벳 순서가 원하는 순서와 일치하기 때문입니다. 그러나 범주의 순서를 명시적으로 지정하는 것이 좋은 관행이므로 Year_Group을 팩터(factor)로 설정하고 올바른 순서를 지정할 수도 있습니다. \n\nturbines_year_group &lt;- turbines_year |&gt;\n  filter(Year &gt;= 2000 & Year &lt;= 2019) |&gt;\n  mutate(\n    Year_Group = case_when(\n      Year %in% seq(2000, 2004) ~ \"2000 - 2004\",\n      Year %in% seq(2005, 2009) ~ \"2005 - 2009\",\n      Year %in% seq(2010, 2014) ~ \"2010 - 2014\",\n      Year %in% seq(2015, 2019) ~ \"2015 - 2019\"\n    )\n  ) |&gt;\n  mutate(\n    Year_Group = factor(Year_Group, levels = c(\n      \"2000 - 2004\", \"2005 - 2009\",\n      \"2010 - 2014\", \"2015 - 2019\"\n    ))\n  )\n\nProvince/Territory 범주를 살펴봅시다. dplyr의 count() 및 arrange()를 사용하면 범주 간에 큰 불균형이 있음을 알 수 있습니다: \n\nturbines_year_group |&gt;\n  count(`Province/Territory`) |&gt;\n  arrange(-n)\n\n# A tibble: 12 × 2\n   `Province/Territory`          n\n   &lt;chr&gt;                     &lt;int&gt;\n 1 Ontario                    2662\n 2 Quebec                     1859\n 3 Alberta                     895\n 4 Nova Scotia                 310\n 5 British Columbia            292\n 6 Saskatchewan                153\n 7 Manitoba                    133\n 8 New Brunswick               119\n 9 Prince Edward Island        104\n10 Newfoundland and Labrador    27\n11 Northwest Territories         4\n12 Yukon                         1\n\n\n먼저 Province/Territory 열의 이름을 Region으로 바꿉니다. 짧은 이름이라 작업하기가 조금 더 쉽습니다. 범주의 수와 관련하여 제기된 문제 외에도 12개 범주는 시각화하기에 상당히 많은 수입니다. 가장 작은 6개 범주를 함께 그룹화하도록 선택할 수 있습니다. 6개 선택은 다소 임의적이지만 숫자가 적은 많은 범주와 숫자가 매우 많은 적은 범주 간의 균형을 원합니다. 다시 mutate() 및 case_when()을 사용하여 지역이 지정된 6개 값 중 하나인 경우 Region의 값을 \"other\"로 변경합니다. \n그런 다음 count()를 사용하여 각 Year_Group 및 Region 조합에서 얼마나 많은 터빈이 시운전되었는지 계산합니다. 또한 각 아이콘이 나타낼 터빈 수를 결정해야 합니다. 원하는 해상도와 최종 플롯의 크기에 따라 이 값을 결정하는 데 약간의 시행착오가 필요합니다. 여기서는 20을 사용했습니다. 즉, 터빈 수를 20으로 나누어 필요한 아이콘 수를 얻고, 전체 아이콘만 가질 수 있으므로 값을 반올림합니다. \n반올림된 카운트가 0인 행은 플롯되지 않으므로 필터링합니다. 여담으로, 단순히 버리기 전에 이 값에 대해 생각하는 것이 중요합니다. 예를 들어 특정 기간에 9개의 터빈이 있는 지역은 이 플롯에 표시되지 않습니다. 9/20은 0.5 미만이므로 0으로 반올림되기 때문입니다. 이것은 이러한 유형의 와플 차트 변형의 불행한 한계입니다. \n\nturbines_region &lt;- turbines_year_group |&gt;\n  rename(Region = `Province/Territory`) |&gt;\n  mutate(\n    Region = case_when(\n      Region %in% c(\n        \"Northwest Territories\",\n        \"Newfoundland and Labrador\",\n        \"Prince Edward Island\",\n        \"New Brunswick\",\n        \"Manitoba\",\n        \"Saskatchewan\"\n      ) ~ \"other\",\n      TRUE ~ Region\n    )\n  ) |&gt;\n  count(Region, Year_Group) |&gt;\n  mutate(n = round(n / 20)) |&gt;\n  filter(n != 0)\n\nRegion 변수는 기본적으로 알파벳순으로 플롯되지만 이것이 가장 유용한 순서인 경우는 드뭅니다. 대신 크기별로 정렬해 봅시다. 단, \"other\" 범주는 마지막에 둡니다.\n먼저 summarise() 함수를 사용하여 다른 기간의 터빈 수를 합산하여 Region당 합계를 얻습니다. 그런 다음 내림차순으로 arrange()합니다 (n 앞의 -에 유의). 그런 다음 filter()를 사용하여 \"other\" 범주를 제외하고 pull()을 사용하여 Region 열을 추출한 후 끝에 붙입니다. \n\nregion_levels &lt;- c(turbines_region |&gt;\n  summarise(n = sum(n), .by = Region) |&gt;\n  arrange(-n) |&gt;\n  filter(Region != \"other\") |&gt;\n  pull(Region), \"other\")\n\n이제 mutate()를 사용하여 이러한 새 팩터 수준을 Region 열에 적용해 봅시다. 플롯을 만드는 데 사용할 waffle 패키지 (Rudis and Gandy 2023)의 특이한 점(팩터 수준에 따르지 않고 데이터 집합에 나타나는 순서대로 데이터를 플롯함)으로 인해 dplyr의 arrange()를 사용하여 데이터를 정렬합니다. \n\nplot_data &lt;- turbines_region |&gt;\n  mutate(\n    Region = factor(Region, levels = region_levels)\n  ) |&gt;\n  arrange(Region)\n\n이제 데이터를 플롯할 준비가 되었습니다!\n\n6.3.2 Font Awesome 글꼴 설치\n플롯팅으로 넘어가기 전에 한 가지 더 해야 할 일이 있습니다. Figure 6.5 에서 우리는 단순히 색칠된 그리드 사각형 대신 와플 차트에 아이콘을 사용하기로 결정했습니다. 따라서 R에서 아이콘을 사용할 방법을 찾아야 합니다.\nChapter 2 에서 sysfonts 및 showtext 패키지를 사용하여 글꼴을 R에 로드하는 방법을 보았습니다. 다행히도 여기서 유사한 프로세스를 사용하여 아이콘 글꼴을 로드할 수 있습니다. Font Awesome은 확장 가능한 벡터 아이콘과 소셜 로고를 제공하는 인기 있는 아이콘 도구 키트입니다(자세한 내용은 Chapter 7 참조) (Font Awesome 2024). fontawesome.com/download에서 무료로 사용 가능한 아이콘이 포함된 글꼴 파일을 다운로드할 수 있으며 Free for Desktop 옵션을 선택하면 됩니다. 그러면 여러 글꼴 파일이 포함된 zip 파일이 다운로드됩니다. 이 차트의 경우 해당 파일 중 Font-Awesome-6-Free-Solid-900.otf 하나만 필요합니다. 이 .otf 파일을 fonts라는 프로젝트 폴더와 같이 다시 찾을 수 있는 곳에 저장합니다. \n그런 다음 sysfonts (Qiu 2022)의 font_add()를 사용하여 글꼴을 R에 로드합니다. family 인수는 R에서 글꼴을 참조할 이름입니다. regular 인수는 .otf 파일의 파일 경로입니다. 그런 다음 Chapter 2 에서와 완전히 동일한 방식으로 showtext_auto() 및 showtext_opts()를 사용하여 showtext를 사용하여 텍스트를 렌더링합니다. \n\nfont_add(\n  family = \"Font Awesome 6\",\n  regular = \"fonts/Font-Awesome-6-Free-Solid-900.otf\"\n)\nfont_add_google(name = \"Noto Sans KR\", family = \"noto_sans_kr\")\nshowtext_auto()\nshowtext_opts(dpi = 300)\nkorean_font &lt;- \"noto_sans_kr\"\n\n\n\n\n\n\n\nTip 6.7: waffle로 Font Awesome 아이콘 설치\n\n\n\nwaffle 패키지에는 Font Awesome 5가 번들로 제공되며, 여기서 설명하는 방법 대신 install_fa_fonts() 함수를 사용하여 글꼴을 설치할 수 있습니다. font_add() 접근 방식을 사용하여 다운로드하고 설치하면 최신 Font Awesome 6 글꼴을 사용하므로 더 다양한 아이콘을 사용할 수 있으며 글꼴 시스템을 전체적으로 설치할 필요 없이 R에만 로드하면 됩니다. \n\n\n이제 플롯할 준비가 되었습니다!\n\n6.3.3 waffle을 사용한 첫 번째 플롯\nwaffle 패키지 (Rudis and Gandy 2023)를 사용하여 플롯을 만들 것입니다. 패키지에는 data.frame에서 와플 차트를 직접 만들 수 있는 waffle() 함수가 포함되어 있지만, ggplot2로 일반적으로 하는 방식으로 차트를 만들 수 있는 geom 함수도 포함되어 있습니다. geom_waffle() 함수는 그리드 사각형이 있는 기존 와플 차트를 만드는 데 사용할 수 있으며 geom_pictogram() 함수는 아이콘이 있는 와플 차트(예: 픽토그램)에 사용됩니다. 우리는 geom_pictogram()을 사용할 것입니다. 즉, 평소처럼 데이터를 ggplot()에 전달하여 플롯을 시작합니다. \n그런 다음 geom_pictogram() 함수에서 미적 매핑을 편집하여 label과 color를 지정합니다. 둘 다 Region 열에 매핑됩니다. 아이콘이 지역에 따라 다르지 않기를 원하기 때문에 약간 이상하게 보일 수 있습니다. 대신 모든 범주에 대해 동일한 아이콘을 사용하고 싶습니다. 그러나 geom_pictogram()은 label이 범주에 따라 다를 것으로 예상하므로 지역에 매핑하고 나중에 scale_label_pictogram()을 사용하여 모두 동일한 아이콘으로 만들 것입니다. values 인수도 필수 미적 요소입니다. 데이터의 n 열을 사용하여 각 범주에 대해 플롯할 아이콘 수를 지정합니다. x 및 y 좌표는 geom_pictogram() 함수를 사용할 때 자동으로 계산되므로 aes() 함수에서 매핑할 필요가 없습니다. \n또한 geom_pictogram() 함수의 몇 가지 다른 매개변수도 편집합니다. 기본적으로 픽토그램은 수평으로 쌓입니다. 이는 종종 읽기 쉽기 때문입니다(수평 막대 차트와 유사). 그러나 날짜 변수를 x축에 두는 것도 매우 일반적입니다. flip = TRUE를 설정하면 픽토그램 범주가 위쪽으로 쌓이고 날짜 범주가 x축에 위치할 수 있습니다. n_rows = 10을 설정하면 픽토그램의 각 행에 10개의 아이콘이 포함됩니다(여기서 행과 열이 뒤집혔음을 기억하십시오). 예를 들어 geom_text()에서 글꼴 크기를 편집하는 것과 같은 방식으로 아이콘의 size를 편집할 수 있습니다. 아이콘이 겹치지 않고 볼 수 있을 만큼 충분히 큰지 확인하려면 약간의 시행착오가 필요할 수 있습니다. 또한 family = \"Font Awesome 6\"(font_add()에서 사용된 family 인수와 동일한 이름)을 설정하여 아이콘이 Font Awesome 6에서 왔음을 명시해야 합니다. \n마지막으로 facet_wrap()을 추가하여 각 날짜 범위에 대한 픽토그램을 만들고 단일 행에 배치하고 패싯 레이블을 차트 하단으로 이동합니다. \n\nbasic_plot &lt;- ggplot(data = plot_data) +\n  geom_pictogram(\n    mapping = aes(\n      label = Region,\n      color = Region,\n      values = n\n    ),\n    flip = TRUE,\n    n_rows = 10,\n    size = 2.5,\n    family = \"Font Awesome 6\"\n  ) +\n  facet_wrap(~Year_Group,\n    nrow = 1,\n    strip.position = \"bottom\"\n  )\nbasic_plot\n\n\n\n\n\n\nFigure 6.6: 각 지역의 기간별 터빈 수를 보여주는 픽토그램으로, 아이콘 대신 지역 이름이 표시됩니다.\n\n\n\n\n\n\n\n\n\n\nTip 6.8: 비례 와플 차트\n\n\n\n기본적으로 geom_pictogram() 및 geom_waffle()은 모두 values에 매핑된 열이 카운트로 플롯되어야 한다고 가정합니다. 값을 백분율로 플롯하려면 make_proportional = TRUE를 설정하십시오.\n\n\nFigure 6.6 에서 즉시 알 수 있는 것은 아이콘이 없다는 것입니다. 대신 플롯에 Region 이름이 인쇄되었습니다(family = \"Font Awesome 6\"을 설정했음에도 불구하고). 이는 사용하려는 아이콘을 정의하지 않았기 때문입니다. 적절한 아이콘과 이름을 찾으려면 fontawesome.com/search에서 Font Awesome 웹사이트를 탐색하고 관련 아이콘을 검색할 수 있습니다. 예를 들어 풍력 터빈 아이콘을 검색할 수 있습니다. Font Awesome 풍력 터빈 아이콘이 있기는 하지만 불행히도 Pro 버전에서만 사용할 수 있습니다. 이 테마에 맞는 다른 무료 아이콘이 있습니다: wind, bolt(에너지를 나타내기 위해) 또는 fan. 우리는 fan을 사용할 것입니다 (Font Awesome 2024). \nwaffle의 scale_label_pictogram()을 플롯에 추가하여 아이콘을 지정할 수 있습니다. 일반적으로 아이콘 이름 벡터를 values 인수에 전달합니다(각 범주에 대해 하나의 아이콘). 그러나 모든 범주에 대해 동일한 아이콘을 사용하려고 하므로 R이 벡터의 요소를 재사용한다는 사실을 이용하여 단일 이름을 전달할 수 있습니다. 아이콘이 모두 동일하므로 guide = \"none\"을 설정하여 아이콘 범례를 제거합니다. 또는 이전 장에서 범례를 제거하기 위해 했던 것처럼 나중에 theme(legend.position = \"none\")을 설정할 수 있습니다. \n\nicons_plot &lt;- basic_plot +\n  scale_label_pictogram(\n    values = \"fan\",\n    guide = \"none\"\n  )\nicons_plot\n\n\n\n\n\n\nFigure 6.7: 각 지역의 기간별 터빈 수를 보여주는 픽토그램으로, 팬 아이콘은 20개의 터빈을 나타냅니다.\n\n\n\n\n또한 y축의 값이 올바르지 않다는 것을 눈치챘을 것입니다. 2010 - 2014 기간에는 확실히 15개 이상의 터빈이 있습니다! 다음 섹션에서 축을 다룰 것입니다.",
    "crumbs": [
      "아이콘, 글꼴 및 텍스트 활용",
      "<span class='chapter-number'>6</span>  <span class='chapter-title'>캐나다 풍력 터빈: 와플 차트와 픽토그램</span>"
    ]
  },
  {
    "objectID": "wind-turbines.html#고급-스타일링",
    "href": "wind-turbines.html#고급-스타일링",
    "title": "6  캐나다 풍력 터빈: 와플 차트와 픽토그램",
    "section": "\n6.4 고급 스타일링",
    "text": "6.4 고급 스타일링\n이제 플롯에 사용된 색상을 편집하고 제목과 부제목(범례를 대체할 색상 텍스트 포함)을 추가하고 축 레이블을 편집해야 합니다.\n\n6.4.1 rcartocolor를 사용한 색상\n배경 및 텍스트 색상에 대한 변수를 정의하는 것으로 시작합니다: \n\nbg_col &lt;- \"#FAFAFA\"\ntext_col &lt;- \"black\"\n\n또한 아이콘 색상에 사용할 색상 팔레트를 정의해 봅시다. 우리는 6가지 다른 색상을 찾고 있습니다 - 영역마다 하나씩. rcartocolor (Nowosad 2018) 패키지는 CARTO (CARTO 2016)가 디자인한 지도를 위한 CARTOColors 색상 팔레트에 대한 액세스를 제공합니다. 이 팔레트는 주로 지도를 색칠하기 위해 설계되었지만 색상 팔레트는 다른 유형의 그래픽에도 매우 효과적입니다.\nrcartocolor 패키지에서 범주형 팔레트를 질적(qualitative) 팔레트라고 합니다. display_carto_all()을 사용하여 충분한 수의 색상이 있는 사용 가능한 모든 질적 팔레트를 볼 수 있습니다: \n\ndisplay_carto_all(\n  n = 6, type = \"qualitative\"\n)\n\n\n\n\n\n\nFigure 6.8: rcartocolor 패키지에 있는 최소 6가지 색상의 모든 질적 색상 팔레트.\n\n\n\n\nrcartocolor 패키지에는 플롯에 직접 사용할 수 있는 scale_fill_carto_d() 함수가 있지만, 색상을 더 쉽게 재사용할 수 있도록 색상 팔레트를 16진수 코드 벡터로 저장할 것입니다. Figure 6.8 에서 볼 수 있듯이 rcartocolor 패키지의 질적 팔레트에서 마지막 색상은 종종 회색입니다. 누락된 데이터를 나타내는 데는 좋지만 범주별로 다른 색상을 원할 때는 잘 작동하지 않습니다. 요령은 필요한 것보다 한 가지 더 많은 색상을 요청한 다음 색상 팔레트의 마지막 요소를 버리는 것입니다. 플롯에 6개의 범주가 있으므로 carto_pal() 함수를 사용하여 7가지 색상을 요청한 다음 처음 6개만 추출합니다. 여기서는 \"Vivid\" 팔레트를 사용합니다. \n또한 names() 함수를 사용하고 region_levels를 이름으로 사용하여 col_palette 벡터를 명명된 벡터로 만듭니다. 색상을 플롯에 추가하는 데 꼭 필요한 것은 아니지만 색상을 추출하고 각 색상이 올바른 범주 레이블에 매핑되도록 하는 것이 더 쉬워집니다.\n\ncol_palette &lt;- carto_pal(\n  n = length(unique(plot_data$Region)) + 1,\n  name = \"Vivid\"\n)[1:length(unique(plot_data$Region))]\nnames(col_palette) &lt;- region_levels\n\n그런 다음 이 col_palette 벡터를 scale_color_manual()에 전달하여 플롯에 색상을 적용할 수 있습니다. 기존 범례 대신 색상 텍스트를 사용할 것이므로 guide = \"none\"을 설정하여 범례를 다시 제거합니다. \n\ncol_plot &lt;- icons_plot +\n  scale_color_manual(\n    values = col_palette,\n    guide = \"none\"\n  )\n\n\n6.4.2 marquee로 스타일이 지정된 텍스트 추가\nChapter 2 및 Chapter 3 에서 theme() 요소 내부의 face = \"bold\" 인수를 사용하여 제목 또는 부제목 텍스트를 굵게 서식을 지정하는 방법을 이미 보았습니다. 하지만 텍스트의 일부만 굵게 만들고 싶다면 어떻게 해야 할까요? marquee 패키지 (Pedersen and Mitáš 2024)를 사용하여 문자열 내의 텍스트에 스타일을 추가할 수 있습니다. marquee 패키지를 사용하면 ggplot2로 만든 플롯이나 grid로 만든 기타 그래픽을 포함하여 R에서 그래픽을 만들 때 텍스트에 Markdown 구문을 사용할 수 있습니다. \nMarkdown에서는 텍스트를 굵게 만들려면 두 쌍의 별표로 묶습니다(예: **굵은 텍스트**). 예를 들어 전체 제목을 굵은 글꼴로 표시하려면 제목을 ** 안에 쓸 수 있습니다. 캡션에서는 Data와 Graphic이라는 단어를 굵게 표시하여 두 가지 다른 정보 필드가 있음을 강조할 수 있습니다:\n\ntitle &lt;- \"**Ontario is the province with the most wind turbines**\"\ncap &lt;- \"**Data**: Natural Resources Canada | **Graphic**: N. Rennie\"\n\n플롯 캡션에 대한 이러한 유형의 서식은 여러 플롯에서 재사용하고 싶은 것일 수 있습니다. 그리고 코드를 재사용하고 싶을 때는 함수로 만드는 것이 거의 항상 유용합니다. 세 가지 인수가 있는 source_caption()이라는 함수를 정의해 보겠습니다:\n\n\nsource: 데이터 소스에 대한 문자열\n\ngraphic: 시각화의 속성에 대한 문자열\n\nsep: 두 개의 텍스트를 구분해야 하는 문자열로, 기본값은 \" | \"입니다.\n\n그런 다음 glue의 glue()를 사용하여 이 세 가지 인수를 결합하고 **를 사용하여 굵은 서식을 포함합니다. 여기서는 네임스페이싱(함수 이름 앞에 패키지 이름과 :: 접두사 붙이기)을 사용하여 나중 장에서 이 함수를 더 쉽게 재사용할 수 있도록 합니다.\n\nsource_caption &lt;- function(source, graphic, sep = \" | \") {\n  caption &lt;- glue::glue(\n    \"**Data**: {source}{sep}**Graphic**: {graphic}\"\n  )\n  return(caption)\n}\n\n새로운 source_caption() 함수를 사용하여 캡션을 구성할 수 있습니다:\n\ncap &lt;- source_caption(\n  source = \"Natural Resources Canada\",\n  graphic = \"N. Rennie\"\n)\ncap\n\n**Data**: Natural Resources Canada | **Graphic**: N. Rennie\n\n\n이전에 수동으로 만든 캡션과 동일하다는 것을 알 수 있습니다. 이후 장에서도 source_caption() 함수를 재사용할 것입니다.\n부제목으로 넘어가 보겠습니다. 이 시각화에서 부제목은 다른 범주를 나타내기 위해 색상 텍스트를 사용할 것이므로 범례 역할도 겸하게 됩니다. marquee에서 텍스트는 중괄호로 텍스트를 묶어 색상을 지정할 수 있습니다. 여기서 첫 번째 단어 앞에는 마침표가 붙고 텍스트의 색상을 식별합니다. 즉, {.color text to color}입니다. 예를 들어 {.red This is red text.}입니다.\n우리는 프로그래밍 방식으로 색상과 텍스트를 추가하고 싶습니다. 대괄호를 사용하여 col_palette 벡터에 저장된 값과 이름을 하위 집합화합니다. 여기서 col_palette[[1]]은 첫 번째 범주의 색상에 대한 16진수 코드를 추출하고 names(col_palette)[[1]]은 첫 번째 범주의 이름을 추출합니다.\n일반적으로 문자열을 쓰고 문자열에 변수를 삽입하려면 glue()를 사용하여 결합합니다. 그러나 glue()에서 변수에 일반적으로 사용하는 {}가 marquee로 텍스트 서식을 지정하는 데 사용할 {}와 섞이게 됩니다. 이 문제를 해결할 수 있는 몇 가지 다른 방법이 있습니다. 한 가지 방법은 glue()에서 사용되는 구분 기호를 변경하는 것입니다. 예를 들어 glue() 함수 내에서 .open = \"[\" 및 .close = \"]\"를 설정합니다. 또는 이 문제를 처리하기 위해 만들어진 glue()의 동등한 버전인 marquee 패키지의 marquee_glue()를 사용할 수 있습니다.\n\nst &lt;- marquee_glue(\n  \"The Canadian Wind Turbine Database contains the geographic location and key technology details for wind turbines installed in Canada. It includes information about turbines installed in {.{col_palette[[1]]} {names(col_palette)[[1]]}}, {.{col_palette[[2]]} {names(col_palette)[[2]]}}, {.{col_palette[[3]]} {names(col_palette)[[3]]}}, {.{col_palette[[4]]} {names(col_palette)[[4]]}}, {.{col_palette[[5]]} {names(col_palette)[[5]]}}, and {.{col_palette[[6]]} {names(col_palette)[[6]]}} regions.\"\n)\n\n변수가 평가되었을 때 부제목이 어떻게 보이는지 확인해 봅시다:\n\nst\n\nThe Canadian Wind Turbine Database contains the geographic location and key technology details for wind turbines installed in Canada. It includes information about turbines installed in {.#E58606 Ontario}, {.#5D69B1 Quebec}, {.#52BCA3 Alberta}, {.#99C945 Nova Scotia}, {.#CC61B0 British Columbia}, and {.#24796C other} regions.\n\n\n이것이 바로 region_levels를 구성할 때 \"other\" 범주를 소문자로 하고 마지막 위치에 두고 싶었던 이유입니다. 그래야 문장이 더 잘 읽힙니다.\n이 텍스트 요소들을 labs() 함수에 전달하여 평소와 같이 플롯에 추가합니다: \n\ntext_plot &lt;- col_plot +\n  labs(\n    title = title,\n    subtitle = st,\n    caption = cap\n  )\ntext_plot\n\n\n\n\n\n\nFigure 6.9: 각 지역의 기간별 터빈 수를 보여주는 픽토그램으로, 제목과 캡션 텍스트는 굵은 텍스트를 나타내는 별표를 보여줍니다.\n\n\n\n\n서식이 적용되지 않았고 **가 문자 그대로 렌더링된 것을 알 수 있습니다. theme()에서 인수를 편집할 때 이 문제를 다룰 것입니다. 아직 제목 텍스트 서식을 지정하기 위해 marquee를 사용하지 않았습니다!\n\n6.4.3 스케일 및 테마 조정\nmarquee로 서식을 적용하고 조금 더 깔끔하게 보이도록 플롯에 마지막 몇 가지 조정을 할 수 있습니다. 스케일을 조정하는 것으로 시작하겠습니다. 현재 y축 범위는 0에서 약 15까지입니다. 데이터에 6,500개 이상의 관측치가 있으므로 이것이 올바르지 않다는 것을 알고 있습니다. y축의 스케일이 올바르지 않은 데에는 두 가지 이유가 있습니다:\n\n각 아이콘은 20개의 터빈을 나타내므로 y축 레이블은 실제보다 20배 작게 표시됩니다.\n각 패싯 내에서 행에는 10개의 아이콘이 포함되므로 y축 레이블은 실제보다 또 다른 10배 작게 표시됩니다.\n\nscale_y_continuous()의 labels 인수에 함수를 전달하여 이 문제를 해결해 봅시다. 이 함수는 기존 y축 레이블을 가져와 10을 곱하고 20을 곱하고 천 단위 구분 기호 쉼표를 사용하여 서식을 지정합니다. expand = c(0, 0)을 설정하여 y축 위아래의 여분의 공간을 제거합니다. 또한 0에서 4,000까지 1,000마다 중단점이 있는 약간 더 나은 y축 중단점을 선택해 봅시다. 불행히도 레이블 스케일이 아닌 원래 스케일에서 제한과 중단점을 지정해야 합니다. 예를 들어 15의 중단점은 실제로 15 * 20 * 10 = 3000의 중단점입니다. coord_fixed()를 추가하면 각 아이콘 영역을 정사각형으로 만들어 아이콘 겹침 문제를 처리하는 데 도움이 됩니다. \n\nscale_plot &lt;- text_plot +\n  scale_y_continuous(\n    labels = function(x) {\n      format(\n        x * 10 * 20,\n        big.mark = \",\"\n      )\n    },\n    expand = c(0, 0),\n    breaks = c(0, 5, 10, 15, 20),\n    limits = c(0, 20)\n  ) +\n  coord_fixed()\n\n테마를 편집하여 플롯을 정리하기 위해 마지막 몇 가지 편집을 해 봅시다. theme_minimal()을 기본 테마로 사용하고(글꼴 크기를 조금 작게 만듦) theme() 인수를 사용하여 몇 가지 추가 편집을 합니다. \ntheme() 내에서 plot.title.position 및 plot.caption.position을 \"plot\"으로 설정하여 제목, 부제목 및 캡션 텍스트를 첫 번째 패널의 시작이 아닌 전체 플롯의 가장자리에 맞춥니다. plot.margin을 사용하여 플롯 가장자리 주위에 약간의 추가 간격을 추가하고 plot.background 인수에 대해 element_rect()의 fill 및 color 인수를 사용하여 배경색을 편집합니다. 그리드 선은 panel.grid.major를 조정하여 약간 더 얇게 만듭니다. \n마지막으로 플롯, 부제목 및 캡션 요소를 편집하고 element_marquee()를 사용하여 모두 지정합니다. element_marquee()를 사용하면 굵은 글씨 및 유색 텍스트와 같이 적용한 Markdown 구문이 올바르게 렌더링됩니다. element_text()와 같은 방식으로 marquee 텍스트의 color, size, margin 및 hjust를 조정할 수 있습니다. 텍스트의 일부 요소는 element_text()로 렌더링되고 일부는 element_marquee()로 렌더링된 경우 텍스트 크기와 간격에 약간의 차이가 있을 수 있습니다. size 인수를 사용하여 개별 요소의 크기를 설정해 보십시오. \nwidth 인수는 텍스트 래핑을 적용하며, 여기서 width = 1은 텍스트가 플롯의 전체 너비로 래핑됨을 의미합니다. 이것은 ggtext의 element_textbox_simple()이 작동하는 방식과 유사합니다. 그러나 width는 기본적으로 설정되어 있지 않으므로 텍스트가 래핑되도록 하려면 너비를 지정하는 것이 중요합니다.\n\n\n\n\n\n\nTip 6.9: marquee 사용을 위한 요구 사항\n\n\n\nmarquee 패키지는 R 그래픽 엔진의 최신 기능 중 일부에 의존합니다. 즉, marquee 텍스트가 올바르게 렌더링되려면 최소 버전 4.3의 R이 필요합니다. 모든 그래픽 장치가 이러한 새로운 기능을 지원하는 것은 아니므로(특히 Windows의 경우) R이 사용하는 그래픽 장치를 조정해야 할 수도 있습니다. ragg 패키지 (Pedersen and Shemanarev 2023)를 통해 사용할 수 있는 장치가 좋은 선택입니다. \n\n\n\nscale_plot +\n  theme_minimal(\n    base_size = 7.5\n  ) +\n  theme(\n    # spacing around text and plot\n    plot.title.position = \"plot\",\n    plot.caption.position = \"plot\",\n    plot.margin = margin(5, 10, 5, 10),\n    # background and grid lines\n    plot.background = element_rect(\n      fill = bg_col, color = bg_col\n    ),\n    panel.grid.major.x = element_blank(),\n    panel.grid.major.y = element_line(\n      linewidth = 0.4\n    ),\n    panel.grid.minor = element_blank(),\n    axis.text.x = element_blank(),\n    # format text with marquee\n    plot.title = element_marquee(\n      color = text_col,\n      width = 1,\n      size = 12,\n      family = korean_font\n    ),\n    plot.subtitle = element_marquee(\n      color = text_col,\n      width = 1,\n      size = 9,\n      family = korean_font\n    ),\n    plot.caption = element_marquee(\n      hjust = 0,\n      lineheight = 0.5,\n      size = 8,\n      margin = margin(t = 5),\n      family = korean_font\n    )\n  )\n\n\n\n\n\n\nFigure 6.10: 각 지역의 기간별 터빈 수를 보여주는 픽토그램으로, 부제목의 색상 텍스트는 각 지역에 매핑되는 색상을 나타냅니다.\n\n\n\n\n이제 완료되었으며 사본을 저장할 준비가 되었습니다! \n\nggsave(\n  filename = \"wind-turbines.png\",\n  width = 5,\n  height = 0.75 * 5\n)",
    "crumbs": [
      "아이콘, 글꼴 및 텍스트 활용",
      "<span class='chapter-number'>6</span>  <span class='chapter-title'>캐나다 풍력 터빈: 와플 차트와 픽토그램</span>"
    ]
  },
  {
    "objectID": "wind-turbines.html#성찰",
    "href": "wind-turbines.html#성찰",
    "title": "6  캐나다 풍력 터빈: 와플 차트와 픽토그램",
    "section": "\n6.5 성찰",
    "text": "6.5 성찰\n기존 범례 대신 색상 부제목을 사용하는 것은 기존 범례보다 훨씬 적은 공간을 사용하여 데이터에 더 많은 공간을 남기므로 효과적입니다. 그러나 부제목에는 여전히 개선될 수 있는 몇 가지 요소가 있습니다. 우리는 이미 와플 차트와 픽토그램의 한계에 대해 숫자가 작은 범주에 대한 표현이 부족하다는 측면에서 논의했습니다. 즉, 일부 지역을 그룹화해야 했고, 따라서 터빈이 적은 지역은 차트에 포함된 정보가 적습니다. 아마도 부제목을 업데이트하여 사용자에게 각 아이콘이 20개의 터빈을 나타내며 이는 10개 이하의 터빈이 있는 지역은 표시되지 않는다는 것을 설명할 수 있습니다.\n또한 사용된 날짜에 대한 약간의 불확실성이 있으며 차트에서 실제로 설명되지 않습니다. Commissioning.date 열을 처리할 때 가장 최근 날짜를 사용했지만 반드시 항상 최선의 선택은 아닙니다. 데이터의 한계는 설치 날짜나 첫 가동 날짜가 아니라 시운전 날짜만 있다는 것입니다. 이는 아마도 데이터의 일부 값이 아직 건설되지 않은 기간에 터빈이 존재한다고 제안할 수 있음을 의미합니다.\n마지막으로 Font Awesome 풍력 터빈 아이콘은 Pro 버전에서만 사용할 수 있기 때문에 fan 아이콘을 사용했습니다. 풍력 터빈 아이콘을 사용하면 훨씬 더 명확하고 플롯의 주제와 더 일관성이 있을 것입니다. 대체 아이콘 글꼴 사용을 고려하거나 대신 이미지를 사용할 수 있습니다. 기존 fan 아이콘을 다른 소스의 풍력 터빈 아이콘으로 대체하는 방법에 대한 설명은 Section 14.2 를 참조하십시오.\n이 시각화의 원본 버전을 개발하는 과정에서 생성된 각 플롯은 camcorder를 사용하여 캡처되었으며 아래 gif에 표시됩니다. camcorder를 데이터 시각화 프로세스에 사용하는 방법에 대해 자세히 알아보려면 Section 14.1 를 참조하십시오.",
    "crumbs": [
      "아이콘, 글꼴 및 텍스트 활용",
      "<span class='chapter-number'>6</span>  <span class='chapter-title'>캐나다 풍력 터빈: 와플 차트와 픽토그램</span>"
    ]
  },
  {
    "objectID": "wind-turbines.html#연습-문제",
    "href": "wind-turbines.html#연습-문제",
    "title": "6  캐나다 풍력 터빈: 와플 차트와 픽토그램",
    "section": "\n6.6 연습 문제",
    "text": "6.6 연습 문제\n\n아이콘을 사용하여 터빈 수를 나타내는 대신 아이콘이 총 용량(kW)을 나타내는 이 시각화를 다시 만드십시오. 다른 아이콘을 선택해야 합니까?\n두 버전(수 및 용량)을 단일 시각화로 배열할 수 있습니까? 힌트: Chapter 12 에서 설명한 patchwork 패키지를 사용하고 싶을 수 있습니다. ```\n\n\n\n\n\nAnscombe, F. J. 1973. “Graphs in Statistical Analysis.” The American Statistician 27 (1): 17–21. https://doi.org/10.1080/00031305.1973.10478966.\n\n\nAphalo, Pedro J. 2024. Learn R: As a Language. Second Edition. CRC Press. https://www.learnr-book.info/.\n\n\nAuguie, Baptiste. 2019. egg: Extensions for ’ggplot2’: Custom Geom, Custom Themes, Plot Alignment, Labelled Panels, Symmetric Scales, and Fixed Panel Size. https://CRAN.R-project.org/package=egg.\n\n\nBarthelme, Simon. 2024. imager: Image Processing Library Based on ’CImg’. https://CRAN.R-project.org/package=imager.\n\n\nBrand, Teun van den. 2025. “ggplot2 4.0.0.” https://www.tidyverse.org/blog/2025/09/ggplot2-4-0-0/.\n\n\nBridson, Robert. 2007. “Fast Poisson Disk Sampling in Arbitrary Dimensions.” In ACM SIGGRAPH 2007 Sketches. SIGGRAPH ’07. New York, NY, USA: Association for Computing Machinery. https://doi.org/10.1145/1278780.1278807.\n\n\nBrown, Mark J.F., and Paxton, Robert J. 2009. “The Conservation of Bees: A Global Perspective.” Apidologie 40 (3): 410–16. https://doi.org/10.1051/apido/2009019.\n\n\nCameron, Allan, and Teun van den Brand. 2024. geomtextpath: Curved Text in ’ggplot2’. https://CRAN.R-project.org/package=geomtextpath.\n\n\nCARTO. 2016. ’CARTOColors’ Palettes. https://carto.com/carto-colors/.\n\n\nChang, Winston. 2023. extrafont: Tools for Using Fonts. https://CRAN.R-project.org/package=extrafont.\n\n\nCheung, Foo. 2021. dumbbell: Displaying Changes Between Two Points Using Dumbbell Plots. https://CRAN.R-project.org/package=dumbbell.\n\n\nCowgill, Matt, and John Helveston. 2021. ggannotate: Interactively Annotate ggplot2 Plots. https://github.com/MattCowgill/ggannotate.\n\n\nCsárdi, Gábor, and Jim Hester. 2024. pak: Another Approach to Package Installation. https://CRAN.R-project.org/package=pak.\n\n\nCsárdi, Gábor, Jim Hester, Hadley Wickham, Winston Chang, Martin Morgan, and Dan Tenenbaum. 2024. remotes: R Package Installation from Remote Repositories, Including ’GitHub’. https://CRAN.R-project.org/package=remotes.\n\n\nDomin, Iaroslav. 2024. ggview: ’ggplot2’ Picture Previewer. https://CRAN.R-project.org/package=ggview.\n\n\nEngler, Jan Broder. 2024. “Tidyplots Empowers Life Scientists with Easy Code-Based Data Visualization.” bioRxiv. https://doi.org/10.1101/2024.11.08.621836.\n\n\nFC, Mike, Trevor L. Davis, and ggplot2 authors. 2024. ggpattern: ’ggplot2’ Pattern Geoms. https://CRAN.R-project.org/package=ggpattern.\n\n\nFlaticon.com. 2024. “Wind Power Flaticon.” https://www.flaticon.com/free-icon/wind-power_5670189.\n\n\nFont Awesome. 2024. “Font Awesome 6.” https://fontawesome.com/.\n\n\nFranconeri, Steven L., Lace M. Padilla, Priti Shah, Jeffrey M. Zacks, and Jessica Hullman. 2021. “The Science of Visual Data Communication: What Works.” Psychological Science in the Public Interest 22 (3): 110–61. https://doi.org/10.1177/15291006211051956.\n\n\nGarnier, Simon, Ross, Noam, Rudis, Robert, Camargo, et al. 2024. viridis(Lite) - Colorblind-Friendly Color Maps for R. https://doi.org/10.5281/zenodo.4679423.\n\n\nGohel, David, and Panagiotis Skintzos. 2024. ggiraph: Make ’ggplot2’ Graphics Interactive. https://CRAN.R-project.org/package=ggiraph.\n\n\nGovernment Analysis Function. 2021. “Data Visualisation: Colours.” https://analysisfunction.civilservice.gov.uk/policy-store/data-visualisation-colours-in-charts/.\n\n\nHafen, Ryan. 2023. geofacet: ’ggplot2’ Faceting Utilities for Geographical Data. https://CRAN.R-project.org/package=geofacet.\n\n\nHarmon, Jon. 2024. Web APIs with R. CRC Press. https://wapir.io/.\n\n\nHester, Jim, Florent Angly, Russ Hyde, Michael Chirico, Kun Ren, Alexander Rosenstock, and Indrajeet Patil. 2024. lintr: A ’Linter’ for R Code. https://CRAN.R-project.org/package=lintr.\n\n\nHester, Jim, and Jennifer Bryan. 2024. glue: Interpreted String Literals. https://glue.tidyverse.org/.\n\n\nHughes, Ellis. 2022a. camcorder: Record Your Plot History. https://CRAN.R-project.org/package=camcorder.\n\n\n———. 2022b. tidytuesdayR: Access the Weekly ’TidyTuesday’ Project Dataset. https://CRAN.R-project.org/package=tidytuesdayR.\n\n\nHvitfeldt, Emil. 2021. paletteer: Comprehensive Collection of Color Palettes. https://github.com/EmilHvitfeldt/paletteer.\n\n\n———. 2025. animalshelter: Animal Shelter Data. https://github.com/EmilHvitfeldt/animalshelter.\n\n\nIannone, Richard. 2024. fontawesome: Easily Work with ’Font Awesome’ Icons. https://CRAN.R-project.org/package=fontawesome.\n\n\nInternet Assigned Numbers Authority. 2023. “The tz Database: Time Zone and Daylight Saving Time Data.” Internet Assigned Numbers Authority. https://data.iana.org/time-zones/tz-link.html.\n\n\nJax (@lysrix). 2017. “Lemur.” https://unsplash.com/photos/red-and-white-rodent-h5xrh3CNT-k.\n\n\nKays, R., R. R. Dunn, A. W. Parsons, B. Mcdonald, T. Perkins, S. A. Powers, L. Shell, et al. 2020. “The Small Home Ranges and Large Local Ecological Impacts of Pet Cats.” Animal Conservation 23 (5): 516–23. https://doi.org/10.1111/acv.12563.\n\n\nKeyes, David. 2024. R for the Rest of Us: A Statistics-Free Introduction. No Starch Press. https://book.rfortherestofus.com/.\n\n\nLong Beach Animal Shelter. 2025. “Animal Shelter Data.” City of Long Beach Animal Care Services. https://data.longbeach.gov/explore/dataset/animal-shelter-intakes-and-outcomes/information/.\n\n\nLucchesi, Lydia, and Petra Kuhnert. 2020. Vizumap: Visualizing Uncertainty in Spatial Data. https://github.com/lydialucchesi/Vizumap.\n\n\nMapping Museums. 2021. “Mapping Museums Data.” www.mappingmuseums.org.\n\n\nMassicotte, Philippe, and Andy South. 2023. rnaturalearth: World Map Data from Natural Earth. https://docs.ropensci.org/rnaturalearth/.\n\n\nMatejka, Justin, and George Fitzmaurice. 2017. “Same Stats, Different Graphs: Generating Datasets with Varied Appearance and Identical Statistics Through Simulated Annealing.” In, 1290–94. https://doi.org/10.1145/3025453.3025912.\n\n\nMcDonald, J. L., and H. Cole. 2020. “Data from: The Small Home Ranges and Large Local Ecological Impacts of Pet Cats [United Kingdom].” Movebank data repository. https://doi.org/doi:10.5441/001/1.pf315732.\n\n\nMcWhite, Claire D., and Claus O. Wilke. 2024. colorblindr: Simulate colorblindness in R figures. https://github.com/clauswilke/colorblindr.\n\n\nMid-Atlantic Apiculture Research and Extension Consortium. 2024. “Seasonal Cycles of Activities in Colonies.” https://canr.udel.edu/maarec/honey-bee-biology/seasonal-cycles-of-activities-in-colonies/.\n\n\nmikefc. 2024. poissoned: Tileable Poisson Disc Sampling. https://github.com/coolbutuseless/poissoned.\n\n\nMills, Blake Robert. 2022. MetBrewer: Color Palettes Inspired by Works at the Metropolitan Museum of Art. https://CRAN.R-project.org/package=MetBrewer.\n\n\nMIT Election Data and Science Lab. 2017. “U.S. House 1976–2022.” Harvard Dataverse. https://doi.org/10.7910/DVN/IG0UN2.\n\n\nMüller, Kirill, and Lorenz Walthert. 2023. styler: Non-Invasive Pretty Printing of R Code. https://CRAN.R-project.org/package=styler.\n\n\nMüller, Kirill, and Hadley Wickham. 2023. tibble: Simple Data Frames. https://CRAN.R-project.org/package=tibble.\n\n\nMuth, Lisa. 2018. “An Alternative to Pink & Blue: Colors for Gender Data.” https://blog.datawrapper.de/gendercolor/.\n\n\nNatural Resources Canada. 2021. “Canadian Wind Turbine Database.” Natural Resources Canada (Government of Canada). https://open.canada.ca/data/en/dataset/79fdad93-9025-49ad-ba16-c26d718cc070.\n\n\nNoblet, Guillaume. 2025. ggbranding: Add Personal Branding to ’ggplot2’ Charts. https://github.com/gnoblet/ggbranding.\n\n\nNowosad, Jakub. 2018. ’CARTOColors’ Palettes. https://jakubnowosad.com/rcartocolor/.\n\n\nOoms, Jeroen. 2024. magick: Advanced Graphics and Image-Processing in R. https://CRAN.R-project.org/package=magick.\n\n\nOur World in Data. 2019. “Medical Doctors Per 1,000 People.” https://ourworldindata.org/grapher/physicians-per-1000-people.\n\n\nPebesma, Edzer. 2018. “Simple Features for R: Standardized Support for Spatial Vector Data.” The R Journal 10 (1): 439–46. https://doi.org/10.32614/RJ-2018-009.\n\n\nPedersen, Thomas Lin. 2022. ggforce: Accelerating ’ggplot2’. https://CRAN.R-project.org/package=ggforce.\n\n\n———. 2024. patchwork: The Composer of Plots. https://CRAN.R-project.org/package=patchwork.\n\n\n———. 2025. “Fonts in R.” https://www.tidyverse.org/blog/2025/05/fonts-in-r/.\n\n\nPedersen, Thomas Lin, and Martin Mitáš. 2024. marquee: Markdown Parser and Renderer for R Graphics. https://CRAN.R-project.org/package=marquee.\n\n\nPedersen, Thomas Lin, Jeroen Ooms, and Devon Govett. 2024. systemfonts: System Native Font Finding. https://CRAN.R-project.org/package=systemfonts.\n\n\nPedersen, Thomas Lin, and Maxim Shemanarev. 2023. ragg: Graphic Devices Based on AGG. https://CRAN.R-project.org/package=ragg.\n\n\nPLDB contributors. 2022. “PLDB: A Programming Language Database.” PLDB. https://pldb.com.\n\n\nQiu, Yixuan. 2022. sysfonts: Loading Fonts into R. https://CRAN.R-project.org/package=sysfonts.\n\n\n———. 2023. showtext: Using Fonts More Easily in R Graphs. https://CRAN.R-project.org/package=showtext.\n\n\nR Core Team. 2024. R: A Language and Environment for Statistical Computing. Vienna, Austria: R Foundation for Statistical Computing. https://www.R-project.org/.\n\n\nR4DS Online Learning Community. 2023. “Tidy Tuesday: A Weekly Social Data Project.” https://github.com/rfordatascience/tidytuesday.\n\n\nRennie, Nicola. 2023a. “Adding Social Media Icons to Charts with ggplot2.” https://nrennie.rbind.io/blog/adding-social-media-icons-ggplot2/.\n\n\n———. 2023b. “Creating Template Files with R.” https://nrennie.rbind.io/blog/script-templates-r/.\n\n\n———. 2023c. “Four Ways to Streamline Your R Workflows.” https://nrennie.rbind.io/blog/four-ways-streamline-r-workflows/.\n\n\n———. 2024a. ggtextcircle: Circular Text in ’ggplot2’. https://github.com/nrennie/ggtextcircle.\n\n\n———. 2024b. nobel: Access data from the Nobel Prize API via R. https://github.com/nrennie/nobel.\n\n\n———. 2024c. “tidytuesday.” GitHub Repository. GitHub. https://github.com/nrennie/tidytuesday.\n\n\nRennie, Nicola, and Andreas Krause. 2024. “Presenting data the Significance way - Part 1.” Significance 21 (3): 36–39. https://doi.org/10.1093/jrssig/qmae045.\n\n\nReynolds, Gina. 2025. “Everyday ggplot2 extension.” https://evamaerey.github.io/everyday_ggplot2_extension/.\n\n\nRStudio. 2018a. “forcats Hex Sticker.” https://github.com/rstudio/hex-stickers/blob/main/PNG/forcats.png.\n\n\n———. 2018b. “ggplot2 Hex Sticker.” https://github.com/rstudio/hex-stickers/blob/main/PNG/ggplot2.png.\n\n\n———. 2018c. “purrr Hex Sticker.” https://github.com/rstudio/hex-stickers/blob/main/PNG/purrr.png.\n\n\n———. 2018d. “readr Hex Sticker.” https://github.com/rstudio/hex-stickers/blob/main/PNG/readr.png.\n\n\n———. 2018e. “tibble Hex Sticker.” https://github.com/rstudio/hex-stickers/blob/main/PNG/tibble.png.\n\n\n———. 2020a. “dplyr Hex Sticker.” https://github.com/rstudio/hex-stickers/blob/main/PNG/dplyr.png.\n\n\n———. 2020b. “stringr Hex Sticker.” https://github.com/rstudio/hex-stickers/blob/main/PNG/stringr.png.\n\n\n———. 2020c. “tidyr Hex Sticker.” https://github.com/rstudio/hex-stickers/blob/main/PNG/tidyr.png.\n\n\nRudis, Bob, Ben Bolker, and Jan Schulz. 2017. ggalt: Extra Coordinate Systems, ’Geoms’, Statistical Transformations, Scales and Fonts for ’ggplot2’. https://CRAN.R-project.org/package=ggalt.\n\n\nRudis, Bob, and Dave Gandy. 2023. waffle: Create Waffle Chart Visualizations. https://CRAN.R-project.org/package=waffle.\n\n\nSarkar, Deepayan. 2008. Lattice: Multivariate Data Visualization with r. New York: Springer. http://lmdvr.r-forge.r-project.org.\n\n\nSchauberger, Philipp, and Alexander Walker. 2023. openxlsx: Read, Write and Edit xlsx Files. https://CRAN.R-project.org/package=openxlsx.\n\n\nScheuch, Christoph. 2025. owidapi: Access the Our World in Data Chart API. https://doi.org/10.32614/CRAN.package.owidapi.\n\n\nSchloerke, Barret, Di Cook, Joseph Larmarange, Francois Briatte, Moritz Marbach, Edwin Thoen, Amos Elberg, and Jason Crowley. 2024. GGally: Extension to ’ggplot2’. https://CRAN.R-project.org/package=GGally.\n\n\nSchloss, Karen B., Connor C. Gramazio, Allison T. Silverman, Madeline L. Parker, and Audrey S. Wang. 2019. “Mapping Color to Meaning in Colormap Data Visualizations.” IEEE Transactions on Visualization and Computer Graphics 25 (1): 810–19. https://doi.org/10.1109/TVCG.2018.2865147.\n\n\nShalloway, Bryan. 2023. funspotr: Spot R Functions & Packages. https://CRAN.R-project.org/package=funspotr.\n\n\nSievert, Carson. 2020. Interactive Web-Based Data Visualization with r, Plotly, and Shiny. Chapman; Hall/CRC. https://plotly-r.com.\n\n\nSlowikowski, Kamil. 2024. ggrepel: Automatically Position Non-Overlapping Text Labels with ’ggplot2’. https://CRAN.R-project.org/package=ggrepel.\n\n\nTierney, Nicholas. 2017. “visdat: Visualising Whole Data Frames.” JOSS 2 (16): 355. https://doi.org/10.21105/joss.00355.\n\n\nTierney, Nicholas, and Dianne Cook. 2023. “Expanding Tidy Data Principles to Facilitate Missing Data Exploration, Visualization and Assessment of Imputations.” Journal of Statistical Software 105 (7): 1–31. https://doi.org/10.18637/jss.v105.i07.\n\n\nTol, Paul. 2021. “Paul Tol’s Notes: Colour schemes and templates.” https://sronpersonalpages.nl/~pault/.\n\n\nUnited States Census Bureau. 2021a. “Historical Population Change Data (1910-2020).” https://www.census.gov/data/tables/time-series/dec/popchange-data-text.html.\n\n\n———. 2021b. “State Area Measurements and Internal Point Coordinates.” https://www.census.gov/geographies/reference-files/2010/geo/state-area.html.\n\n\nUnited States Department of Agriculture: Economics, Statistics and Market Information System. 2022. “Honey Bee Colonies.” USDA Economics, Statistics and Market Information System. https://usda.library.cornell.edu/concern/publications/rn301137d.\n\n\nWalker, Kyle. 2022. crsuggest: Obtain Suggested Coordinate Reference System Information for Spatial Data. https://CRAN.R-project.org/package=crsuggest.\n\n\nWanzer, Dana Linnell, Tarek Azzam, Natalie D. Jones, and Darrel Skousen. 2021. “The Role of Titles in Enhancing Data Visualization.” Evaluation and Program Planning 84: 101896. https://doi.org/10.1016/j.evalprogplan.2020.101896.\n\n\nWickham, Hadley. 2016. ggplot2: Elegant Graphics for Data Analysis. Springer-Verlag New York. https://ggplot2.tidyverse.org.\n\n\n———. 2023a. forcats: Tools for Working with Categorical Variables (Factors). https://doi.org/10.32614/CRAN.package.forcats.\n\n\n———. 2023b. stringr: Simple, Consistent Wrappers for Common String Operations. https://CRAN.R-project.org/package=stringr.\n\n\nWickham, Hadley, Mara Averick, Jennifer Bryan, Winston Chang, Lucy D’Agostino McGowan, Romain François, Garrett Grolemund, et al. 2019. “Welcome to the tidyverse.” Journal of Open Source Software 4 (43): 1686. https://doi.org/10.21105/joss.01686.\n\n\nWickham, Hadley, and Jennifer Bryan. 2023. readxl: Read Excel Files. https://CRAN.R-project.org/package=readxl.\n\n\nWickham, Hadley, Mine Çetinkaya-Rundel, and Garrett Grolemund. 2023. R for Data Science. Second Edition. O-Reilly. https://r4ds.hadley.nz.\n\n\nWickham, Hadley, Romain François, Lionel Henry, Kirill Müller, and Davis Vaughan. 2023. dplyr: A Grammar of Data Manipulation. https://CRAN.R-project.org/package=dplyr.\n\n\nWickham, Hadley, and Lionel Henry. 2023. purrr: Functional Programming Tools. https://CRAN.R-project.org/package=purrr.\n\n\nWickham, Hadley, Jim Hester, and Jennifer Bryan. 2024. readr: Read Rectangular Text Data. https://CRAN.R-project.org/package=readr.\n\n\nWickham, Hadley, Thomas Lin Pedersen, and Dana Seidel. 2023. scales: Scale Functions for Visualization. https://CRAN.R-project.org/package=scales.\n\n\nWickham, Hadley, Davis Vaughan, and Maximilian Girlich. 2024. tidyr: Tidy Messy Data. https://CRAN.R-project.org/package=tidyr.\n\n\nWilke, Claus. 2022. ggtextures: Drawing Textured Rectangles and Bars with grid and ggplot2. https://github.com/clauswilke/ggtextures.\n\n\nWilke, Claus O. 2024. cowplot: Streamlined Plot Theme and Plot Annotations for ’ggplot2’. https://wilkelab.org/cowplot/.\n\n\nWilke, Claus O., and Brenton M. Wiernik. 2022. ggtext: Improved Text Rendering Support for ’ggplot2’. https://CRAN.R-project.org/package=ggtext.\n\n\nwww.nobelprize.org. 2024. “Nobel Prize API Version 2.1.” https://api.nobelprize.org/2.1/laureates.\n\n\nYork, Piers. 2023. owidR: Import Data from Our World in Data. https://github.com/piersyork/owidR.\n\n\nYu, Guangchuang. 2023. ggimage: Use Image in ’ggplot2’. https://CRAN.R-project.org/package=ggimage.\n\n\nYutani, Hiroaki. 2023. gghighlight: Highlight Lines and Points in ’ggplot2’. https://CRAN.R-project.org/package=gghighlight.\n\n\nZehr, Sarah M., Richard G. Roach, David Haring, Julie Taylor, Freda H. Cameron, and Anne D. Yoder. 2014. “Life history profiles for 27 strepsirrhine primate taxa generated using captive data from the Duke Lemur Center.” Scientific Data 1 (1). https://doi.org/10.1038/sdata.2014.19.",
    "crumbs": [
      "아이콘, 글꼴 및 텍스트 활용",
      "<span class='chapter-number'>6</span>  <span class='chapter-title'>캐나다 풍력 터빈: 와플 차트와 픽토그램</span>"
    ]
  },
  {
    "objectID": "cats.html",
    "href": "cats.html",
    "title": "7  고양이: ggtext를 사용한 데이터 기반 주석",
    "section": "",
    "text": "7.1 데이터\n이 장에서는 소셜 미디어 아이콘이 포함된 사용자 정의 캡션을 만들고 플롯에 데이터 기반 주석을 추가하는 방법을 배웁니다.\n이 장을 마치면 다음을 할 수 있습니다:\n이 장에 필요한 패키지를 로드하는 것으로 시작합니다.\n이 장에서 사용하는 모든 패키지는 이전 장에서 이미 사용한 적이 있는 패키지들입니다. 하지만 그중 일부는 조금 더 깊이 있게 다루고 일부는 새로운 함수를 사용할 것입니다!\n2013년과 2017년 사이에 Kays et al. (2020) 은 미국, 영국, 호주, 뉴질랜드에서 자신의 반려묘에게 GPS 센서를 부착할 지원자를 모집했습니다. 이 데이터(McDonald and Cole 2020)는 반려묘가 새와 같은 토착 종을 죽여 보존 문제를 일으키기 때문에 수집되었습니다. 다른 고양이들이 집에 없을 때 어떻게 움직이는지 연구하면 반려묘가 환경에 미치는 영향을 이해하는 데 도움이 될 수 있습니다. 이 장에서는 영국에 기반을 둔 고양이(및 그 주인!)의 데이터에 초점을 맞출 것입니다.\n이 데이터는 2023년 1월(Tom Mock의 제안 이후) TidyTuesday 데이터 세트로 사용되었으므로 tidytuesdayR (Hughes 2022b)의 tt_load() 함수로 로드할 수 있습니다. 두 개의 데이터 세트가 포함되어 있으며 cats와 cats_reference로 읽어옵니다.\ntuesdata &lt;- tt_load(\"2023-01-31\")\ncats &lt;- tuesdata$cats_uk\ncats_reference &lt;- tuesdata$cats_uk_reference\ncats 데이터에는 타임스탬프별로 기록된 위도 및 경도를 포함한 센서 정보가 들어 있습니다. 각 고양이에 대해 여러(많은) 관측치가 있어 11개 열에 걸쳐 총 18215개의 행이 됩니다. 일부 관측치는 자동 알고리즘, 수동 또는 둘 다에 의해 이상치로 표시되었습니다. cats_reference 데이터에는 이름, 나이, 성별, 실내에서 보내는 시간, 먹는 음식 유형 등 고양이 주인이 제공한 각 개별 고양이에 대한 정보가 들어 있습니다. 두 데이터 세트는 cats와 cats_reference 모두에 존재하는 tag_id 열로 결합할 수 있습니다.",
    "crumbs": [
      "아이콘, 글꼴 및 텍스트 활용",
      "<span class='chapter-number'>7</span>  <span class='chapter-title'>고양이: **`ggtext`**를 사용한 데이터 기반 주석</span>"
    ]
  },
  {
    "objectID": "cats.html#탐색-작업",
    "href": "cats.html#탐색-작업",
    "title": "7  고양이: ggtext를 사용한 데이터 기반 주석",
    "section": "\n7.2 탐색 작업",
    "text": "7.2 탐색 작업\ncats 데이터를 사용하여 공간 패턴에 초점을 맞추고 고양이가 이동하는 범위를 살펴볼 수 있습니다. 예를 들어, 평균적인 고양이는 하루에 얼마나 이동할까요? 또는 cats_reference 데이터에 초점을 맞추고 고양이의 다양한 행동과 특성 간의 관계를 살펴볼 수 있습니다. 예를 들어, 나이 든 고양이는 실내에서 더 많은 시간을 보낼까요? 아니면 다른 고양이와 함께 사는 고양이가 집에 더 많은 먹이를 가져올까요?\n세 번째 옵션이자 아마도 가장 유용한 옵션은 두 데이터 세트를 결합하는 것입니다. 개체를 지리적 데이터에 결합하면 다음과 같은 질문에 답할 수 있을 것입니다: 수컷 고양이는 하루에 더 멀리 이동할까요? 나이 든 고양이는 집 근처에 머물까요? 선물을 많이 가져오는 고양이의 전략은 무엇일까요?\n\n7.2.1 데이터 탐색\n지리적 cats 데이터를 파헤치는 것으로 시작해 보겠습니다. plot()을 사용하여 좌표 데이터의 매우 빠른 플롯을 만들 수 있습니다. \n\nplot(\n  x = cats$location_long,\n  y = cats$location_lat,\n  xlab = \"Longitude\",\n  ylab = \"Latitude\"\n)\n\n\n\n\n\n\nFigure 7.1: 반려묘에게 부착된 GPS 데이터에서 얻은 지리적 좌표를 보여주는 산점도. 배경 지도가 없어 맥락 없이는 해석하기 어렵지만, 일부 클러스터를 볼 수 있습니다.\n\n\n\n\nFigure 7.1 의 데이터가 지리적 좌표 데이터임을 감안할 때, 위치와 거리에 대한 더 많은 맥락을 제공하는 배경 지도가 있다면 좀 더 잘 이해할 수 있을 것입니다. 하지만 이 매우 최소한의 지도로도 많은 작은 점 클러스터가 있음이 분명합니다. 어쩌면 각 클러스터가 특정 고양이일 수도 있겠죠?\n\n\n\n\n\n\nTip 7.1: 위도와 경도 기억하기\n\n\n\n지도에 아무리 많이 그려봐도 x축과 y축 중 어느 것이 위도이고 경도인지 기억하는 것은 결코 쉬워 보이지 않습니다! 기억하는 한 가지 방법은 다음과 같습니다:\n\n세계 지도를 상상해 보세요. 아마도 직사각형이고 긴(long) 가장자리가 바닥을 따라갈 것입니다.\n\n경도(longitude)는 바닥, 즉 x축을 따라갑니다.\n\n\n\nGPS 센서는 고양이의 지상 속도에 대한 데이터도 보고하므로 하루 동안의 활동 수준 패턴을 볼 수 있을 가능성이 있습니다. hist()를 사용하여 탐색적 히스토그램을 그려 ground_speed 열을 살펴봅시다: \n\nhist(\n  x = cats$ground_speed,\n  xlab = \"Ground speed (m/s)\",\n  main = \"Histogram of ground speed\"\n)\n\n\n\n\n\n\nFigure 7.2: GPS 센서에서 기록된 지상 속도의 히스토그램으로, 매우 높은 속도를 포함하여 매우 치우친 분포를 보여줍니다!\n\n\n\n\n언뜻 보기에 Figure 7.2 에서 특별히 주목할 만한 것을 보지 못할 수도 있습니다. 그러나 데이터 설명에 따르면 지상 속도는 초당 미터(m/s)로 측정되지만 히스토그램은 250,000까지 올라갑니다. m/s 단위를 자주 사용하지 않는 분들을 위해 설명하자면, 이는 시속 약 560,000마일 또는 시속 900,000킬로미터에 해당합니다! 이 고양이들이 유난히 빠르거나 지상 속도 데이터에 문제가 있는 것입니다. 아마도 단위가 잘못 기록되었거나 센서가 올바르게 작동하지 않았을 수 있습니다. 정확한 문제는 알 수 없지만, 이 열은 확실히 우리가 너무 신뢰해서는 안 되는 데이터 열입니다.\n대신 cats_reference 데이터에 초점을 맞추고 연구 대상 고양이들의 특성이 어떻게 다른지 살펴봅시다. 예를 들어, 범주형 변수 hrs_indoors로 기록된 고양이가 실내에서 보내는 시간을 살펴볼 수 있습니다. table()을 사용하여 각 실내 시간 범주에 속하는 고양이가 몇 마리인지 계산한 다음 barplot()을 사용하여 시각화할 수 있습니다: \n\nbarplot(table(cats_reference$hrs_indoors))\n\n\n\n\n\n\nFigure 7.3: 실내에서 보내는 평균 시간의 5가지 범주 각각에 속하는 고양이 수를 보여주는 막대 차트. 데이터가 처음에는 숫자로 보일 수 있지만 실제로는 범주형 데이터입니다.\n\n\n\n\n건강 문제나 에너지 수준으로 인해 나이 든 고양이가 실내에서 더 많은 시간을 보내므로 고양이가 실내에서 보내는 시간이 연령에 따라 다를 것이라고 예상할 수 있습니다. plot()을 사용하여 age_years 대 hrs_indoors의 빠른 산점도를 만들어 조사해 봅시다: \n\nplot(\n  x = cats_reference$age_years,\n  y = cats_reference$hrs_indoors,\n  xlab = \"Age\",\n  ylab = \"Hours indoors\"\n)\n\n\n\n\n\n\nFigure 7.4: 반려묘의 나이와 실내에서 보내는 평균 시간 간의 관계를 보여주는 산점도.\n\n\n\n\nFigure 7.4 에는 약간의 패턴이 있지만 특별히 강한 것은 아닙니다. 이것은 자연적으로 연속적인 데이터를 그룹화할 때 정보를 잃기 때문에 hrs_indoors 열의 범주형 특성 때문일 수도 있습니다.\n이러한 데이터 범주화는 또한 많은 점이 서로 겹쳐 쌓이는 결과를 초래합니다. 데이터에는 101 마리의 고양이가 있지만 Figure 7.4 에는 101 개의 점이 있는 것처럼 보이지 않습니다. 시각화를 더 발전시킨다면 산점도에서 버블 플롯으로 변경하는 것을 고려할 수 있습니다. 버블 플롯을 사용하면 점의 크기는 각 age_years-hrs_indoor 범주 조합의 고양이 수와 같은 다른 변수와 관련됩니다.\n\n7.2.2 탐색적 스케치\nFigure 7.4 의 아이디어를 가져와 텍스트와 주석을 특히 활용하여 훨씬 더 효과적인 시각화로 발전시켜 보겠습니다. 차트를 업데이트하여 버블 차트를 만들 것입니다. 하지만 가장 나이 많은 고양이나 실내에서 보내는 평균 시간과 같은 데이터의 흥미로운 측면을 강조하기 위해 주석도 추가할 것입니다. Figure 7.5 는 우리가 어떻게 개발할 수 지에 대한 기본 그림을 제공합니다: \n\n\n\n\n\nFigure 7.5: 반려묘의 나이와 실내에서 보내는 시간 사이의 관계를 보여주는, 주석이 달린 버블 플롯의 초기 스케치.",
    "crumbs": [
      "아이콘, 글꼴 및 텍스트 활용",
      "<span class='chapter-number'>7</span>  <span class='chapter-title'>고양이: **`ggtext`**를 사용한 데이터 기반 주석</span>"
    ]
  },
  {
    "objectID": "cats.html#플롯-준비",
    "href": "cats.html#플롯-준비",
    "title": "7  고양이: ggtext를 사용한 데이터 기반 주석",
    "section": "\n7.3 플롯 준비",
    "text": "7.3 플롯 준비\nggplot2에서 Figure 7.5 를 만들기 위해서는 cats_reference 데이터의 두 열, 고양이 나이 age_years와 하루 평균 실내 체류 시간 hrs_indoors만 있으면 됩니다.\n\n7.3.1 데이터 랭글링\nhrs_indoors 열에는 실내 체류 시간에 대한 5가지 범주(2.5, 7.5, 12.5, 17.5, 22.5)가 포함되어 있습니다. 이러한 범주 이름은 숫자기 때문에 R에서는 범주가 아닌 숫자 열로 인코딩됩니다. 따라서 먼저 hrs_indoors 열을 factor()로 변환하는 것으로 시작합니다. 플롯의 버블 크기를 알기 위해서는 나이와 실내 체류 시간의 각 조합에 대해 고양이가 몇 마리인지 알아야 합니다. 두 관련 열을 group_by() 한 다음 dplyr의 count()를 사용하여 각 범주 조합의 수를 세고 ungroup()으로 그룹 해제합니다. \n나이를 알 수 없는 고양이 한 마리(Johnny)가 있으므로 tidyr의 drop_na()를 사용하여 이 값을 제거합니다. 데이터의 누락된 값을 시각화하고 처리하는 방법에 대한 다른 논의는 Chapter 4 및 Chapter 10 를 참조하십시오. \n\nplot_data &lt;- cats_reference |&gt;\n  select(age_years, hrs_indoors) |&gt;\n  mutate(hrs_indoors = factor(hrs_indoors)) |&gt;\n  group_by(age_years, hrs_indoors) |&gt;\n  count() |&gt;\n  ungroup() |&gt;\n  drop_na()\n\n\n7.3.2 첫 번째 플롯\n평소와 같이 데이터를 ggplot() 함수에 전달한 다음 aes()로 미학적 매핑을 설정합니다. Figure 7.4 에서 했던 것처럼 나이를 x축에, 실내 시간을 y축에 둡니다. 여기서는 각 범주 조합의 고양이 수 n을 size 미학에 매핑하여 버블을 만듭니다. 산점도보다는 버블 플롯을 만들고 있지만, 두 유형의 플롯 모두 점으로 만들어지므로 geom_point()를 사용합니다. 산점도는 기본적으로 모든 점이 하나의 관측치를 나타내므로 모두 같은 크기인 버블 플롯의 특수한 경우입니다. \n\nbasic_plot &lt;- ggplot(\n  data = plot_data,\n  mapping = aes(\n    x = age_years,\n    y = hrs_indoors,\n    size = n\n  )\n) +\n  geom_point()\nbasic_plot\n\n\n\n\n\n\nFigure 7.6: 반려묘의 나이와 실내에서 보내는 평균 시간 간의 관계를 보여주는 버블 플롯. 원의 크기는 각 범주의 고양이 수를 나타냅니다.",
    "crumbs": [
      "아이콘, 글꼴 및 텍스트 활용",
      "<span class='chapter-number'>7</span>  <span class='chapter-title'>고양이: **`ggtext`**를 사용한 데이터 기반 주석</span>"
    ]
  },
  {
    "objectID": "cats.html#고급-스타일링",
    "href": "cats.html#고급-스타일링",
    "title": "7  고양이: ggtext를 사용한 데이터 기반 주석",
    "section": "\n7.4 고급 스타일링",
    "text": "7.4 고급 스타일링\n이제 플롯 스타일링을 시작하여 일반적인 기본 버블 플롯에서 R로 만든 것 같지 않은 플롯으로 바꿀 준비가 되었습니다!\n\n7.4.1 색상\n데이터의 어떤 열도 color나 fill에 매핑하지 않으므로 색상 팔레트를 지정할 필요가 없습니다. 대신 텍스트 색상(진한 회색), 배경 색상(흰색), 강조 색상(보라색)을 선택합니다. \n\ntext_col &lt;- \"#2F4F4F\"\nhighlight_col &lt;- \"#914D76\"\nbg_col &lt;- \"white\"\n\n초기 basic_plot 코드를 업데이트하여 geom_point() 내부에서 점의 색상을 highlight_col로 변경할 수 있습니다. 이 색상은 데이터의 열을 기반으로 하지 않으므로 aes() 안에 들어갈 필요가 없다는 것을 기억하십시오. \nsize 범례는 자동으로 생성되며 데이터 범위를 고려하여 균등하게 간격을 둔 간격을 선택합니다. 불행히도 이로 인해 의미가 통하지 않는 레이블이 생성되는 경우가 있습니다. 여기서는 2.5마리의 고양이에 대한 레이블이 있는데, 자연계에는 존재하지 않는 것입니다! size 범례에 더 적절한 중단점을 선택해 봅시다. 여기서 size 데이터 범위는 1에서 9 사이이므로 3, 6, 9로 가봅시다. 원하는 중단점을 벡터로 전달하여 scale_size()에 전달합니다. 플롯의 점 크기는 변경되지 않고 범례만 업데이트됩니다. \n\nbasic_plot &lt;- ggplot(\n  data = plot_data,\n  mapping = aes(\n    x = age_years,\n    y = hrs_indoors,\n    size = n\n  )\n) +\n  geom_point(color = highlight_col) +\n  scale_size(breaks = c(3, 6, 9))\nbasic_plot\n\n\n\n\n\n\nFigure 7.7: 반려묘의 나이와 실내에서 보내는 평균 시간 간의 관계를 보여주는 버블 플롯. 보라색 원의 크기는 각 범주의 고양이 수를 나타냅니다. 크기 범례는 이제 정수로 표시됩니다.\n\n\n\n\n\n7.4.2 텍스트 및 글꼴\n여기서는 제목에 재미있는 서체를 사용하지만 나머지 텍스트에는 깔끔하고 미니멀한 서체를 사용하겠습니다. body_font에는 Chapter 5 에서 했던 것처럼 Ubuntu를 사용합니다. title_font에는 손글씨와 약간 비슷한 만화 같은 서체인 Chewy를 사용합니다. 둘 다 Google Fonts이므로 이전 장에서 했던 것처럼 font_add_google()을 사용하여 로드하고 관련 showtext 옵션을 설정합니다. \n\nfont_add_google(name = \"Chewy\")\nfont_add_google(name = \"Ubuntu\")\nfont_add_google(name = \"Noto Sans KR\", family = \"noto_sans_kr\")\nshowtext_auto()\nshowtext_opts(dpi = 300)\ntitle_font &lt;- \"Chewy\"\nbody_font &lt;- \"Ubuntu\"\nkorean_font &lt;- \"noto_sans_kr\"\n\n\n7.4.3 주석 추가\n차트는 시각적 요소로 간주됩니다. 그리고 백문이 불여일견이라는 말은 종종 데이터를 설명하는 대신 시각화해야 하는 이유로 떠돌아다닙니다. 하지만 그림을 만든다고 해서 단어를 사용할 수 없는 것은 아닙니다. 텍스트 표시기를 추가하여 명확성을 높인다면 차트의 약점이 아닙니다.\nChapter 2 에서 부제목을 구성할 때 glue()를 사용하여 데이터 기반 텍스트를 만들었습니다. 즉, 기본 데이터가 업데이트되면 부제목도 올바르게 업데이트됩니다. 모든 텍스트를 하드 코딩하는 것보다 우발적인 오류가 발생할 가능성이 적은 더 효율적인 접근 방식입니다. 플롯에 주석을 추가할 때도 비슷한 접근 방식을 취할 수 있습니다.\n데이터에서 가장 나이 많은 고양이를 강조하는 주석을 플롯에 추가하고 싶다고 가정해 보겠습니다. 가장 나이 많은 고양이와 관련된 데이터를 얻는 것으로 시작하겠습니다. dplyr의 slice_max()를 사용하여 age_years가 가장 높은 데이터 행을 얻을 수 있습니다: \n\nannot_oldest &lt;- cats_reference |&gt;\n  slice_max(age_years)\n\n플롯에 주석을 추가할 때 ggplot2 내에서 몇 가지 선택을 할 수 있습니다:\n\n\ntext 또는 label: text를 사용하면 텍스트만 추가되는 반면 label은 직사각형 상자 안에 텍스트를 추가합니다.\n\nannotate() 또는 geom_*(): annotate()는 정해진 위치에 객체(이 경우 텍스트)를 배치하는 반면 geom_*() 함수는 일부 입력 데이터를 기반으로 객체를 추가합니다.\n\n이러한 선택의 조합은 우리가 추가하려는 주석에 효과가 있을 것입니다. 그러나 우리는 ggplot2 대신 ggtext (C. O. Wilke and Wiernik 2022)를 사용할 것입니다. ggtext 패키지를 사용하면 레이블을 더 쉽게 사용자 정의할 수 있습니다. 이미 긴 문자열을 자동으로 래핑하기 위해 ggtext를 사용하는 예를 보았지만, 여기서는 텍스트의 특정 요소를 색상 지정하고 강조하는 것과 같은 다른 기능을 보여줄 것입니다. 이전에 marquee 패키지를 사용하여 Chapter 6 에서 텍스트 섹션의 색상을 지정하는 것에 대해 설명했지만, 비교를 위해 ggtext를 살펴보겠습니다.\nggtext에서 geom_textbox() 함수를 사용하여 주석을 추가할 수 있습니다. 이전 장에서 부제목에 사용해 온 ggtext의 element_textbox_simple()과 마찬가지로 geom_textbox()는 텍스트를 미리 지정된 텍스트 상자 크기로 자동으로 래핑합니다. label 미학은 glue()를 사용하여 고양이의 이름과 나이를 텍스트에 넣습니다. 일부 &lt;span&gt; 태그 안에 텍스트 섹션을 래핑할 수 있습니다. 이렇게 하면 CSS를 사용하여 태그 내의 글꼴 스타일을 지정할 수 있습니다. 또한 glue()를 사용하여 고양이 이름에 사용된 글꼴의 style에 highlight_col을 삽입합니다. ggtext 대신 marquee를 사용하는 Chapter 6 의 색상 텍스트 코드와 약간 겹치는 부분을 알아챌 수 있습니다. geom_textbox()의 추가 인수를 사용하면 텍스트, 상자 윤곽선 및 배경색의 색상은 물론 텍스트의 크기와 정렬을 제어할 수 있습니다. \n\nannotated_plot &lt;- basic_plot +\n  geom_textbox(\n    data = annot_oldest,\n    mapping = aes(\n      x = age_years - 2.5,\n      y = factor(hrs_indoors),\n      label = glue(\n        \"The oldest cat is &lt;span style='color:{highlight_col}'&gt;{animal_id}&lt;/span&gt; who is {age_years} years old.\"\n      )\n    ),\n    halign = 0.5,\n    hjust = 0.5,\n    size = 2.5,\n    lineheight = 0.5,\n    family = body_font,\n    box.color = text_col,\n    color = text_col,\n    alpha = 0.5,\n    maxheight = unit(4, \"lines\"),\n    minwidth = unit(2, \"lines\"),\n    maxwidth = unit(4, \"lines\")\n  )\nannotated_plot\n\n\n\n\n\n\nFigure 7.8: 반려묘의 나이와 실내에서 보내는 평균 시간 간의 관계를 보여주는 버블 플롯. 오른쪽 상단의 텍스트 상자는 ’Boots’라는 가장 나이 많은 고양이를 나타냅니다.\n\n\n\n\ngeom_textbox() 함수 내에서 HTML 코드를 사용했지만 제목, 부제목 또는 캡션 텍스트에서도 HTML 코드를 사용할 수 있습니다. Chapter 6 의 marquee와 마찬가지로 관련 theme() 인수를 편집하여 ggtext를 사용하고 있음을 지정해야 합니다.\n\n\n\n\n\n\nTip 7.2: 겹치지 않는 레이블\n\n\n\n여기서는 하나의 주석만 배치하므로 위치를 수동으로 조정하여 플롯 영역을 초과하거나 데이터 포인트를 가리지 않도록 하는 것이 비교적 쉽습니다. 텍스트 주석이 많은 경우 겹치지 않도록 수동으로 조정하기가 금세 어려워질 것입니다. ggrepel 패키지 (Slowikowski 2024)가 도움이 될 수 있습니다. ggplot2에서 겹치지 않는 텍스트 및 레이블 주석을 만드는 데 특별히 설계되었으며 텍스트를 재배치합니다.\n\n\n주석이 플롯의 어떤 측면을 가리키는지 명확히 하기 위해 텍스트 상자에서 관련 데이터 포인트로 향하는 화살표를 추가할 수 있습니다. 화살표 하나만 추가하므로 annotate() 함수를 사용합니다. annotate()를 사용할 때 어떤 유형의 geom을 사용할지 지정해야 합니다. 화살표를 추가하려고 하지만 실제로는 geom이 아닙니다. 선을 추가한 다음 선의 끝을 화살표로 장식해야 합니다. 직선 화살표를 추가하려면 geom = \"segment\"를 설정할 수 있지만 곡선 화살표가 덜 딱딱해 보이는 경우가 많으므로 geom = \"curve\"를 사용합니다. \n화살표를 어디에 놓을지 annotate()에 알려주어야 합니다. 이 좌표 선택이 처음부터 완벽했다고 생각하지 마십시오! 화살표를 원하는 위치에 배치하려면 적어도 약간의 시행착오가 필요합니다. Figure 7.8 의 x축을 사용하여 x 및 xend 값이 무엇이어야 하는지 선택하는 데 가이드로 사용할 수 있습니다. y 및 yend 값의 선택은 조금 이상해 보일 수 있습니다. y축이 화살표를 22 정도에 배치하고 싶다고 제안하는데 왜 5 정도에 화살표를 배치할까요? hrs_indoors는 실제로 숫자 열이 아니라 팩터 열이라는 것을 기억하십시오. \n\n\n\n\n\n\nTip 7.3: 주석 위치 지정\n\n\n\nggplot2를 사용하여 주석 위치를 딱 맞게 지정하려고 할 때 왼쪽으로 약간, 오른쪽으로 약간, 위로 조금, 그런 다음 오른쪽으로 조금 더 등을 하면서 많은 시간을 보내기 쉽습니다.\nggannotate 패키지 (Cowgill and Helveston 2021)는 당신의 삶을 조금 더 쉽게 만들어 줄 것입니다. 주석을 원하는 곳에 정확히 배치하는 데 도움이 되는 포인트 앤 클릭 도구입니다! \n\n\n이산형 척도에서 숫자 값을 사용하여 화살표를 배치하려고 할 때 ggplot2가 불평할 것이라고 예상할 수 있지만 놀랍게도 그렇지 않습니다. 팩터는 기본적으로 정렬된 범주이므로 R은 팩터의 첫 번째 수준을 1로, 두 번째 수준을 2로 할당합니다. 즉, 팩터를 숫자 변수로 변환할 수 있습니다. 결과가 항상 예상한 것과 같지 않을 수 있다는 점에 유의하십시오! 차트의 경우 화살표의 끝을 다섯 번째 범주인 22.5 값 바로 아래에 배치하고 싶으므로 y 및 yend 값은 5보다 약간 아래입니다.\n너비, 색상 및 선의 곡률을 지정하여 선에 몇 가지 추가 스타일을 추가합니다. 선 끝에 화살표를 추가하기 위해 arrow() 함수를 사용합니다. 이 함수를 사용하면 화살표의 전체 길이가 아닌 화살촉의 길이를 정의할 수 있습니다. 또한 유형이 \"closed\"라고 지정하여 화살촉이 채워진 삼각형임을 의미합니다. 기본값은 \"open\"이며 화살표 크기가 작을 때 덜 명확해 보이는 경우가 있습니다. \n\narrow_plot &lt;- annotated_plot +\n  annotate(\n    geom = \"curve\",\n    x = 15.1,\n    xend = 16,\n    y = 4.6,\n    yend = 4.9,\n    linewidth = 0.3,\n    color = text_col,\n    curvature = 0.5,\n    arrow = arrow(\n      length = unit(1.5, \"mm\"), type = \"closed\"\n    )\n  )\narrow_plot\n\n\n\n\n\n\nFigure 7.9: 반려묘의 나이와 실내에서 보내는 평균 시간 간의 관계를 보여주는 버블 플롯. 오른쪽 상단의 텍스트 상자는 ’Boots’라는 가장 나이 많은 고양이를 나타내며, 이 고양이에 대한 데이터 포인트를 가리키는 화살표가 있습니다.\n\n\n\n\n\n\n\n\n\n\nTip 7.4: 데이터의 관측치 강조 표시\n\n\n\nChapter 3 에서는 gghighlight (Yutani 2023)를 사용하여 패면 플롯의 개별 선을 강조 표시했습니다. gghighlight를 사용하여 보다 자동화된 방식으로 개별 데이터 포인트를 강조 표시하고 레이블을 지정할 수도 있습니다. 더 사용자 정의되고 미학적으로 즐거운 주석을 희생하더라도 일부 조건에 따라 여러 지점을 강조 표시하려는 경우 더 쉬운 접근 방식이 될 수 있습니다.\n\n\n\n7.4.4 텍스트 추가\n차트에 다른 더 표준적인 텍스트를 추가하고 제목과 부제목 텍스트를 저장할 변수를 정의해 보겠습니다. 부제목의 경우 다시 glue()를 사용하여 Chapter 2 에서 했던 것처럼 미리 계산된 값을 데이터에서 텍스트로 붙여넣어 데이터 기반 접근 방식을 취합니다. \n\n# title text\ntitle &lt;- \"Do older cats spend more time indoors?\"\n# subtitle text\nperc_indoor &lt;- round(100 * sum(cats_reference$hrs_indoors == \"22.5\") / nrow(cats_reference))\nst &lt;- glue(\"Around {perc_indoor}% of cats in the study spend on average 22.5 hours per day indoors! There is a slight trend for cats to spend more time indoors as they age.\")\n\n\n7.4.5 사용자 정의 캡션 함수\nChapter 6 에서 source_caption() 함수를 구성할 때 차트 작성자의 이름(예: \"N. Rennie\")을 나타내는 문자열만 전달했습니다. 더 유용한 방법은 차트 작성자에게 연락하거나 더 잘 식별할 수 있는 방법입니다. 이렇게 하면 독자가 원하는 경우 데이터나 코드를 파헤칠 수 있고 차트 작성자가 자신의 작업에 대한 다른 예시로 더 쉽게 연결할 수 있습니다. 예를 들어 웹사이트에서 소셜 미디어 프로필로 연결하는 것은 매우 일반적입니다. 정적 차트(Rennie 2023a)에 대해서도 매우 유사한 작업을 수행할 수 있습니다.\n단순히 이름이 있는 문자열을 전달하는 대신 소셜 미디어 아이콘과 관련 핸들이 포함된 캡션을 만들 것입니다. 이것은 여러 다른 플롯(그리고 아마도 다른 소셜 미디어 세부 정보가 있는 플롯)에 추가할 가능성이 높은 항목이므로 일부 사용자 입력을 기반으로 이 캡션을 생성하는 함수를 만들 것입니다.\n하지만 먼저 함수 작성을 시작하기 전에 소셜 미디어 아이콘을 얻어야 합니다! Chapter 6 에서 했던 것처럼 다시 Font Awesome 아이콘 (Font Awesome 2024)을 사용하지만 이번에는 Solid 아이콘 대신 Brand 팩 아이콘을 사용합니다. 여기서 아이콘을 로드하는 과정은 Chapter 6 에서 Font Awesome 아이콘을 로드하는 것과 본질적으로 동일합니다. fontawesome.com/download에서 무료로 사용할 수 있는 아이콘의 zip 파일을 다운로드하고 Free for Desktop 옵션을 선택하면 Font-Awesome-6-Brands-Regular-400.otf라는 파일이 표시됩니다. 다시 말하지만, fonts라는 프로젝트 폴더와 같이 다시 찾을 수 있는 곳에 이 .otf 파일을 저장하십시오. \n이전과 마찬가지로 sysfonts (Qiu 2022)의 font_add()를 사용하여 글꼴을 R로 로드합니다. family 인수는 R에서 글꼴을 참조하는 방법이고 regular 인수는 .otf 파일의 파일 경로입니다. 그런 다음 showtext_auto() 및 showtext_opts()를 사용하여 showtext를 사용하여 텍스트를 렌더링하고 원하는 해상도를 설정합니다. \n\nfont_add(\n  family = \"Font Awesome 6 Brands\",\n  regular = \"fonts/Font-Awesome-6-Brands-Regular-400.otf\",\n)\n\n\n\n\n\n\n\nTip 7.5: R의 Font Awesome 아이콘\n\n\n\nfontawesome 패키지 (Iannone 2024)를 사용하면 R로 만든 R Markdown, Quarto 및 Shiny 출력에서 Font Awesome 아이콘을 더 쉽게 사용할 수 있습니다. 패키지를 사용하면 아이콘을 SVG 또는 PNG 이미지로 삽입할 수 있으며 Shiny 애플리케이션에서 &lt;i&gt;&lt;/i&gt; 태그를 사용하여 아이콘을 삽입하는 HTML 코드를 작성하는 기능을 제공합니다.\n\n\n이제 소셜 미디어 아이콘 추가로 돌아가서 우리를 위해 캡션을 작성할 social_caption() 함수를 만들어 보겠습니다. 어떤 옵션을 사용자가 지정해야 하는지 생각하는 것부터 시작합니다:\n\n포함할 소셜 미디어 아이콘과 핸들의 선택. 사용자가 특정 소셜 미디어 아이콘과 함께 사용되는 핸들을 업데이트할 수 있기를 원합니다(예: 업무용 계정과 개인용 계정 간 전환).\n또한 사용자가 원할 경우 특정 소셜 미디어 아이콘을 끄는 옵션도 제공해야 합니다.\n아이콘과 글꼴의 색상. 이들을 동일하게 강제하거나 다르게 허용할 수 있습니다.\n비 아이콘 텍스트, 즉 소셜 미디어 핸들의 서체. 사용자가 차트의 나머지 텍스트와 일치하도록 서체 선택을 전달할 수 있기를 원합니다.\n\n이 예제 social_caption() 함수를 구성하기 위해 LinkedIn, GitHub 및 BlueSky용 아이콘을 포함할 것입니다. 다른 아이콘을 포함하도록 선택할 수도 있습니다. 각 소셜 미디어 사이트에 대해 함수에 하나의 인수를 사용하며, 기본값은 가장 자주 사용될 핸들로 지정됩니다. 또한 아이콘과 글꼴 색상을 제어하기 위해 icon_color와 font_color라는 두 가지 인수를 추가합니다. 둘 다 기본적으로 \"black\"으로 설정되어 있으며 이는 다른 ggplot2 텍스트와 일치합니다.\n함수 내에서 소셜 미디어 핸들에 대해 사용자가 입력한 값을 올바른 아이콘에 매핑하는 data.frame을 구성하는 것으로 시작합니다. ggtext (C. O. Wilke and Wiernik 2022)를 사용하여 캡션을 처리할 것입니다. 즉, HTML 코드를 작성하여 아이콘, 텍스트 및 텍스트 서식을 함께 결합할 수 있습니다. 또한 일부 HTML 코드에 전달할 수 있도록 각 소셜 미디어 아이콘에 매핑되는 유니코드 문자를 알아야 합니다.\nGitHub 아이콘을 예로 들어 보겠습니다. fontawesome.com/icons에서 원하는 아이콘을 검색하면 화면 오른쪽 상단에 유니코드 아이콘이 표시됩니다(Google 검색이나 ChatGPT도 똑같이 잘 작동할 것입니다!). GitHub 아이콘의 유니코드는 f09b이며 HTML 코드에서 이를 사용하려면 &#xf09b로 쓸 수 있습니다 (Rennie 2023a). 사용하려는 다른 아이콘에 대해서도 이 과정을 반복합니다.\n그런 다음 na.omit()을 사용하여 NA 값이 포함된 data.frame의 행을 제거합니다. 각 소셜 미디어 핸들에 대한 기본 인수를 설정했으므로 기본적으로 data.frame에도 기본값이 없을 것입니다. 그러나 사용자가 캡션에서 특정 아이콘과 핸들을 제외하려는 경우 해당 인수 함수에서 NA로 설정하여 제외할 수 있습니다.\n여러 아이콘과 핸들을 결합하는 함수를 즉시 작성하려고 하기보다는 하나의 아이콘과 하나의 소셜 미디어 핸들을 결합하는 함수를 작성하는 것으로 시작하겠습니다. 내부 함수인 glue_icon()은 glue()를 사용하여 아이콘 유니코드와 스니펫 내의 텍스트를 결합하여 스타일이 지정된 HTML 스니펫을 만듭니다. HTML 스니펫에는 두 개의 스팬이 포함되어 있습니다. 하나는 아이콘용( \"Font Awesome 6 Brands\" 글꼴과 선택한 icon_color로 스타일 지정)이고 다른 하나는 소셜 미디어 텍스트용(선택한 font_family 및 font_color로 스타일 지정)입니다. 또한 &nbsp;를 사용하여 아이콘과 핸들 사이에 공백을 추가하고, &emsp;를 사용하여 여러 아이콘을 구분하기 위해 끝에 더 큰 공백을 추가합니다. 이들은 HTML에 공백을 추가하기 위한 특수 문자열입니다. 따옴표 안에 따옴표, 그 안에 또 따옴표가 있으므로 \\\"를 사용하여 내부 따옴표를 이스케이프해야 합니다. \n마지막으로 purrr (Wickham and Henry 2023)의 map2()를 사용하여 icon_df 데이터의 각 행에 glue_icon()을 적용합니다. 그런 다음 purrr의 as_vector()를 사용하여 결과 리스트를 벡터로 축소합니다. 그런 다음 stringr의 str_flatten()을 사용하여 벡터를 단일 문자열로 더 축소합니다. 이 병합된 문자열이 소셜 미디어 캡션입니다. \n\nsocial_caption &lt;- function(linkedin = \"nicola-rennie\",\n                           bluesky = \"nrennie\",\n                           github = \"nrennie\",\n                           icon_color = \"black\",\n                           font_color = \"black\",\n                           font_family = \"sans\") {\n  icon_df &lt;- data.frame(\n    icons = c(\"&#xf08c;\", \"&#xe671;\", \"&#xf09b;\"),\n    socials = c(linkedin, bluesky, github)\n  )\n  icon_df &lt;- na.omit(icon_df)\n  \n  # Inner function to join icon and text\n  glue_icon &lt;- function(icon, social) {\n    glue::glue(\n      \"&lt;span style='font-family:\\\"Font Awesome 6 Brands\\\"; color:{icon_color};'&gt;{icon} &lt;/span&gt;&nbsp; &lt;span style='font-family:{font_family}; color:{font_color};'&gt;{social} &lt;/span&gt;&emsp;\"\n    )\n  }\n  \n  # Map over all icons\n  caption &lt;- purrr::map2(\n    .x = icon_df$icons,\n    .y = icon_df$socials,\n    .f = ~glue_icon(.x, .y)\n  ) |&gt; \n    purrr::as_vector() |&gt; \n    stringr::str_flatten()\n\n  return(caption)\n}\n\nsource_caption() 함수를 정의한 Chapter 6 에서처럼 함수 정의 내에서 네임스페이싱을 사용하여 나중에 이 함수를 재사용하기 쉽게 만듭니다. 그런 다음 social_caption() 함수를 사용하여 이전에 정의한 색상 및 글꼴 변수를 관련 인수에 전달할 수 있습니다:\n\nsocial &lt;- social_caption(\n  icon_color = highlight_col,\n  font_color = text_col,\n  font_family = body_font\n)\nsocial\n\n[1] \"&lt;span style='font-family:\\\"Font Awesome 6 Brands\\\"; color:#914D76;'&gt;&#xf08c; &lt;/span&gt;&nbsp; &lt;span style='font-family:Ubuntu; color:#2F4F4F;'&gt;nicola-rennie &lt;/span&gt;&emsp;&lt;span style='font-family:\\\"Font Awesome 6 Brands\\\"; color:#914D76;'&gt;&#xe671; &lt;/span&gt;&nbsp; &lt;span style='font-family:Ubuntu; color:#2F4F4F;'&gt;nrennie &lt;/span&gt;&emsp;&lt;span style='font-family:\\\"Font Awesome 6 Brands\\\"; color:#914D76;'&gt;&#xf09b; &lt;/span&gt;&nbsp; &lt;span style='font-family:Ubuntu; color:#2F4F4F;'&gt;nrennie &lt;/span&gt;&emsp;\"\n\n\nsocial_caption()의 출력은 수동으로 입력하기 꽤 까다로웠을 이해하기 힘든 문자열임을 알 수 있습니다. 우리를 위해 이 함수를 만들어서 정말 다행입니다! 그런 다음 Chapter 6 의 source_caption() 함수를 사용하고 social_caption() 함수의 출력을 graphic 인수에 전달할 수 있습니다. 또한 &lt;br&gt;을 사용하여 별도의 줄에 배치합니다. \n\ncap &lt;- source_caption(\n  source = \"McDonald JL, Cole H. 2020. doi.org/10.5441/001/1.pf315732.\",\n  sep = \"&lt;br&gt;\",\n  graphic = social\n)\n\n그런 다음 변수를 title, subtitle 및 caption 인수에 전달하여 labs() 함수를 사용하여 평소와 같이 텍스트를 Figure 7.9 에 추가할 수 있습니다. 또한 x축과 y축에 대한 제목에 더 유익한 텍스트를 추가하고 단위도 지정합니다. \n\n\n\n\n\n\nTip 7.6: 개인 브랜딩 추가\n\n\n\nggbranding 패키지 (Noblet 2025)를 사용하면 문자열을 직접 구성하지 않고도 플롯에 속성 표시를 위한 아이콘을 추가할 수 있습니다.\n\n\n기본적으로 범례 제목은 범례의 미학에 매핑된 열의 이름일 뿐입니다. 여기서 size에 매핑된 열은 n이며 범례 이름은 별로 유익하지 않습니다. 범례 이름을 편집하는 방법에는 여러 가지가 있습니다. 앞서 scale_size()를 사용할 때 name 인수를 지정할 수 있었습니다. 대안은 labs() 함수를 사용하는 것입니다. x와 y뿐만 아니라 모든 미학에 대한 제목을 labs()에서 지정할 수 있습니다. 원하는 범례 제목을 size에 전달하기만 하면 됩니다.\n\ntext_plot &lt;- arrow_plot +\n  labs(\n    title = title,\n    subtitle = st,\n    caption = cap,\n    x = \"Age of cat (years)\",\n    y = \"Average time spent indoors (hours per day)\",\n    size = \"Number of cats\"\n  )\ntext_plot\n\n\n\n\n\n\nFigure 7.10: 반려묘의 나이와 실내에서 보내는 평균 시간 간의 관계를 보여주는 버블 플롯. 제목, 부제목 및 캡션이 추가되었지만 캡션은 올바른 형식이 아니라 원시 HTML 코드로 나타납니다.\n\n\n\n\n\n7.4.6 테마 조정\nFigure 7.10 에서 우리가 열심히 만든 소셜 미디어 캡션이 제대로 포맷되지 않았고 단순히 우리가 작성한 원시 HTML 코드로 나타나는 것을 알 수 있습니다. 우리가 기대한 대로 보이지 않는 이유는 ggplot2가 기본적으로 HTML 코드를 파싱하는 방법을 이해하지 못하기 때문입니다. 바로 ggtext가 필요한 곳입니다. ggtext는 텍스트 요소 내에서 Markdown 및 HTML 사용에 대한 지원을 포함하여 ggplot2의 텍스트 렌더링을 개선하도록 설계되었습니다. 아직 캡션에 ggtext를 실제로 사용하지 않았습니다! Chapter 6 의 marquee와 마찬가지로 theme()의 plot.caption 인수를 편집하여 HTML 코드를 처리하도록 ggtext를 사용하도록 지시해야 합니다. element_textbox_simple()을 사용하여 이 작업을 수행할 수 있습니다(어쨌든 부제목 텍스트를 래핑하기 위해 수행해 왔음). ggplot2의 element_text()와 유사한 인수를 가지고 있지만 여기서는 추가 인수를 지정할 필요가 없습니다. 매우 유사하게 작동하지만 기본값이 약간 다른 element_textbox()를 사용하거나 원한다면 element_markdown()을 사용할 수도 있습니다 (Rennie 2023a). \n이전 장에서 했던 것처럼 theme_minimal()을 기본 테마로 적용한 후 theme() 함수를 사용하여 몇 가지 추가 편집을 수행하여 플롯과 캡션 텍스트를 패널이 아닌 플롯에 정렬하고, 텍스트 색상을 변경하고, 배경색을 편집합니다. 또한 범례를 몇 가지 조정합니다. 현재 오른쪽 공간을 꽤 많이 차지하고 있지만 플롯 영역 자체 내에는 충분한 공간이 있습니다. legend.position = \"inside\"를 사용하여 범례를 패널 영역 내부로 이동하고 legend.position.inside를 사용하여 위치시키고 싶은 좌표를 지정합니다. 범례 위치 지정의 경우 c(0, 0)은 왼쪽 하단 모서리이고 c(1, 1)은 오른쪽 상단 모서리입니다. 범례와 데이터 포인트를 쉽게 구별할 수 있도록 주위에 어두운 윤곽선을 그립니다. \n\ntext_plot +\n  theme_minimal(\n    base_family = body_font,\n    base_size = 6.5\n  ) +\n  theme(\n    # legend styling\n    legend.position = \"inside\",\n    legend.position.inside = c(0.9, 0.25),\n    legend.background = element_rect(\n      fill = alpha(bg_col, 0.6),\n      color = text_col\n    ),\n    # text\n    text = element_text(color = text_col),\n    plot.title = element_text(\n      family = title_font,\n      face = \"bold\",\n      size = rel(1.5)\n    ),\n    plot.subtitle = element_textbox_simple(family = korean_font),\n    plot.caption = element_textbox_simple(family = korean_font),\n    plot.title.position = \"plot\",\n    plot.caption.position = \"plot\",\n    # background and grid\n    plot.margin = margin(5, 5, 5, 5),\n    panel.grid.minor = element_blank(),\n    plot.background = element_rect(\n      fill = bg_col,\n      color = bg_col\n    ),\n    panel.background = element_rect(\n      fill = bg_col,\n      color = bg_col\n    )\n  )\n\n\n\n\n\n\nFigure 7.11: 반려묘의 나이와 실내에서 보내는 평균 시간 간의 관계를 보여주는 버블 플롯. 이제 텍스트가 모두 올바르게 포맷되었으며 범례는 플롯과 명확한 테두리가 있는 삽입 그림으로 나타납니다.\n\n\n\n\n마지막으로 ggsave()를 사용하여 차트를 PNG 형식으로 저장할 수 있습니다: \n\nggsave(\n  filename = \"cats.png\",\n  width = 5,\n  height = 0.75 * 5\n)",
    "crumbs": [
      "아이콘, 글꼴 및 텍스트 활용",
      "<span class='chapter-number'>7</span>  <span class='chapter-title'>고양이: **`ggtext`**를 사용한 데이터 기반 주석</span>"
    ]
  },
  {
    "objectID": "cats.html#회고",
    "href": "cats.html#회고",
    "title": "7  고양이: ggtext를 사용한 데이터 기반 주석",
    "section": "\n7.5 회고",
    "text": "7.5 회고\n이것은 매우 깔끔해 보이는 차트이며 주석이 추가되었지만 너무 복잡하거나 복잡해 보이지 않습니다. 아마도 가장 어린 고양이나 실내에서 가장 적은 시간을 보낸 고양이를 강조하기 위해 추가 주석을 (조심스럽게) 추가할 수 있습니다.\n범례 상자와 주석 상자는 현재 꽤 다르게 보입니다. 범례 상자는 둥근 모서리에 비해 사각형 모서리를 가지고 있으며 윤곽선 색상이 더 어둡습니다. 일관성을 위해 두 상자가 동일한 스타일로 표시되면 더 보기에 좋을 것입니다.\n이 차트에서는 두 가지 변수만 고려했지만 더 탐색할 수 있는 다른 많은 변수가 있습니다. GPS 데이터와 고양이 특성 데이터를 결합하는 것이 특히 유익할 것입니다. Figure 7.11 에서는 고양이 나이와 고양이가 실내에서 보내는 시간 사이의 (약한) 관계만 전달합니다. 둘 다 고양이 주인이 보고합니다. 하지만 고양이가 실내에서 보내는 시간이 반드시 고양이의 활동 수준에 대해 많은 것을 말해주지는 않습니다. 집에 있을 때 하루 종일 잠을 잘까요? 실내에 없을 때는 뛰어다니나요, 아니면 단순히 햇볕을 쬐고 있나요? GPS 데이터를 결합했다면 아마도 나이와 활동 수준 간의 관계를 보여주는 더 유익한 플롯을 만들 수 있었을 것입니다.\n이 시각화의 원본 버전을 개발하는 과정에서 생성된 각 플롯은 camcorder를 사용하여 캡처되었으며 아래 gif에 표시됩니다. camcorder를 데이터 시각화 프로세스에서 사용하는 방법에 대해 자세히 알아보려면 Section 14.1 를 참조하십시오.\n원본 버전은 나이와 지상 속도 간의 관계를 살펴봅니다(데이터의 신뢰성 문제에도 불구하고).",
    "crumbs": [
      "아이콘, 글꼴 및 텍스트 활용",
      "<span class='chapter-number'>7</span>  <span class='chapter-title'>고양이: **`ggtext`**를 사용한 데이터 기반 주석</span>"
    ]
  },
  {
    "objectID": "cats.html#연습-문제",
    "href": "cats.html#연습-문제",
    "title": "7  고양이: ggtext를 사용한 데이터 기반 주석",
    "section": "\n7.6 연습 문제",
    "text": "7.6 연습 문제\n\ntag_id 열을 사용하여 cats와 cats_reference 데이터 세트를 결합하십시오. 두 데이터 세트를 결합하는 방법을 잘 모르는 경우 예제는 Chapter 11 를 참조하십시오.\n실내에서 보내는 시간을 y축에 그리는 대신 고양이의 평균 지상 속도를 플롯하십시오(값이 매우 비정상적이라는 것은 무시하십시오!).\n평균 속도가 가장 높은 고양이를 강조하는 또 다른 주석을 추가하십시오.\n\n\n\n\n\nAnscombe, F. J. 1973. “Graphs in Statistical Analysis.” The American Statistician 27 (1): 17–21. https://doi.org/10.1080/00031305.1973.10478966.\n\n\nAphalo, Pedro J. 2024. Learn R: As a Language. Second Edition. CRC Press. https://www.learnr-book.info/.\n\n\nAuguie, Baptiste. 2019. egg: Extensions for ’ggplot2’: Custom Geom, Custom Themes, Plot Alignment, Labelled Panels, Symmetric Scales, and Fixed Panel Size. https://CRAN.R-project.org/package=egg.\n\n\nBarthelme, Simon. 2024. imager: Image Processing Library Based on ’CImg’. https://CRAN.R-project.org/package=imager.\n\n\nBrand, Teun van den. 2025. “ggplot2 4.0.0.” https://www.tidyverse.org/blog/2025/09/ggplot2-4-0-0/.\n\n\nBridson, Robert. 2007. “Fast Poisson Disk Sampling in Arbitrary Dimensions.” In ACM SIGGRAPH 2007 Sketches. SIGGRAPH ’07. New York, NY, USA: Association for Computing Machinery. https://doi.org/10.1145/1278780.1278807.\n\n\nBrown, Mark J.F., and Paxton, Robert J. 2009. “The Conservation of Bees: A Global Perspective.” Apidologie 40 (3): 410–16. https://doi.org/10.1051/apido/2009019.\n\n\nCameron, Allan, and Teun van den Brand. 2024. geomtextpath: Curved Text in ’ggplot2’. https://CRAN.R-project.org/package=geomtextpath.\n\n\nCARTO. 2016. ’CARTOColors’ Palettes. https://carto.com/carto-colors/.\n\n\nChang, Winston. 2023. extrafont: Tools for Using Fonts. https://CRAN.R-project.org/package=extrafont.\n\n\nCheung, Foo. 2021. dumbbell: Displaying Changes Between Two Points Using Dumbbell Plots. https://CRAN.R-project.org/package=dumbbell.\n\n\nCowgill, Matt, and John Helveston. 2021. ggannotate: Interactively Annotate ggplot2 Plots. https://github.com/MattCowgill/ggannotate.\n\n\nCsárdi, Gábor, and Jim Hester. 2024. pak: Another Approach to Package Installation. https://CRAN.R-project.org/package=pak.\n\n\nCsárdi, Gábor, Jim Hester, Hadley Wickham, Winston Chang, Martin Morgan, and Dan Tenenbaum. 2024. remotes: R Package Installation from Remote Repositories, Including ’GitHub’. https://CRAN.R-project.org/package=remotes.\n\n\nDomin, Iaroslav. 2024. ggview: ’ggplot2’ Picture Previewer. https://CRAN.R-project.org/package=ggview.\n\n\nEngler, Jan Broder. 2024. “Tidyplots Empowers Life Scientists with Easy Code-Based Data Visualization.” bioRxiv. https://doi.org/10.1101/2024.11.08.621836.\n\n\nFC, Mike, Trevor L. Davis, and ggplot2 authors. 2024. ggpattern: ’ggplot2’ Pattern Geoms. https://CRAN.R-project.org/package=ggpattern.\n\n\nFlaticon.com. 2024. “Wind Power Flaticon.” https://www.flaticon.com/free-icon/wind-power_5670189.\n\n\nFont Awesome. 2024. “Font Awesome 6.” https://fontawesome.com/.\n\n\nFranconeri, Steven L., Lace M. Padilla, Priti Shah, Jeffrey M. Zacks, and Jessica Hullman. 2021. “The Science of Visual Data Communication: What Works.” Psychological Science in the Public Interest 22 (3): 110–61. https://doi.org/10.1177/15291006211051956.\n\n\nGarnier, Simon, Ross, Noam, Rudis, Robert, Camargo, et al. 2024. viridis(Lite) - Colorblind-Friendly Color Maps for R. https://doi.org/10.5281/zenodo.4679423.\n\n\nGohel, David, and Panagiotis Skintzos. 2024. ggiraph: Make ’ggplot2’ Graphics Interactive. https://CRAN.R-project.org/package=ggiraph.\n\n\nGovernment Analysis Function. 2021. “Data Visualisation: Colours.” https://analysisfunction.civilservice.gov.uk/policy-store/data-visualisation-colours-in-charts/.\n\n\nHafen, Ryan. 2023. geofacet: ’ggplot2’ Faceting Utilities for Geographical Data. https://CRAN.R-project.org/package=geofacet.\n\n\nHarmon, Jon. 2024. Web APIs with R. CRC Press. https://wapir.io/.\n\n\nHester, Jim, Florent Angly, Russ Hyde, Michael Chirico, Kun Ren, Alexander Rosenstock, and Indrajeet Patil. 2024. lintr: A ’Linter’ for R Code. https://CRAN.R-project.org/package=lintr.\n\n\nHester, Jim, and Jennifer Bryan. 2024. glue: Interpreted String Literals. https://glue.tidyverse.org/.\n\n\nHughes, Ellis. 2022a. camcorder: Record Your Plot History. https://CRAN.R-project.org/package=camcorder.\n\n\n———. 2022b. tidytuesdayR: Access the Weekly ’TidyTuesday’ Project Dataset. https://CRAN.R-project.org/package=tidytuesdayR.\n\n\nHvitfeldt, Emil. 2021. paletteer: Comprehensive Collection of Color Palettes. https://github.com/EmilHvitfeldt/paletteer.\n\n\n———. 2025. animalshelter: Animal Shelter Data. https://github.com/EmilHvitfeldt/animalshelter.\n\n\nIannone, Richard. 2024. fontawesome: Easily Work with ’Font Awesome’ Icons. https://CRAN.R-project.org/package=fontawesome.\n\n\nInternet Assigned Numbers Authority. 2023. “The tz Database: Time Zone and Daylight Saving Time Data.” Internet Assigned Numbers Authority. https://data.iana.org/time-zones/tz-link.html.\n\n\nJax (@lysrix). 2017. “Lemur.” https://unsplash.com/photos/red-and-white-rodent-h5xrh3CNT-k.\n\n\nKays, R., R. R. Dunn, A. W. Parsons, B. Mcdonald, T. Perkins, S. A. Powers, L. Shell, et al. 2020. “The Small Home Ranges and Large Local Ecological Impacts of Pet Cats.” Animal Conservation 23 (5): 516–23. https://doi.org/10.1111/acv.12563.\n\n\nKeyes, David. 2024. R for the Rest of Us: A Statistics-Free Introduction. No Starch Press. https://book.rfortherestofus.com/.\n\n\nLong Beach Animal Shelter. 2025. “Animal Shelter Data.” City of Long Beach Animal Care Services. https://data.longbeach.gov/explore/dataset/animal-shelter-intakes-and-outcomes/information/.\n\n\nLucchesi, Lydia, and Petra Kuhnert. 2020. Vizumap: Visualizing Uncertainty in Spatial Data. https://github.com/lydialucchesi/Vizumap.\n\n\nMapping Museums. 2021. “Mapping Museums Data.” www.mappingmuseums.org.\n\n\nMassicotte, Philippe, and Andy South. 2023. rnaturalearth: World Map Data from Natural Earth. https://docs.ropensci.org/rnaturalearth/.\n\n\nMatejka, Justin, and George Fitzmaurice. 2017. “Same Stats, Different Graphs: Generating Datasets with Varied Appearance and Identical Statistics Through Simulated Annealing.” In, 1290–94. https://doi.org/10.1145/3025453.3025912.\n\n\nMcDonald, J. L., and H. Cole. 2020. “Data from: The Small Home Ranges and Large Local Ecological Impacts of Pet Cats [United Kingdom].” Movebank data repository. https://doi.org/doi:10.5441/001/1.pf315732.\n\n\nMcWhite, Claire D., and Claus O. Wilke. 2024. colorblindr: Simulate colorblindness in R figures. https://github.com/clauswilke/colorblindr.\n\n\nMid-Atlantic Apiculture Research and Extension Consortium. 2024. “Seasonal Cycles of Activities in Colonies.” https://canr.udel.edu/maarec/honey-bee-biology/seasonal-cycles-of-activities-in-colonies/.\n\n\nmikefc. 2024. poissoned: Tileable Poisson Disc Sampling. https://github.com/coolbutuseless/poissoned.\n\n\nMills, Blake Robert. 2022. MetBrewer: Color Palettes Inspired by Works at the Metropolitan Museum of Art. https://CRAN.R-project.org/package=MetBrewer.\n\n\nMIT Election Data and Science Lab. 2017. “U.S. House 1976–2022.” Harvard Dataverse. https://doi.org/10.7910/DVN/IG0UN2.\n\n\nMüller, Kirill, and Lorenz Walthert. 2023. styler: Non-Invasive Pretty Printing of R Code. https://CRAN.R-project.org/package=styler.\n\n\nMüller, Kirill, and Hadley Wickham. 2023. tibble: Simple Data Frames. https://CRAN.R-project.org/package=tibble.\n\n\nMuth, Lisa. 2018. “An Alternative to Pink & Blue: Colors for Gender Data.” https://blog.datawrapper.de/gendercolor/.\n\n\nNatural Resources Canada. 2021. “Canadian Wind Turbine Database.” Natural Resources Canada (Government of Canada). https://open.canada.ca/data/en/dataset/79fdad93-9025-49ad-ba16-c26d718cc070.\n\n\nNoblet, Guillaume. 2025. ggbranding: Add Personal Branding to ’ggplot2’ Charts. https://github.com/gnoblet/ggbranding.\n\n\nNowosad, Jakub. 2018. ’CARTOColors’ Palettes. https://jakubnowosad.com/rcartocolor/.\n\n\nOoms, Jeroen. 2024. magick: Advanced Graphics and Image-Processing in R. https://CRAN.R-project.org/package=magick.\n\n\nOur World in Data. 2019. “Medical Doctors Per 1,000 People.” https://ourworldindata.org/grapher/physicians-per-1000-people.\n\n\nPebesma, Edzer. 2018. “Simple Features for R: Standardized Support for Spatial Vector Data.” The R Journal 10 (1): 439–46. https://doi.org/10.32614/RJ-2018-009.\n\n\nPedersen, Thomas Lin. 2022. ggforce: Accelerating ’ggplot2’. https://CRAN.R-project.org/package=ggforce.\n\n\n———. 2024. patchwork: The Composer of Plots. https://CRAN.R-project.org/package=patchwork.\n\n\n———. 2025. “Fonts in R.” https://www.tidyverse.org/blog/2025/05/fonts-in-r/.\n\n\nPedersen, Thomas Lin, and Martin Mitáš. 2024. marquee: Markdown Parser and Renderer for R Graphics. https://CRAN.R-project.org/package=marquee.\n\n\nPedersen, Thomas Lin, Jeroen Ooms, and Devon Govett. 2024. systemfonts: System Native Font Finding. https://CRAN.R-project.org/package=systemfonts.\n\n\nPedersen, Thomas Lin, and Maxim Shemanarev. 2023. ragg: Graphic Devices Based on AGG. https://CRAN.R-project.org/package=ragg.\n\n\nPLDB contributors. 2022. “PLDB: A Programming Language Database.” PLDB. https://pldb.com.\n\n\nQiu, Yixuan. 2022. sysfonts: Loading Fonts into R. https://CRAN.R-project.org/package=sysfonts.\n\n\n———. 2023. showtext: Using Fonts More Easily in R Graphs. https://CRAN.R-project.org/package=showtext.\n\n\nR Core Team. 2024. R: A Language and Environment for Statistical Computing. Vienna, Austria: R Foundation for Statistical Computing. https://www.R-project.org/.\n\n\nR4DS Online Learning Community. 2023. “Tidy Tuesday: A Weekly Social Data Project.” https://github.com/rfordatascience/tidytuesday.\n\n\nRennie, Nicola. 2023a. “Adding Social Media Icons to Charts with ggplot2.” https://nrennie.rbind.io/blog/adding-social-media-icons-ggplot2/.\n\n\n———. 2023b. “Creating Template Files with R.” https://nrennie.rbind.io/blog/script-templates-r/.\n\n\n———. 2023c. “Four Ways to Streamline Your R Workflows.” https://nrennie.rbind.io/blog/four-ways-streamline-r-workflows/.\n\n\n———. 2024a. ggtextcircle: Circular Text in ’ggplot2’. https://github.com/nrennie/ggtextcircle.\n\n\n———. 2024b. nobel: Access data from the Nobel Prize API via R. https://github.com/nrennie/nobel.\n\n\n———. 2024c. “tidytuesday.” GitHub Repository. GitHub. https://github.com/nrennie/tidytuesday.\n\n\nRennie, Nicola, and Andreas Krause. 2024. “Presenting data the Significance way - Part 1.” Significance 21 (3): 36–39. https://doi.org/10.1093/jrssig/qmae045.\n\n\nReynolds, Gina. 2025. “Everyday ggplot2 extension.” https://evamaerey.github.io/everyday_ggplot2_extension/.\n\n\nRStudio. 2018a. “forcats Hex Sticker.” https://github.com/rstudio/hex-stickers/blob/main/PNG/forcats.png.\n\n\n———. 2018b. “ggplot2 Hex Sticker.” https://github.com/rstudio/hex-stickers/blob/main/PNG/ggplot2.png.\n\n\n———. 2018c. “purrr Hex Sticker.” https://github.com/rstudio/hex-stickers/blob/main/PNG/purrr.png.\n\n\n———. 2018d. “readr Hex Sticker.” https://github.com/rstudio/hex-stickers/blob/main/PNG/readr.png.\n\n\n———. 2018e. “tibble Hex Sticker.” https://github.com/rstudio/hex-stickers/blob/main/PNG/tibble.png.\n\n\n———. 2020a. “dplyr Hex Sticker.” https://github.com/rstudio/hex-stickers/blob/main/PNG/dplyr.png.\n\n\n———. 2020b. “stringr Hex Sticker.” https://github.com/rstudio/hex-stickers/blob/main/PNG/stringr.png.\n\n\n———. 2020c. “tidyr Hex Sticker.” https://github.com/rstudio/hex-stickers/blob/main/PNG/tidyr.png.\n\n\nRudis, Bob, Ben Bolker, and Jan Schulz. 2017. ggalt: Extra Coordinate Systems, ’Geoms’, Statistical Transformations, Scales and Fonts for ’ggplot2’. https://CRAN.R-project.org/package=ggalt.\n\n\nRudis, Bob, and Dave Gandy. 2023. waffle: Create Waffle Chart Visualizations. https://CRAN.R-project.org/package=waffle.\n\n\nSarkar, Deepayan. 2008. Lattice: Multivariate Data Visualization with r. New York: Springer. http://lmdvr.r-forge.r-project.org.\n\n\nSchauberger, Philipp, and Alexander Walker. 2023. openxlsx: Read, Write and Edit xlsx Files. https://CRAN.R-project.org/package=openxlsx.\n\n\nScheuch, Christoph. 2025. owidapi: Access the Our World in Data Chart API. https://doi.org/10.32614/CRAN.package.owidapi.\n\n\nSchloerke, Barret, Di Cook, Joseph Larmarange, Francois Briatte, Moritz Marbach, Edwin Thoen, Amos Elberg, and Jason Crowley. 2024. GGally: Extension to ’ggplot2’. https://CRAN.R-project.org/package=GGally.\n\n\nSchloss, Karen B., Connor C. Gramazio, Allison T. Silverman, Madeline L. Parker, and Audrey S. Wang. 2019. “Mapping Color to Meaning in Colormap Data Visualizations.” IEEE Transactions on Visualization and Computer Graphics 25 (1): 810–19. https://doi.org/10.1109/TVCG.2018.2865147.\n\n\nShalloway, Bryan. 2023. funspotr: Spot R Functions & Packages. https://CRAN.R-project.org/package=funspotr.\n\n\nSievert, Carson. 2020. Interactive Web-Based Data Visualization with r, Plotly, and Shiny. Chapman; Hall/CRC. https://plotly-r.com.\n\n\nSlowikowski, Kamil. 2024. ggrepel: Automatically Position Non-Overlapping Text Labels with ’ggplot2’. https://CRAN.R-project.org/package=ggrepel.\n\n\nTierney, Nicholas. 2017. “visdat: Visualising Whole Data Frames.” JOSS 2 (16): 355. https://doi.org/10.21105/joss.00355.\n\n\nTierney, Nicholas, and Dianne Cook. 2023. “Expanding Tidy Data Principles to Facilitate Missing Data Exploration, Visualization and Assessment of Imputations.” Journal of Statistical Software 105 (7): 1–31. https://doi.org/10.18637/jss.v105.i07.\n\n\nTol, Paul. 2021. “Paul Tol’s Notes: Colour schemes and templates.” https://sronpersonalpages.nl/~pault/.\n\n\nUnited States Census Bureau. 2021a. “Historical Population Change Data (1910-2020).” https://www.census.gov/data/tables/time-series/dec/popchange-data-text.html.\n\n\n———. 2021b. “State Area Measurements and Internal Point Coordinates.” https://www.census.gov/geographies/reference-files/2010/geo/state-area.html.\n\n\nUnited States Department of Agriculture: Economics, Statistics and Market Information System. 2022. “Honey Bee Colonies.” USDA Economics, Statistics and Market Information System. https://usda.library.cornell.edu/concern/publications/rn301137d.\n\n\nWalker, Kyle. 2022. crsuggest: Obtain Suggested Coordinate Reference System Information for Spatial Data. https://CRAN.R-project.org/package=crsuggest.\n\n\nWanzer, Dana Linnell, Tarek Azzam, Natalie D. Jones, and Darrel Skousen. 2021. “The Role of Titles in Enhancing Data Visualization.” Evaluation and Program Planning 84: 101896. https://doi.org/10.1016/j.evalprogplan.2020.101896.\n\n\nWickham, Hadley. 2016. ggplot2: Elegant Graphics for Data Analysis. Springer-Verlag New York. https://ggplot2.tidyverse.org.\n\n\n———. 2023a. forcats: Tools for Working with Categorical Variables (Factors). https://doi.org/10.32614/CRAN.package.forcats.\n\n\n———. 2023b. stringr: Simple, Consistent Wrappers for Common String Operations. https://CRAN.R-project.org/package=stringr.\n\n\nWickham, Hadley, Mara Averick, Jennifer Bryan, Winston Chang, Lucy D’Agostino McGowan, Romain François, Garrett Grolemund, et al. 2019. “Welcome to the tidyverse.” Journal of Open Source Software 4 (43): 1686. https://doi.org/10.21105/joss.01686.\n\n\nWickham, Hadley, and Jennifer Bryan. 2023. readxl: Read Excel Files. https://CRAN.R-project.org/package=readxl.\n\n\nWickham, Hadley, Mine Çetinkaya-Rundel, and Garrett Grolemund. 2023. R for Data Science. Second Edition. O-Reilly. https://r4ds.hadley.nz.\n\n\nWickham, Hadley, Romain François, Lionel Henry, Kirill Müller, and Davis Vaughan. 2023. dplyr: A Grammar of Data Manipulation. https://CRAN.R-project.org/package=dplyr.\n\n\nWickham, Hadley, and Lionel Henry. 2023. purrr: Functional Programming Tools. https://CRAN.R-project.org/package=purrr.\n\n\nWickham, Hadley, Jim Hester, and Jennifer Bryan. 2024. readr: Read Rectangular Text Data. https://CRAN.R-project.org/package=readr.\n\n\nWickham, Hadley, Thomas Lin Pedersen, and Dana Seidel. 2023. scales: Scale Functions for Visualization. https://CRAN.R-project.org/package=scales.\n\n\nWickham, Hadley, Davis Vaughan, and Maximilian Girlich. 2024. tidyr: Tidy Messy Data. https://CRAN.R-project.org/package=tidyr.\n\n\nWilke, Claus. 2022. ggtextures: Drawing Textured Rectangles and Bars with grid and ggplot2. https://github.com/clauswilke/ggtextures.\n\n\nWilke, Claus O. 2024. cowplot: Streamlined Plot Theme and Plot Annotations for ’ggplot2’. https://wilkelab.org/cowplot/.\n\n\nWilke, Claus O., and Brenton M. Wiernik. 2022. ggtext: Improved Text Rendering Support for ’ggplot2’. https://CRAN.R-project.org/package=ggtext.\n\n\nwww.nobelprize.org. 2024. “Nobel Prize API Version 2.1.” https://api.nobelprize.org/2.1/laureates.\n\n\nYork, Piers. 2023. owidR: Import Data from Our World in Data. https://github.com/piersyork/owidR.\n\n\nYu, Guangchuang. 2023. ggimage: Use Image in ’ggplot2’. https://CRAN.R-project.org/package=ggimage.\n\n\nYutani, Hiroaki. 2023. gghighlight: Highlight Lines and Points in ’ggplot2’. https://CRAN.R-project.org/package=gghighlight.\n\n\nZehr, Sarah M., Richard G. Roach, David Haring, Julie Taylor, Freda H. Cameron, and Anne D. Yoder. 2014. “Life history profiles for 27 strepsirrhine primate taxa generated using captive data from the Duke Lemur Center.” Scientific Data 1 (1). https://doi.org/10.1038/sdata.2014.19.",
    "crumbs": [
      "아이콘, 글꼴 및 텍스트 활용",
      "<span class='chapter-number'>7</span>  <span class='chapter-title'>고양이: **`ggtext`**를 사용한 데이터 기반 주석</span>"
    ]
  },
  {
    "objectID": "nobel-laureates.html",
    "href": "nobel-laureates.html",
    "title": "8  노벨상 수상자: 텍스트 배치 및 플롯 매개변수화",
    "section": "",
    "text": "8.1 데이터\n이 장에서는 API를 통해 데이터에 액세스하고, 사용자 정의 텍스트 레이아웃을 만들고, 매개변수화된 플롯 함수를 작성하는 방법을 배웁니다.\n이 장을 마치면 다음을 할 수 있습니다:\n이 장에 필요한 패키지를 로드하는 것으로 시작합니다.\n이전 장에서 이 모든 패키지를 사용했지만, 여기서는 좀 더 복잡한 데이터 랭글링과 플로팅을 수행하는 데 사용할 것입니다!\n발명가이자 기업가, 사업가인 알프레드 노벨은 유언장에서 자신의 재산을 그 전해에 인류에게 가장 큰 공헌을 한 사람들에게 보상하는 데 사용해야 한다고 명시했습니다. 노벨상은 1901년에 처음 수여되었으며 물리, 화학, 생리·의학, 문학, 평화 및 (1969년부터) 경제학 분야에서 수여됩니다. 이 장에서는 노벨상 수상자, 즉 상을 받은 사람들을 살펴보겠습니다.\n2019년 5월, TidyTuesday 챌린지는 노벨상 수상자 및 그들의 출판물에 대한 여러 데이터 세트를 사용했습니다. 해당 데이터 세트에는 2016년까지의 데이터가 포함되어 있습니다. 그 데이터는 이제 약간 구식이므로 API를 사용하여 데이터를 얻고 R로 가져오는 대안적인 방법을 살펴보겠습니다!\nAPI(응용 프로그래밍 인터페이스)는 본질적으로 다른 소프트웨어 프로그램이 서로 통신할 수 있게 해주는 도구입니다 (Harmon 2024). 노벨상 API 엔드포인트 (www.nobelprize.org 2024)는 api.nobelprize.org/2.1/laureates에서 액세스할 수 있으며 사용 방법에 대한 지침과 가이드는 nobelprize.org 웹사이트의 www.nobelprize.org/organization/developer-zone-2에서 확인할 수 있으며 사용 약관으로도 연결됩니다.\n이 API는 API 키가 필요하지 않으므로 계정을 등록하거나 인증하는 것에 대해 걱정할 필요가 없습니다. 대신 옵션을 URL로 전달한 다음 해당 URL에서 CSV를 읽기만 하면 됩니다.\n물리학이라는 한 분야의 데이터만 살펴보는 것으로 시작하겠습니다. API에 액세스하는 데 사용할 수 있는 다양한 옵션이 있지만 몇 가지만 지정하면 됩니다:\n다음과 같은 형식으로 URL을 구성합니다: 기본 API URL, 엔드포인트, ?, 그리고 &로 구분된 쿼리 매개변수 목록. 여기서 기본 URL은 http://api.nobelprize.org/2.1/이고 엔드포인트는 laureates입니다. (1) URL을 하나의 긴 문자열로 작성하거나 (2) 문자열을 별도로 구성하고 여기서 한 것처럼 glue()와 함께 붙일 수 있습니다. 여러 개의 약간 다른 API 호출을 하는 경우 기본 URL을 재사용할 수 있으므로 두 번째 접근 방식이 더 적절합니다.\nURL을 구성하고 나면 readr의 read_csv()(또는 선호하는 경우 기본 R의 read.csv())로 전달하고 출력을 변수(nobel_physics)에 저장하기만 하면 됩니다.\napi_url &lt;- \"http://api.nobelprize.org/2.1/laureates\"\nnobel_physics &lt;- read_csv(\n  glue(\n    \"{api_url}?limit=250&nobelPrizeCategory=phy&format=csv\"\n  )\n)\n위 코드를 laureates() 함수로 래핑한 nobel R 패키지 (Rennie 2024b)를 사용하여 데이터에 액세스할 수도 있습니다.\n필요하지 않다면 API를 여러 번 쿼리하지 않는 것이 좋습니다. 데이터를 다운로드한 후에는 CSV 파일로 저장하여 동일한 쿼리를 다시 요청하지 않고 나중에 데이터를 사용할 수 있습니다. write.csv() 옵션을 사용하여 data라는 기존 폴더에 nobel_physics.csv라는 파일로 데이터를 저장할 수 있습니다. 약간 다른 곳에 저장하도록 선택할 수도 있습니다!\nwrite.csv(\n  nobel_physics,\n  \"data/nobel_physics.csv\",\n  row.names = FALSE\n)\n기존 nobel_physics 객체를 계속 사용하거나 read_csv()를 사용하여 CSV 파일에서 다시 읽어올 수 있습니다.\nnobel_physics &lt;- read_csv(\"data/nobel_physics.csv\")\n데이터를 잠깐 살펴보겠습니다.\nhead(nobel_physics)\n\n# A tibble: 6 × 13\n     id name         gender birthdate  birthplace deathdate \n  &lt;dbl&gt; &lt;chr&gt;        &lt;chr&gt;  &lt;date&gt;     &lt;chr&gt;      &lt;date&gt;    \n1   102 Aage N. Bohr male   1922-06-19 Copenhage… 2009-09-08\n2   114 Abdus Salam  male   1926-01-29 Jhang Mag… 1996-11-21\n3   866 Adam G. Rie… male   1969-12-16 Washingto… NA        \n4  1012 Alain Aspect male   1947-06-15 Agen Fran… NA        \n5    11 Albert A. M… male   1852-12-19 Strelno P… 1931-05-09\n6    26 Albert Eins… male   1879-03-14 Ulm Germa… 1955-04-18\n# ℹ 7 more variables: deathplace &lt;chr&gt;, category &lt;chr&gt;,\n#   year &lt;dbl&gt;, share &lt;chr&gt;, overallmotivation &lt;chr&gt;,\n#   motivation &lt;chr&gt;, affiliations &lt;chr&gt;\n데이터에는 226명의 수상자에 대한 13개 변수의 정보가 포함되어 있습니다. id 열은 노벨상 수상자를 고유하게 식별합니다. name, gender, birthdate, birthplace, deathdate, 및 deathplace는 개별 수상자와 관련된 상당히 설명적인 변수입니다. category 변수는 수상 분야(예: 물리학)를 알려줍니다. 상을 받은 연도는 year 열에 제공됩니다. 노벨상은 여러 사람이 공유할 수 있으며 share 열은 각 개인이 가진 상의 비율을 나타냅니다. 예를 들어 share 값이 \"1\"이면 단독 수상자임을 나타내고 \"1/3\"이면 세 명의 수상자 중 한 명임을 나타냅니다.\noverallmotivation 및 motivation 열은 개인이 상을 받은 이유에 대한 설명을 제공합니다. overallmotivation 열에는 누락된 값이 많으며 누락되지 않은 값이 있는 경우 motivation에 제공된 것보다 더 일반적인 설명인 것으로 보입니다. 노벨상 수상자의 소속은 affiliations 열에도 나열되어 있습니다.",
    "crumbs": [
      "아이콘, 글꼴 및 텍스트 활용",
      "<span class='chapter-number'>8</span>  <span class='chapter-title'>노벨상 수상자: 텍스트 배치 및 플롯 매개변수화</span>"
    ]
  },
  {
    "objectID": "nobel-laureates.html#데이터",
    "href": "nobel-laureates.html#데이터",
    "title": "8  노벨상 수상자: 텍스트 배치 및 플롯 매개변수화",
    "section": "",
    "text": "limit: 반환되는 결과의 수입니다. 기본값은 25이지만 물리학 분야의 노벨상 수상자는 25명 이상이므로 더 높은 값을 사용해야 합니다.\n\nnobelPrizeCategory: 분야입니다. 값은 분야에 대한 세 글자(소문자) 약어입니다. 물리학의 경우 값은 phy입니다.\n\nformat: 출력 형식입니다. 옵션은 JSON 또는 CSV이며, R에서 작업하기 더 쉽기 때문에 CSV를 사용합니다.\n\n\n\n\n\n\n\nTip 8.1: API 제한 선택\n\n\n\n한 번에 너무 많은 API 요청을 하지 않고 예의를 갖추는 것이 중요하므로 결과가 20개가 필요한 경우 1,000을 선택하지 마십시오.\n요청 제한이 250개이고 반환된 데이터에 250개의 결과가 포함되어 있다면 실제로 모든 결과가 있는지 확인하는 것이 좋습니다!",
    "crumbs": [
      "아이콘, 글꼴 및 텍스트 활용",
      "<span class='chapter-number'>8</span>  <span class='chapter-title'>노벨상 수상자: 텍스트 배치 및 플롯 매개변수화</span>"
    ]
  },
  {
    "objectID": "nobel-laureates.html#탐색-작업",
    "href": "nobel-laureates.html#탐색-작업",
    "title": "8  노벨상 수상자: 텍스트 배치 및 플롯 매개변수화",
    "section": "\n8.2 탐색 작업",
    "text": "8.2 탐색 작업\n인구 통계학적 특성, 수상자의 지리적 프로필이 어떻게 다른지, 또는 수상자의 나이가 시간에 따라 어떻게 변했는지 등 탐색할 수 있는 데이터의 다양한 측면이 있습니다. 데이터를 살펴보고 이것들이 더 탐색해 볼 만한 흥미로운 질문인지 확인해 보겠습니다.\n\n8.2.1 데이터 탐색\n생년월일과 수상 연도 간의 관계를 탐색하는 것으로 시작하겠습니다. 시간이 지남에 따라 일찍 태어난 사람들이 일찍 상을 받았을 것이라고 예상할 수 있으며 산점도가 이를 확인해 줍니다:\n\nplot(\n  x = nobel_physics$birthdate,\n  y = nobel_physics$year,\n  xlab = \"Birth date\",\n  ylab = \"Year of award\"\n)\n\n\n\n\n\n\nFigure 8.1: 수상자 생년월일 대 수상 연도의 산점도로, 예상되는 증가 추세를 보여줍니다.\n\n\n\n\n우리는 이 관계가 시간이 지남에 따라 변하고 있는지 확인하는 데 관심이 있을 수 있습니다. 본질적으로 수상자의 나이가 시간이 지남에 따라 변하고 있습니까? lubridate의 year() 함수를 사용하여 birthdate를 연도로 변환하고 수상 year에서 이를 빼서 대략적인 나이를 얻을 수 있습니다. 그런 다음 수상 연도에 대해 플롯합니다: \n\naward_age &lt;- nobel_physics$year -\n  year(nobel_physics$birthdate)\nplot(\n  x = nobel_physics$year,\n  y = award_age,\n  xlab = \"Year of award\",\n  ylab = \"Age of Nobel Laureate\"\n)\n\n\n\n\n\n\nFigure 8.2: 시간이 지남에 따른 노벨상 수상자의 나이를 보여주는 산점도로, 약간의 증가 추세가 나타납니다.\n\n\n\n\n수상자의 나이가 약간 증가하는 것처럼 보입니다. 더 탐색해 보면 흥미로울 수 있습니다. 하지만 물리학 분야의 노벨상 수상자에 대한 성별 구분도 살펴보겠습니다. table() 함수를 사용하여 gender 열에서 \"male\" 및 \"female\" 값의 수를 계산한 다음 barplot()을 사용하여 플롯할 수 있습니다: \n\nbarplot(table(nobel_physics$gender))\n\n\n\n\n\n\nFigure 8.3: 물리학 분야의 남성 및 여성 노벨상 수상자 수에 대한 막대 차트로, 남성 수상자 수가 훨씬 더 많음을 보여줍니다.\n\n\n\n\n이것은 상당히 큰 차이입니다! 이러한 불균형을 전달하고 강조할 방법을 찾아봅시다.\n\n8.2.2 탐색적 스케치\n시각화를 구성하는 방법을 생각할 때 여러 요소를 고려하는 것이 중요합니다 (Rennie and Krause 2024):\n\n어떤 메시지를 전달하려고 합니까?\n누구에게 도달하려고 하며 그들의 배경은 무엇입니까?\n시각화의 목적은 무엇입니까?\n시각화를 구축한 방식이 목적을 뒷받침합니까?\n\n시각화의 목적이 노벨상 수상자의 성별 불균형을 강조하는 것이라고 가정해 보겠습니다. 네, 남성 및 여성 노벨상 수상자가 얼마나 많은지에 대한 막대 차트는 불균형을 매우 명확하게 보여줍니다. 간단한 메시지입니다. 하지만 눈길을 확 끌지는 않습니다. 독자가 멈춰서 주의를 기울이게 만드는 시각화는 아닙니다. 그리고 데이터를 두 가지 범주로 집계하여 이들이 개체라는 사실을 무시합니다.\n대신 상자 밖에서 생각하여 정보를 매우 비표준적인 방식으로 제시해 봅시다:\n\n\n\n\n\nFigure 8.4: 성별에 따른 텍스트 색상을 사용하여 원 주위에 수직으로 배열된 텍스트의 초기 스케치.\n\n\n막대 차트는 남성 및 여성 노벨상 수상자가 얼마나 많은지 표시하는 더 빠르고 효율적인 방법일 것입니다. 모든 단일 노벨상 수상자의 이름에 대한 시각화는 누군가의 주의를 끄는 더 빠르고 효율적인 방법일 수 있습니다. 이 대안적인 시각화는 정보의 정확성을 희생하지 않지만 독자가 정보를 소화하는 데 시간이 조금 더 걸릴 수 있습니다. 그 희생을 감수할 가치가 있는지는 시각화의 목적이 무엇인지에 달려 있습니다.",
    "crumbs": [
      "아이콘, 글꼴 및 텍스트 활용",
      "<span class='chapter-number'>8</span>  <span class='chapter-title'>노벨상 수상자: 텍스트 배치 및 플롯 매개변수화</span>"
    ]
  },
  {
    "objectID": "nobel-laureates.html#플롯-준비하기",
    "href": "nobel-laureates.html#플롯-준비하기",
    "title": "8  노벨상 수상자: 텍스트 배치 및 플롯 매개변수화",
    "section": "\n8.3 플롯 준비하기",
    "text": "8.3 플롯 준비하기\n자, 이제 사용자 정의 시각화를 만들어 봅시다! 관심 있는 수상 분야인 물리학에 대한 변수를 정의하는 것으로 시작합니다. 어차피 API에 물리학 데이터만 요청했으므로 이 첫 단계는 조금 이상해 보일 수 있지만 이 장의 마지막 섹션에 도달하면 더 이해가 될 것입니다!\n\nnobel_category &lt;- \"Physics\"\n\n우리가 기대하는 데이터만 가지고 있는지 항상 다시 확인하는 것이 좋습니다… \n\nbarplot(table(nobel_physics$category))\n\n\n\n\n\n\nFigure 8.5: 물리학 수상자의 수에 대한 막대 차트(화학 수상자가 깜짝 등장함).\n\n\n\n\n…때때로 예상치 못한 것을 발견할 수 있기 때문입니다!\nAPI에서 물리학 데이터만 요청했음에도 불구하고 데이터에는 화학상과 관련된 항목도 포함되어 있습니다. API 문서를 읽어보면 그 이유를 설명해 줍니다. 우리가 사용한 API는 노벨상 자체가 아니라 노벨상 수상자와 관련이 있습니다. 즉, 목록에는 물리학 분야에서 상을 받은 모든 수상자가 포함됩니다. 마리 퀴리는 1903년 물리학상, 1911년 화학상 등 두 개의 노벨상을 수상했습니다.\n\n8.3.1 데이터 랭글링\ndplyr의 filter()를 사용하여 비물리학 항목을 걸러내고 name, gender, 및 year와 같이 플롯에 필요한 열만 선택하는 것으로 시작하겠습니다. 데이터는 현재 name을 기준으로 알파벳순으로 정렬되어 있으므로 arrange() 함수를 사용하여 연도별로 정렬합니다. \n\nphysics_data &lt;- nobel_physics |&gt;\n  filter(category == nobel_category) |&gt;\n  select(name, gender, year) |&gt;\n  arrange(year)\n\n이제 텍스트를 원형으로 배치하는 방법을 알아내는 까다로운 부분이 나옵니다. 첫 번째 아이디어는 단순히 텍스트를 한 줄로 플롯한 다음 ggplot2의 coord_polar()(또는 coord_radial()) 함수를 사용하여 좌표 공간을 변환하는 것일 수 있습니다. 그러나 coord_polar()를 사용하면 플롯에 주석과 같은 다른 요소를 배치하기가 정말 어렵습니다. 다른 방법으로 ggplot2 확장 패키지인 geomtextpath (Cameron and van den Brand 2024)를 사용할 수 있습니다. 이 패키지를 사용하면 ggplot2에서 곡선을 따라 텍스트를 작성할 수 있습니다. \n\n\n\n\n\n\nTip 8.2: 왜 R에서 주석을 추가하나요?\n\n\n\n기본 차트를 만들고 coord_polar()를 적용한 다음 다른 소프트웨어(예: Inkscape 또는 PowerPoint)로 내보내 텍스트 주석을 추가하면 되는데 왜 처음부터 사용자 정의 레이아웃을 구축하는 데 그렇게 많은 공을 들이고 싶어 하는지 궁금할 수 있습니다. 이것은 확실히 타당한 지적입니다. 한 번만 차트를 만드는 경우 R 외부에서 마무리를 하는 것이 더 빠르고 쉽습니다. 그러나 동일한 차트를 여러 번 만들거나 유사한 차트의 약간 다른 버전을 만드는 경우 수동 작업이 빠르게 늘어날 수 있습니다. R에서 주석을 만드는 것의 장점은 작업을 확장하고 주석 생성을 자동화하기가 더 쉽다는 것입니다.\n\n\n하지만 (단지 재미로) ggplot2만 사용하여 처음부터 플롯을 만들어 봅시다.\n텍스트를 배치할 수 있으려면 다음을 정의해야 합니다:\n\n텍스트가 끝날 x 및 y 좌표\n텍스트가 위치해야 할 각도\n\nx 및 y 좌표를 계산하려면 극좌표를 생각해야 합니다. 간단하게 하기 위해 텍스트가 배치되는 원의 중심이 (0, 0)이라고 가정해 보겠습니다. 좌표의 경우 다음을 알아야 함을 의미합니다:\n\n원의 반지름(r): 텍스트가 (0, 0)에서 얼마나 멀리 떨어져 시작합니까? 이것은 모든 텍스트 레이블에 대해 상수 값입니다.\n호의 각도(theta): 수평축에서 원을 따라 텍스트가 얼마나 멀리 나타나야 합니까? 레이블이 (반)원 주위에 균등하게 간격을 두기를 원하므로 이 값은 각 텍스트 레이블마다 다릅니다.\n\n반지름에 대한 변수를 정의하는 것으로 시작하겠습니다. 다른 모든 것은 다른 반지름을 중심으로 재조정될 수 있으므로 이 시점에서는 어떤 값을 선택하든 상관없습니다.\n\nr &lt;- 5\n\n\n\n\n\n\nFigure 8.6: 반지름, 각도, x 및 y 좌표에서 텍스트 위치 간의 관계를 보여주는 스케치.\n\n\n점의 반지름과 각도를 알고 있다고 가정하면 다음 방정식을 사용하여 점의 x 및 y 좌표를 계산할 수 있습니다:\n\\[\\begin{equation*}\n\\begin{split}\nx & = r cos(\\theta) \\\\\ny & = r sin(\\theta)\n\\end{split}\n\\end{equation*}\\]\nFigure 8.4 에 표시된 대로 제목을 추가할 공간을 남겨두고 싶으므로 원 전체에 텍스트를 넣고 싶지는 않습니다. \\(\\pi/4\\) (시계 페이스의 1과 2 사이)에서 \\(7\\pi/4\\) (시계 페이스의 4와 5 사이)까지 간격을 남겨 둡니다. \\(\\pi/4\\)에서 시작하여 \\(7\\pi/4\\)까지 데이터의 각 관측치에 대해 하나의 값을 갖는 균등하게 이격된 \\(\\theta\\) 값 시퀀스를 생성하는 것으로 시작합니다. 이것은 dplyr의 mutate()를 사용하여 데이터에 새 열로 추가됩니다. 그런 다음 위의 방정식을 사용하여 x 및 y 좌표를 계산하고 다시 데이터에 새 열로 추가합니다. \n텍스트의 각도는 조금 더 까다롭습니다. 텍스트가 원에 수직으로 위치하기를 원합니다. 즉, 텍스트의 각도는 각 이름마다 다릅니다. theta 값을 사용하여 텍스트의 각도를 계산할 수 있습니다.\n나중에 플로팅을 위해 각도 값을 ggplot2 함수에 전달할 때 각도는 라디안이 아닌 도(degree)로 표현되어야 합니다. 예를 들어 수직 텍스트의 경우 angle = pi/2 대신 angle = 90을 전달합니다. 따라서 \\(2\\pi\\)로 나누고 360을 곱하여 theta를도로 변환해야 합니다. 텍스트를 (적어도 원의 왼쪽에서는) 올바른 방향으로 만들기 위해 180도를 더합니다. \n\nplot_data &lt;- physics_data |&gt;\n  mutate(\n    theta = seq(\n      from = pi / 4,\n      to = (7 / 4) * pi,\n      length.out = nrow(physics_data)\n    ),\n    x = r * cos(theta),\n    y = r * sin(theta),\n    angle = 180 + 360 * (theta / (2 * pi))\n  )\n\n데이터를 잠깐 살펴보겠습니다:\n\nhead(plot_data)\n\n# A tibble: 6 × 7\n  name                  gender  year theta     x     y angle\n  &lt;chr&gt;                 &lt;chr&gt;  &lt;dbl&gt; &lt;dbl&gt; &lt;dbl&gt; &lt;dbl&gt; &lt;dbl&gt;\n1 Wilhelm Conrad Röntg… male    1901 0.785  3.54  3.54  225 \n2 Hendrik A. Lorentz    male    1902 0.806  3.46  3.61  226.\n3 Pieter Zeeman         male    1902 0.827  3.38  3.68  227.\n4 Henri Becquerel       male    1903 0.849  3.31  3.75  229.\n5 Marie Curie           female  1903 0.870  3.23  3.82  230.\n6 Pierre Curie          male    1903 0.891  3.14  3.89  231.\n\n\n이제 ggplot2로 플로팅을 시작할 준비가 되었습니다!\n\n8.3.2 첫 번째 플롯\n기본 플롯을 구성하는 것은 상당히 간단합니다. 이미 x 값, y 값, 각도를 정의하는 힘든 작업을 수행했습니다. 플롯은 텍스트 데이터의 시각화이므로 geom_text()를 사용하여 텍스트를 추가합니다. 우리가 해야 할 일은 ggplot2에 무엇을 어디에 넣을지 알려주는 것뿐입니다! \nplot_data를 data 인수에 전달한 다음 aes()를 사용하여 미적 매핑을 설정합니다. 매핑은 예상대로입니다: x는 x축에, y는 y축에, label은 name 열에서 오고, 텍스트 angle은 우리가 만든 angle 열에 의해 정의되며, color는 gender 열의 값을 기반으로 합니다. 이 매핑은 ggplot()에 전달하거나 여기서 한 것처럼 geom_text()에 직접 전달할 수 있습니다. 이 플롯에는 하나의 지오메트리만 사용할 것이므로 차이는 없습니다! \n\nggplot() +\n  geom_text(\n    data = plot_data,\n    mapping = aes(\n      x = x, y = y,\n      label = name,\n      angle = angle,\n      color = gender\n    )\n  )\n\n\n\n\n\n\nFigure 8.7: 반원형으로 배열된 노벨 물리학상 수상자의 이름으로, 색상은 수상자의 성별을 나타냅니다. 텍스트가 너무 커서 레이블이 많이 겹칩니다.",
    "crumbs": [
      "아이콘, 글꼴 및 텍스트 활용",
      "<span class='chapter-number'>8</span>  <span class='chapter-title'>노벨상 수상자: 텍스트 배치 및 플롯 매개변수화</span>"
    ]
  },
  {
    "objectID": "nobel-laureates.html#고급-스타일링",
    "href": "nobel-laureates.html#고급-스타일링",
    "title": "8  노벨상 수상자: 텍스트 배치 및 플롯 매개변수화",
    "section": "\n8.4 고급 스타일링",
    "text": "8.4 고급 스타일링\n언뜻 보기에 이 첫 번째 플롯은 완전히 엉망인 것처럼 보일 수 있지만 약간의 작업만 거치면 곧 Figure 8.4 처럼 보이기 시작할 것입니다.\n\n8.4.1 글꼴\n시각화를 위한 서체를 선택하는 것으로 시작하겠습니다. 두 가지 서체를 선택할 것입니다:\n\n\ntitle_font: 이름에서 알 수 있듯이 제목에 사용될 굵은 서체입니다. 제목에 이상적인 두껍고 굵은 선이 있는 디스플레이 서체인 Passion One을 사용할 것입니다.\n\nbody_font: 수상자 이름을 표시하는 텍스트를 포함하여 다른 모든 텍스트 요소에 사용될 간단한 서체입니다. 즉, 텍스트는 꽤 작은 글꼴 크기가 될 것이므로 깨끗하고 간단한 서체를 사용하는 것이 중요합니다. 이전 장에서 사용했던 산세리프 서체인 Ubuntu를 사용할 것입니다.\n\n두 서체 모두 Google Fonts를 통해 제공되므로 sysfonts의 font_add_google()을 사용하여 R로 로드합니다. 또한 showtext_auto() 및 showtext_opts(dpi = 300)을 실행하여 showtext를 사용하여 원하는 해상도로 플롯의 텍스트를 렌더링합니다. \n\nfont_add_google(name = \"Passion One\")\nfont_add_google(name = \"Ubuntu\")\nfont_add_google(name = \"Noto Sans KR\", family = \"noto_sans_kr\")\nshowtext_auto()\nshowtext_opts(dpi = 300)\nbody_font &lt;- \"Ubuntu\"\ntitle_font &lt;- \"Passion One\"\nkorean_font &lt;- \"noto_sans_kr\"\n\n이제 basic_plot을 다시 만들어 보겠습니다. 이번에는 글꼴 family도 body_font로 설정합니다. 또한 hjust = 1을 사용하여 텍스트를 오른쪽 정렬하여 텍스트가 원의 바깥쪽 가장자리 주위에 나타나도록 합니다. 텍스트는 서로 옆에 위치한 이름이 겹치지 않도록 조금 더 작아야 합니다. \n\nbasic_plot &lt;- ggplot() +\n  geom_text(\n    data = plot_data,\n    mapping = aes(\n      x = x, y = y,\n      label = name,\n      angle = angle,\n      color = gender\n    ),\n    family = body_font,\n    hjust = 1,\n    size = 1\n  )\nbasic_plot\n\n\n\n\n\n\nFigure 8.8: 반원형으로 배열된 노벨 물리학상 수상자의 이름으로, 색상은 수상자의 성별을 나타냅니다. 텍스트의 많은 부분이 플롯 영역 외부에 있습니다.\n\n\n\n\n\n8.4.2 색상\n이전의 모든 장에서 했던 것 처럼 시각화에서 사용할 색상에 대한 변수를 정의하겠습니다. 여기서는 배경색, 기본색, 보조색을 정의합니다.\n기본색은 여성 수상자뿐만 아니라 제목 및 캡션 텍스트를 강조하는 데 사용됩니다. 보조색은 남성 수상자 이름을 색칠하는 데 사용됩니다. 기본색은 보조색보다 더 굵거나 밝아야 합니다. 즉, 차트의 몇 가지 색상이 눈에 띄고 여성 수상자를 강조하게 됩니다. \n\nbg_col &lt;- \"gray95\"\nprimary_col &lt;- \"black\"\nsecondary_col &lt;- \"gray75\"\n\nscale_color_manual()을 사용하여 gender 열의 어떤 값에 어떤 색상을 매핑할지 수동으로 지정하여 이름을 표시하는 텍스트에 이러한 색상을 적용할 수 있습니다. \n\ncol_plot &lt;- basic_plot +\n  scale_color_manual(\n    values = c(\n      \"male\" = secondary_col,\n      \"female\" = primary_col\n    )\n  )\n\n\n8.4.3 텍스트 추가\n플롯 상단에 제목과 부제목을 추가하는 대신 원의 오른쪽 부분에 있는 간격에 추가합니다. ggplot2의 annotate() 함수를 사용하여 텍스트를 추가합니다. annotate()의 경우 주석을 달 지오메트리 유형(이 경우 \"text\")을 지정하는 것으로 시작해야 한다는 점을 기억하십시오. \n두 개의 별도 주석을 추가합니다. 하나는 제목(Nobel Prize Laureates)용이고 다른 하나는 수상 분야(Physics)를 나타내는 부제목용입니다. 제목과 부제목은 오른쪽 정렬이어야 하므로 각 주석의 x좌표를 10으로 설정하고 hjust = 1로 설정합니다. 제목은 원의 중심(y = 0)과 수직으로 정렬되고 부제목은 y = -1에서 약간 아래에 있습니다. 글꼴 패밀리는 family 인수를 사용하여 body_font 또는 title_font로 조정되며 텍스트 size 및 color도 조정됩니다.\n\nannotated_plot &lt;- col_plot +\n  annotate(\"text\",\n    x = 10, y = 0,\n    label = \"Nobel Prize Laureates\",\n    hjust = 1,\n    color = primary_col,\n    family = title_font,\n    size = 7\n  ) +\n  annotate(\"text\",\n    x = 10, y = -1,\n    label = nobel_category,\n    hjust = 1,\n    color = primary_col,\n    family = body_font,\n    size = 5\n  )\nannotated_plot\n\n\n\n\n\n\nFigure 8.9: C자 형태로 배열된 노벨 물리학상 수상자의 이름으로, 여성 수상자는 더 어두운 색상으로 강조 표시됩니다. 텍스트가 플로팅 영역 밖으로 실행되며 수상 분야를 나타내는 주석이 추가되었습니다.\n\n\n\n\n플롯에 캡션을 추가할 수 있는데, 여기에는 (i) 데이터 출처에 대한 설명과 (ii) Chapter 7 에서 정의한 social_caption() 함수의 소셜 미디어 링크가 포함됩니다. 아이콘과 텍스트를 모두 같은 색상인 primary_col로 만듭니다. 이를 Chapter 6 에서 정의한 source_caption() 함수에 전달할 수 있습니다. \n\nsocial &lt;- social_caption(\n  icon_color = primary_col,\n  font_color = primary_col,\n  font_family = body_font\n)\ncap &lt;- source_caption(\n  source = \"The Nobel Foundation\",\n  sep = \"&lt;br&gt;\",\n  graphic = social\n)\n\n그런 다음 labs() 함수의 caption 인수를 사용하여 기존 플롯에 이 캡션을 추가합니다: \n\ntext_plot &lt;- annotated_plot +\n  labs(caption = cap)\n\n\n8.4.4 스케일 및 테마 조정\n현재 텍스트는 원형으로 배열되어 있지 않고 타원형을 띠고 있습니다. 원형으로 표시되도록 하려면 coord_fixed()를 사용하여 x축의 한 단위가 y축의 한 단위와 같도록 할 수 있습니다.\n플롯의 제한도 확장해야 합니다. 스케일은 현재 전달한 x 및 y 좌표(원의 안쪽 가장자리에 있는 텍스트)를 기반으로 하므로 텍스트가 페이지 밖으로 나갑니다. scale_x_continuous() 및 scale_y_continuous()를 사용하여 제한을 확장하여 이를 수행할 수 있습니다. 추가된 주석을 수용하기 위해 x축의 오른쪽을 조금 더 확장할 수 있습니다. \n\nstyled_plot &lt;- text_plot +\n  scale_x_continuous(limits = c(-9, 12)) +\n  scale_y_continuous(limits = c(-7.5, 7.5)) +\n  coord_fixed()\nstyled_plot\n\n\n\n\n\n\nFigure 8.10: 원 주위에 배열된 노벨 물리학상 수상자의 이름으로, 여성 수상자는 더 어두운 색상으로 강조 표시됩니다. 기본 그리드 선이 배경에 남아 있습니다.\n\n\n\n\n이것은 예술적 시각화이므로 산만한 그리드 선과 축 레이블(이 유형의 플롯에는 별로 의미가 없음)을 제거하고 싶습니다. 이전 장(Chapter 12 와 같은)에서 했던 것처럼 theme_void()를 사용하여 이러한 배경 테마 요소를 제거합니다. \n다음 theme() 요소를 변경하여 몇 가지 추가적인 최종 사용자 정의를 수행할 수 있습니다. \n\n범례 제거\n\nelement_rect()에 bg_col 변수를 전달하여 배경색 변경\n\nggtext의 element_textbox_simple()을 사용하여 캡션에 소셜 미디어 아이콘을 추가하는 HTML 태그 서식 지정\n\n\nstyled_plot +\n  theme_void(base_size = 6, base_family = body_font) +\n  theme(\n    legend.position = \"none\",\n    plot.background = element_rect(\n      fill = bg_col, color = bg_col\n    ),\n    plot.caption = element_textbox_simple(\n      family = korean_font,\n      color = primary_col,\n      hjust = 0,\n      halign = 0,\n      lineheight = 0.5,\n      margin = margin(l = 5, b = 5)\n    )\n  )\n\n\n\n\n\n\nFigure 8.11: 반시계 방향으로 배열된 노벨 물리학상 수상자의 이름으로, 여성 수상자는 더 어두운 색상으로 강조 표시됩니다.\n\n\n\n\n이제 노벨 물리학상 수상자를 시각화하는 창의적인 방법이 생겼습니다! 다른 상 분야의 수상자를 비슷한 방식으로 시각화하려면 어떻게 해야 할까요?\n\n8.4.5 매개변수화된 플롯\n이미 가지고 있는 코드를 복사하여 붙여넣고 모든 곳에서 physics를 peace로 바꾸는 등의 작업을 할 수 있지만, 이것은 하나의 추가 플롯만 만들려는 경우가 아니라면 지속 가능한 접근 방식이 아닙니다. 의학, 경제학, 화학 및 문학에 대한 플롯도 만들고 싶다면요? 복사해서 붙여넣기가 너무 많습니다! 대신 자체 함수를 만드는 것에 대해 생각할 수 있습니다. \n예를 들어 특정 월의 판매 실적 플롯을 만들려는 경우 정말 유용할 수 있습니다. 지난달에 지난달의 판매에 대한 히스토그램을 만들고 싶었다고 가정해 보겠습니다. 이번 달에는 이번 달의 데이터만 사용하여 동일한 히스토그램을 만들고 싶습니다. 기본 데이터(및 아마도 플롯 제목) 외에는 아무것도 변경해서는 안 됩니다. 월을 인수로 받아 데이터를 필터링한 다음 업데이트된 제목으로 플롯하는 함수를 만들 수 있습니다. 매달 플로팅 코드를 다시 작성할 필요 없이 사용자 정의 플롯 함수를 호출하기만 하면 됩니다.\n이 책 전체에서 색상과 서체 선택 항목을 저장하기 위해 변수를 사용해 왔습니다. 이렇게 하면 새로운 색상 구성표를 빠르게 시도하기가 더 쉬워집니다. 하지만 코드를 함수로 변환하기도 더 쉬워집니다. 해당 변수는 함수 인수가 됩니다! \n코드를 함수로 변환할 때 코드가 작동하려면 사용자가 무엇을 알려줘야 하는지 생각해야 합니다. 위의 판매 히스토그램 예에서 사용자는 플롯을 원하는 월을 지정해야 합니다. 노벨상 시각화의 예에서 사용자는 다음을 지정해야 합니다:\n\n어떤 분야를 플롯하고 싶은지 (우리는 그들의 마음을 읽거나 그들이 어떤 데이터를 가지고 있는지 알 수 없습니다)\n데이터의 이름은 무엇인지 (우리는 그들이 data.frame을 무엇이라고 불렀는지 모릅니다)\n원의 반지름 (주어진 분야에 관측치가 몇 개인지에 따라 이를 변경해야 할 수도 있습니다)\n\n\n\n\n\n\n\nTip 8.3: 열이 존재하는지 확인\n\n\n\n데이터 랭글링 코드는 year, name, gender, 및 category가 입력 data.frame에 존재하는 열이라고 가정합니다. 일관된 형식으로 출력하는 API의 데이터를 작업하고 있으므로 이는 합리적인 가정입니다. 그러나 API는 어느 시점에 바뀔 수도 있습니다. 또는 누군가가 다른 곳에서 소싱한 데이터와 함께 사용하고 싶어할 수도 있습니다. 함수를 더 견고하게 만들기 위해 해당 열이 존재하는지 확인하는 초기 단계를 추가할 수 있습니다!\n\n\n이제 사용자가 지정할 수 있는 인수 추가에 대해서도 생각할 수 있습니다:\n\n배경색\n기본색\n보조색\n본문 글꼴\n제목 글꼴\n\n이러한 인수의 경우 기본값을 지정할 수 있습니다. 즉, 사용자가 자신의 색상을 선택하고 싶지 않은 경우 함수가 작동하지만 선택하는 경우 자유롭게 사용자 정의할 수 있습니다. 이러한 매개변수 선택 중 어느 것도 생성된 플롯에 근본적인 차이를 만들지 않습니다(미적으로 얼마나 만족스러운지는 제외).\n\n\n\n\n\n\nTip 8.4: 함수에서 글꼴 사용\n\n\n\n여기서 기본 제목 서체를 \"Passion One\"으로 지정했습니다. 본문 서체에도 비슷한 접근 방식이 사용됩니다. 일반적으로 사용자가 함수를 실행할 때 \"Passion One\" 서체를 설치하거나 로드했다는 보장이 없으므로 이러한 접근 방식은 권장되지 않습니다. 이것은 기본 서체로 나쁜 선택입니다.\n함수 내에 font_add_google() 코드를 추가할 수도 있지만 이 또한 좋은 해결책은 아닙니다. 함수를 실행할 때마다 글꼴을 다시 설치하고 싶지는 않습니다. 더 나은 옵션은 title_font = \"sans\"와 같이 통합된 서체 중 하나를 기본값으로 지정하는 것입니다.\n(또는 최소한 기본값으로 사용한 서체를 로드하는 방법에 대한 지침을 추가하십시오!)\n\n\n이제 이 장에서 사용한 모든 코드를 함수 본문에 묶을 수 있습니다:\n\ncategory_plot &lt;- function(\n    nobel_category,\n    nobel_data,\n    r = 5,\n    bg_col = \"gray95\",\n    primary_col = \"black\",\n    secondary_col = \"gray70\",\n    body_font = \"Ubuntu\",\n    title_font = \"Passion One\",\n    korean_font = \"noto_sans_kr\") {\n  # Data wrangling\n  category_data &lt;- nobel_data |&gt;\n    filter(category == nobel_category) |&gt;\n    select(name, gender, year) |&gt;\n    arrange(year)\n  plot_data &lt;- category_data |&gt;\n    mutate(\n      theta = seq(\n        from = pi / 4,\n        to = (7 / 4) * pi,\n        length.out = nrow(category_data)\n      ),\n      x = r * cos(theta),\n      y = r * sin(theta),\n      angle = 180 + 360 * (theta / (2 * pi))\n    )\n  # Text\n  social &lt;- social_caption(\n    icon_color = primary_col,\n    font_color = primary_col,\n    font_family = body_font\n  )\n  cap &lt;- source_caption(\n    source = \"The Nobel Foundation\",\n    sep = \"&lt;br&gt;\",\n    graphic = social\n  )\n  # Plot\n  g &lt;- ggplot() +\n    geom_text(\n      data = plot_data,\n      mapping = aes(\n        x = x, y = y,\n        label = name,\n        angle = angle,\n        color = gender\n      ),\n      family = body_font,\n      hjust = 1,\n      size = 1\n    ) +\n    scale_color_manual(\n      values = c(\n        \"male\" = secondary_col,\n        \"female\" = primary_col\n      )\n    ) +\n    annotate(\"text\",\n      x = 10, y = 0,\n      label = \"Nobel Prize Laureates\",\n      hjust = 1,\n      color = primary_col,\n      family = title_font,\n      size = 7\n    ) +\n    annotate(\"text\",\n      x = 10, y = -1,\n      label = nobel_category,\n      hjust = 1,\n      color = primary_col,\n      family = body_font,\n      size = 5\n    ) +\n    labs(caption = cap) +\n    scale_x_continuous(limits = c(-9, 12)) +\n    scale_y_continuous(limits = c(-7.5, 7.5)) +\n    coord_fixed() +\n    theme_void(base_size = 6, base_family = body_font) +\n    theme(\n      legend.position = \"none\",\n      plot.background = element_rect(\n        fill = bg_col, color = bg_col\n      ),\n      panel.background = element_rect(\n        fill = bg_col, color = bg_col\n      ),\n      plot.caption = element_textbox_simple(\n        family = korean_font,\n        color = primary_col,\n        hjust = 0,\n        halign = 0,\n        lineheight = 0.5,\n        margin = margin(l = 5, b = 5)\n      )\n    )\n  return(g)\n}\n\n이제 완전히 다른 데이터 세트로 함수가 작동하는지 테스트해 봅시다! 노벨 평화상 수상자에 대한 데이터를 다운로드하기 위해 노벨상 API를 다시 사용하겠습니다. API URL의 끝을 편집하여 nobelPrizeCategory=pea(peace의 경우 pea)를 사용한 다음 물리학 데이터에 대해 했던 것처럼 기본 R 함수를 사용하여 출력을 CSV 파일로 저장합니다. \n\nnobel_peace &lt;- read.csv(\n  glue(\n    \"{api_url}?limit=250&nobelPrizeCategory=pea&format=csv\"\n  )\n)\nwrite.csv(\n  nobel_peace,\n  \"data/nobel_peace.csv\",\n  row.names = FALSE\n)\n\n다시, 로드된 데이터를 API에서 계속 사용하거나 CSV 파일에서 데이터를 읽어올 수 있습니다: \n\nnobel_peace &lt;- read_csv(\"data/nobel_peace.csv\")\n\n그런 다음 새로 다운로드한 nobel_peace 데이터와 함께 \"Peace\" 범주를 category_plot() 함수에 전달합니다. nobel_peace 데이터에는 nobel_physics 데이터만큼 관측치가 많지 않으므로 반지름(r)을 약간 줄이고 텍스트를 원의 중심에 조금 더 가깝게 시작할 수 있습니다. 또한 시각화를 위해 다른 색상을 선택할 수도 있습니다(하지만 글꼴의 경우 기본값 유지):\n\npeace_plot &lt;- category_plot(\n  \"Peace\",\n  nobel_peace,\n  r = 4,\n  bg_col = \"#FFEDE1\",\n  primary_col = \"#8B1E3F\",\n  secondary_col = \"#7286A0\"\n)\npeace_plot\n\n\n\n\n\n\nFigure 8.12: 반시계 방향으로 배열된 노벨 평화상 수상자의 이름으로, 여성 수상자는 분홍색으로 강조 표시됩니다.\n\n\n\n\n이 차트 버전에서 눈치챘을지도 모르는 것은 세 번째 색상이 나타났다는 것입니다! scale_color_manual()에서는 \"male\" 및 \"female\" 수상자와 관련된 색상만 지정했습니다. 그러나 노벨 평화상은 개인이 아닌 단체에도 수여될 수 있습니다. (새로 나타난) 회색 텍스트는 nobel_peace 데이터에 나열된 단체와 관련이 있습니다.\n\n\n\n\n\n\nTip 8.5: 나만의 ggplot2 확장 만들기\n\n\n\n핵심 ggplot2 함수로 사용자 정의 차트 유형을 구축한 후에는 자신과 다른 사람들이 더 쉽게 사용할 수 있도록 ggplot2 확장 패키지로 전환하는 것을 고려할 수 있습니다. Everyday ggplot2 extension 웹사이트 (Reynolds 2025)는 첫 번째(또는 다음) 확장을 구축하기 위한 조언과 튜토리얼을 제공합니다.\n\n\nggsave()를 사용하여 시각화 사본을 저장할 수 있습니다: \n\nggsave(\n  filename = \"peace-plot.png\",\n  plot = peace_plot,\n  width = 5,\n  height = 4\n)\n\n\n\n\n\n\n\nTip 8.6: ggtextcircle을 사용한 원형 텍스트\n\n\n\nggtextcircle 패키지 (Rennie 2024a)는 이 유형의 시각화를 일반적인 방식으로 구현합니다 - 다른 데이터 세트로 비슷한 것을 만들고 싶다면요!",
    "crumbs": [
      "아이콘, 글꼴 및 텍스트 활용",
      "<span class='chapter-number'>8</span>  <span class='chapter-title'>노벨상 수상자: 텍스트 배치 및 플롯 매개변수화</span>"
    ]
  },
  {
    "objectID": "nobel-laureates.html#회고",
    "href": "nobel-laureates.html#회고",
    "title": "8  노벨상 수상자: 텍스트 배치 및 플롯 매개변수화",
    "section": "\n8.5 회고",
    "text": "8.5 회고\n시각화를 평가할 때 시각화를 구축한 목적을 기억하고 그 목적을 얼마나 잘 달성했는지 평가하는 것이 중요합니다. 이 노벨상 수상자 성별 구분 시각화는 가능한 한 효율적으로 숫자를 전달하는 것을 목표로 하는 표준 플롯이 아닙니다.\n개선하고 싶은 이 시각화의 몇 가지 표준적인 측면이 있습니다:\n\n색상과 이름의 순서가 무엇을 나타내는지 알지 못하면 이해하기 꽤 어려운 시각화입니다. 약간의 시간과 생각을 투자하면 독자는 분홍색 텍스트(평화상 범주 플롯의 경우)가 여성 수상자를 나타낸다는 것을 알아낼 것입니다. 그러나 반시계 방향으로 이름이 정렬되어 여성 수상자의 수가 일반적으로 시간이 지남에 따라 증가하고 있음을 보여주는 것은 파악하기 훨씬 더 어렵습니다. 기존 제목 및 범주 레이블 아래에 시각화를 해석하는 방법을 설명하는 텍스트를 추가하면 관심 있는 독자가 전체 메시지를 얻는 데 도움이 될 것입니다.\n디자인상 최소한의 시각화입니다. 하지만 그것은 독자에게 전체 이야기를 말해주지 않는다는 것을 의미합니다. 앞서 논의했듯이 노벨상은 여러 개인에게 수여될 수 있습니다. 그러나 이 시각화는 수상자만 보여줄 뿐 다른 사람과 상을 공유했는지 여부는 보여주지 않습니다. 여성 수상자는 남성 수상자보다 상을 공유할 가능성이 더 높거나 낮습니까? 이 시각화에서는 알 수 없습니다.\n기술적(또는 예술적) 관점에서 대안적인 디자인을 고려할 수도 있습니다. 예를 들어 텍스트를 오른쪽이 아닌 원의 왼쪽이나 아래에 배치하는 것입니다. 원 주위의 텍스트 시작 및 종료 위치를 매개변수화된 함수의 인수로 포함할 수 있습니다.\n\n보다 전통적인 시각화와 비교할 때 단점이 있음에도 불구하고 이 접근 방식은 눈길을 끌고 주의를 끕니다. 때로는 데이터 시각화에 관한 것이 아닙니다. 때로는 예술에 관한 것입니다.",
    "crumbs": [
      "아이콘, 글꼴 및 텍스트 활용",
      "<span class='chapter-number'>8</span>  <span class='chapter-title'>노벨상 수상자: 텍스트 배치 및 플롯 매개변수화</span>"
    ]
  },
  {
    "objectID": "nobel-laureates.html#연습-문제",
    "href": "nobel-laureates.html#연습-문제",
    "title": "8  노벨상 수상자: 텍스트 배치 및 플롯 매개변수화",
    "section": "\n8.6 연습 문제",
    "text": "8.6 연습 문제\n\n\"Organisation\" 범주에 대한 또 다른 인수를 추가하도록 category_plot()을 편집하십시오. 물리학 데이터와 같이 데이터에 단체가 없는 경우에도 함수가 여전히 작동하는지 확인하십시오.\n다른 범주(예: 화학)에 대한 데이터를 다운로드하고 category_plot() 함수를 다시 사용하여 해당 범주에 대한 플롯 버전을 만드십시오.\n\n\n\n\n\nAnscombe, F. J. 1973. “Graphs in Statistical Analysis.” The American Statistician 27 (1): 17–21. https://doi.org/10.1080/00031305.1973.10478966.\n\n\nAphalo, Pedro J. 2024. Learn R: As a Language. Second Edition. CRC Press. https://www.learnr-book.info/.\n\n\nAuguie, Baptiste. 2019. egg: Extensions for ’ggplot2’: Custom Geom, Custom Themes, Plot Alignment, Labelled Panels, Symmetric Scales, and Fixed Panel Size. https://CRAN.R-project.org/package=egg.\n\n\nBarthelme, Simon. 2024. imager: Image Processing Library Based on ’CImg’. https://CRAN.R-project.org/package=imager.\n\n\nBrand, Teun van den. 2025. “ggplot2 4.0.0.” https://www.tidyverse.org/blog/2025/09/ggplot2-4-0-0/.\n\n\nBridson, Robert. 2007. “Fast Poisson Disk Sampling in Arbitrary Dimensions.” In ACM SIGGRAPH 2007 Sketches. SIGGRAPH ’07. New York, NY, USA: Association for Computing Machinery. https://doi.org/10.1145/1278780.1278807.\n\n\nBrown, Mark J.F., and Paxton, Robert J. 2009. “The Conservation of Bees: A Global Perspective.” Apidologie 40 (3): 410–16. https://doi.org/10.1051/apido/2009019.\n\n\nCameron, Allan, and Teun van den Brand. 2024. geomtextpath: Curved Text in ’ggplot2’. https://CRAN.R-project.org/package=geomtextpath.\n\n\nCARTO. 2016. ’CARTOColors’ Palettes. https://carto.com/carto-colors/.\n\n\nChang, Winston. 2023. extrafont: Tools for Using Fonts. https://CRAN.R-project.org/package=extrafont.\n\n\nCheung, Foo. 2021. dumbbell: Displaying Changes Between Two Points Using Dumbbell Plots. https://CRAN.R-project.org/package=dumbbell.\n\n\nCowgill, Matt, and John Helveston. 2021. ggannotate: Interactively Annotate ggplot2 Plots. https://github.com/MattCowgill/ggannotate.\n\n\nCsárdi, Gábor, and Jim Hester. 2024. pak: Another Approach to Package Installation. https://CRAN.R-project.org/package=pak.\n\n\nCsárdi, Gábor, Jim Hester, Hadley Wickham, Winston Chang, Martin Morgan, and Dan Tenenbaum. 2024. remotes: R Package Installation from Remote Repositories, Including ’GitHub’. https://CRAN.R-project.org/package=remotes.\n\n\nDomin, Iaroslav. 2024. ggview: ’ggplot2’ Picture Previewer. https://CRAN.R-project.org/package=ggview.\n\n\nEngler, Jan Broder. 2024. “Tidyplots Empowers Life Scientists with Easy Code-Based Data Visualization.” bioRxiv. https://doi.org/10.1101/2024.11.08.621836.\n\n\nFC, Mike, Trevor L. Davis, and ggplot2 authors. 2024. ggpattern: ’ggplot2’ Pattern Geoms. https://CRAN.R-project.org/package=ggpattern.\n\n\nFlaticon.com. 2024. “Wind Power Flaticon.” https://www.flaticon.com/free-icon/wind-power_5670189.\n\n\nFont Awesome. 2024. “Font Awesome 6.” https://fontawesome.com/.\n\n\nFranconeri, Steven L., Lace M. Padilla, Priti Shah, Jeffrey M. Zacks, and Jessica Hullman. 2021. “The Science of Visual Data Communication: What Works.” Psychological Science in the Public Interest 22 (3): 110–61. https://doi.org/10.1177/15291006211051956.\n\n\nGarnier, Simon, Ross, Noam, Rudis, Robert, Camargo, et al. 2024. viridis(Lite) - Colorblind-Friendly Color Maps for R. https://doi.org/10.5281/zenodo.4679423.\n\n\nGohel, David, and Panagiotis Skintzos. 2024. ggiraph: Make ’ggplot2’ Graphics Interactive. https://CRAN.R-project.org/package=ggiraph.\n\n\nGovernment Analysis Function. 2021. “Data Visualisation: Colours.” https://analysisfunction.civilservice.gov.uk/policy-store/data-visualisation-colours-in-charts/.\n\n\nHafen, Ryan. 2023. geofacet: ’ggplot2’ Faceting Utilities for Geographical Data. https://CRAN.R-project.org/package=geofacet.\n\n\nHarmon, Jon. 2024. Web APIs with R. CRC Press. https://wapir.io/.\n\n\nHester, Jim, Florent Angly, Russ Hyde, Michael Chirico, Kun Ren, Alexander Rosenstock, and Indrajeet Patil. 2024. lintr: A ’Linter’ for R Code. https://CRAN.R-project.org/package=lintr.\n\n\nHester, Jim, and Jennifer Bryan. 2024. glue: Interpreted String Literals. https://glue.tidyverse.org/.\n\n\nHughes, Ellis. 2022a. camcorder: Record Your Plot History. https://CRAN.R-project.org/package=camcorder.\n\n\n———. 2022b. tidytuesdayR: Access the Weekly ’TidyTuesday’ Project Dataset. https://CRAN.R-project.org/package=tidytuesdayR.\n\n\nHvitfeldt, Emil. 2021. paletteer: Comprehensive Collection of Color Palettes. https://github.com/EmilHvitfeldt/paletteer.\n\n\n———. 2025. animalshelter: Animal Shelter Data. https://github.com/EmilHvitfeldt/animalshelter.\n\n\nIannone, Richard. 2024. fontawesome: Easily Work with ’Font Awesome’ Icons. https://CRAN.R-project.org/package=fontawesome.\n\n\nInternet Assigned Numbers Authority. 2023. “The tz Database: Time Zone and Daylight Saving Time Data.” Internet Assigned Numbers Authority. https://data.iana.org/time-zones/tz-link.html.\n\n\nJax (@lysrix). 2017. “Lemur.” https://unsplash.com/photos/red-and-white-rodent-h5xrh3CNT-k.\n\n\nKays, R., R. R. Dunn, A. W. Parsons, B. Mcdonald, T. Perkins, S. A. Powers, L. Shell, et al. 2020. “The Small Home Ranges and Large Local Ecological Impacts of Pet Cats.” Animal Conservation 23 (5): 516–23. https://doi.org/10.1111/acv.12563.\n\n\nKeyes, David. 2024. R for the Rest of Us: A Statistics-Free Introduction. No Starch Press. https://book.rfortherestofus.com/.\n\n\nLong Beach Animal Shelter. 2025. “Animal Shelter Data.” City of Long Beach Animal Care Services. https://data.longbeach.gov/explore/dataset/animal-shelter-intakes-and-outcomes/information/.\n\n\nLucchesi, Lydia, and Petra Kuhnert. 2020. Vizumap: Visualizing Uncertainty in Spatial Data. https://github.com/lydialucchesi/Vizumap.\n\n\nMapping Museums. 2021. “Mapping Museums Data.” www.mappingmuseums.org.\n\n\nMassicotte, Philippe, and Andy South. 2023. rnaturalearth: World Map Data from Natural Earth. https://docs.ropensci.org/rnaturalearth/.\n\n\nMatejka, Justin, and George Fitzmaurice. 2017. “Same Stats, Different Graphs: Generating Datasets with Varied Appearance and Identical Statistics Through Simulated Annealing.” In, 1290–94. https://doi.org/10.1145/3025453.3025912.\n\n\nMcDonald, J. L., and H. Cole. 2020. “Data from: The Small Home Ranges and Large Local Ecological Impacts of Pet Cats [United Kingdom].” Movebank data repository. https://doi.org/doi:10.5441/001/1.pf315732.\n\n\nMcWhite, Claire D., and Claus O. Wilke. 2024. colorblindr: Simulate colorblindness in R figures. https://github.com/clauswilke/colorblindr.\n\n\nMid-Atlantic Apiculture Research and Extension Consortium. 2024. “Seasonal Cycles of Activities in Colonies.” https://canr.udel.edu/maarec/honey-bee-biology/seasonal-cycles-of-activities-in-colonies/.\n\n\nmikefc. 2024. poissoned: Tileable Poisson Disc Sampling. https://github.com/coolbutuseless/poissoned.\n\n\nMills, Blake Robert. 2022. MetBrewer: Color Palettes Inspired by Works at the Metropolitan Museum of Art. https://CRAN.R-project.org/package=MetBrewer.\n\n\nMIT Election Data and Science Lab. 2017. “U.S. House 1976–2022.” Harvard Dataverse. https://doi.org/10.7910/DVN/IG0UN2.\n\n\nMüller, Kirill, and Lorenz Walthert. 2023. styler: Non-Invasive Pretty Printing of R Code. https://CRAN.R-project.org/package=styler.\n\n\nMüller, Kirill, and Hadley Wickham. 2023. tibble: Simple Data Frames. https://CRAN.R-project.org/package=tibble.\n\n\nMuth, Lisa. 2018. “An Alternative to Pink & Blue: Colors for Gender Data.” https://blog.datawrapper.de/gendercolor/.\n\n\nNatural Resources Canada. 2021. “Canadian Wind Turbine Database.” Natural Resources Canada (Government of Canada). https://open.canada.ca/data/en/dataset/79fdad93-9025-49ad-ba16-c26d718cc070.\n\n\nNoblet, Guillaume. 2025. ggbranding: Add Personal Branding to ’ggplot2’ Charts. https://github.com/gnoblet/ggbranding.\n\n\nNowosad, Jakub. 2018. ’CARTOColors’ Palettes. https://jakubnowosad.com/rcartocolor/.\n\n\nOoms, Jeroen. 2024. magick: Advanced Graphics and Image-Processing in R. https://CRAN.R-project.org/package=magick.\n\n\nOur World in Data. 2019. “Medical Doctors Per 1,000 People.” https://ourworldindata.org/grapher/physicians-per-1000-people.\n\n\nPebesma, Edzer. 2018. “Simple Features for R: Standardized Support for Spatial Vector Data.” The R Journal 10 (1): 439–46. https://doi.org/10.32614/RJ-2018-009.\n\n\nPedersen, Thomas Lin. 2022. ggforce: Accelerating ’ggplot2’. https://CRAN.R-project.org/package=ggforce.\n\n\n———. 2024. patchwork: The Composer of Plots. https://CRAN.R-project.org/package=patchwork.\n\n\n———. 2025. “Fonts in R.” https://www.tidyverse.org/blog/2025/05/fonts-in-r/.\n\n\nPedersen, Thomas Lin, and Martin Mitáš. 2024. marquee: Markdown Parser and Renderer for R Graphics. https://CRAN.R-project.org/package=marquee.\n\n\nPedersen, Thomas Lin, Jeroen Ooms, and Devon Govett. 2024. systemfonts: System Native Font Finding. https://CRAN.R-project.org/package=systemfonts.\n\n\nPedersen, Thomas Lin, and Maxim Shemanarev. 2023. ragg: Graphic Devices Based on AGG. https://CRAN.R-project.org/package=ragg.\n\n\nPLDB contributors. 2022. “PLDB: A Programming Language Database.” PLDB. https://pldb.com.\n\n\nQiu, Yixuan. 2022. sysfonts: Loading Fonts into R. https://CRAN.R-project.org/package=sysfonts.\n\n\n———. 2023. showtext: Using Fonts More Easily in R Graphs. https://CRAN.R-project.org/package=showtext.\n\n\nR Core Team. 2024. R: A Language and Environment for Statistical Computing. Vienna, Austria: R Foundation for Statistical Computing. https://www.R-project.org/.\n\n\nR4DS Online Learning Community. 2023. “Tidy Tuesday: A Weekly Social Data Project.” https://github.com/rfordatascience/tidytuesday.\n\n\nRennie, Nicola. 2023a. “Adding Social Media Icons to Charts with ggplot2.” https://nrennie.rbind.io/blog/adding-social-media-icons-ggplot2/.\n\n\n———. 2023b. “Creating Template Files with R.” https://nrennie.rbind.io/blog/script-templates-r/.\n\n\n———. 2023c. “Four Ways to Streamline Your R Workflows.” https://nrennie.rbind.io/blog/four-ways-streamline-r-workflows/.\n\n\n———. 2024a. ggtextcircle: Circular Text in ’ggplot2’. https://github.com/nrennie/ggtextcircle.\n\n\n———. 2024b. nobel: Access data from the Nobel Prize API via R. https://github.com/nrennie/nobel.\n\n\n———. 2024c. “tidytuesday.” GitHub Repository. GitHub. https://github.com/nrennie/tidytuesday.\n\n\nRennie, Nicola, and Andreas Krause. 2024. “Presenting data the Significance way - Part 1.” Significance 21 (3): 36–39. https://doi.org/10.1093/jrssig/qmae045.\n\n\nReynolds, Gina. 2025. “Everyday ggplot2 extension.” https://evamaerey.github.io/everyday_ggplot2_extension/.\n\n\nRStudio. 2018a. “forcats Hex Sticker.” https://github.com/rstudio/hex-stickers/blob/main/PNG/forcats.png.\n\n\n———. 2018b. “ggplot2 Hex Sticker.” https://github.com/rstudio/hex-stickers/blob/main/PNG/ggplot2.png.\n\n\n———. 2018c. “purrr Hex Sticker.” https://github.com/rstudio/hex-stickers/blob/main/PNG/purrr.png.\n\n\n———. 2018d. “readr Hex Sticker.” https://github.com/rstudio/hex-stickers/blob/main/PNG/readr.png.\n\n\n———. 2018e. “tibble Hex Sticker.” https://github.com/rstudio/hex-stickers/blob/main/PNG/tibble.png.\n\n\n———. 2020a. “dplyr Hex Sticker.” https://github.com/rstudio/hex-stickers/blob/main/PNG/dplyr.png.\n\n\n———. 2020b. “stringr Hex Sticker.” https://github.com/rstudio/hex-stickers/blob/main/PNG/stringr.png.\n\n\n———. 2020c. “tidyr Hex Sticker.” https://github.com/rstudio/hex-stickers/blob/main/PNG/tidyr.png.\n\n\nRudis, Bob, Ben Bolker, and Jan Schulz. 2017. ggalt: Extra Coordinate Systems, ’Geoms’, Statistical Transformations, Scales and Fonts for ’ggplot2’. https://CRAN.R-project.org/package=ggalt.\n\n\nRudis, Bob, and Dave Gandy. 2023. waffle: Create Waffle Chart Visualizations. https://CRAN.R-project.org/package=waffle.\n\n\nSarkar, Deepayan. 2008. Lattice: Multivariate Data Visualization with r. New York: Springer. http://lmdvr.r-forge.r-project.org.\n\n\nSchauberger, Philipp, and Alexander Walker. 2023. openxlsx: Read, Write and Edit xlsx Files. https://CRAN.R-project.org/package=openxlsx.\n\n\nScheuch, Christoph. 2025. owidapi: Access the Our World in Data Chart API. https://doi.org/10.32614/CRAN.package.owidapi.\n\n\nSchloerke, Barret, Di Cook, Joseph Larmarange, Francois Briatte, Moritz Marbach, Edwin Thoen, Amos Elberg, and Jason Crowley. 2024. GGally: Extension to ’ggplot2’. https://CRAN.R-project.org/package=GGally.\n\n\nSchloss, Karen B., Connor C. Gramazio, Allison T. Silverman, Madeline L. Parker, and Audrey S. Wang. 2019. “Mapping Color to Meaning in Colormap Data Visualizations.” IEEE Transactions on Visualization and Computer Graphics 25 (1): 810–19. https://doi.org/10.1109/TVCG.2018.2865147.\n\n\nShalloway, Bryan. 2023. funspotr: Spot R Functions & Packages. https://CRAN.R-project.org/package=funspotr.\n\n\nSievert, Carson. 2020. Interactive Web-Based Data Visualization with r, Plotly, and Shiny. Chapman; Hall/CRC. https://plotly-r.com.\n\n\nSlowikowski, Kamil. 2024. ggrepel: Automatically Position Non-Overlapping Text Labels with ’ggplot2’. https://CRAN.R-project.org/package=ggrepel.\n\n\nTierney, Nicholas. 2017. “visdat: Visualising Whole Data Frames.” JOSS 2 (16): 355. https://doi.org/10.21105/joss.00355.\n\n\nTierney, Nicholas, and Dianne Cook. 2023. “Expanding Tidy Data Principles to Facilitate Missing Data Exploration, Visualization and Assessment of Imputations.” Journal of Statistical Software 105 (7): 1–31. https://doi.org/10.18637/jss.v105.i07.\n\n\nTol, Paul. 2021. “Paul Tol’s Notes: Colour schemes and templates.” https://sronpersonalpages.nl/~pault/.\n\n\nUnited States Census Bureau. 2021a. “Historical Population Change Data (1910-2020).” https://www.census.gov/data/tables/time-series/dec/popchange-data-text.html.\n\n\n———. 2021b. “State Area Measurements and Internal Point Coordinates.” https://www.census.gov/geographies/reference-files/2010/geo/state-area.html.\n\n\nUnited States Department of Agriculture: Economics, Statistics and Market Information System. 2022. “Honey Bee Colonies.” USDA Economics, Statistics and Market Information System. https://usda.library.cornell.edu/concern/publications/rn301137d.\n\n\nWalker, Kyle. 2022. crsuggest: Obtain Suggested Coordinate Reference System Information for Spatial Data. https://CRAN.R-project.org/package=crsuggest.\n\n\nWanzer, Dana Linnell, Tarek Azzam, Natalie D. Jones, and Darrel Skousen. 2021. “The Role of Titles in Enhancing Data Visualization.” Evaluation and Program Planning 84: 101896. https://doi.org/10.1016/j.evalprogplan.2020.101896.\n\n\nWickham, Hadley. 2016. ggplot2: Elegant Graphics for Data Analysis. Springer-Verlag New York. https://ggplot2.tidyverse.org.\n\n\n———. 2023a. forcats: Tools for Working with Categorical Variables (Factors). https://doi.org/10.32614/CRAN.package.forcats.\n\n\n———. 2023b. stringr: Simple, Consistent Wrappers for Common String Operations. https://CRAN.R-project.org/package=stringr.\n\n\nWickham, Hadley, Mara Averick, Jennifer Bryan, Winston Chang, Lucy D’Agostino McGowan, Romain François, Garrett Grolemund, et al. 2019. “Welcome to the tidyverse.” Journal of Open Source Software 4 (43): 1686. https://doi.org/10.21105/joss.01686.\n\n\nWickham, Hadley, and Jennifer Bryan. 2023. readxl: Read Excel Files. https://CRAN.R-project.org/package=readxl.\n\n\nWickham, Hadley, Mine Çetinkaya-Rundel, and Garrett Grolemund. 2023. R for Data Science. Second Edition. O-Reilly. https://r4ds.hadley.nz.\n\n\nWickham, Hadley, Romain François, Lionel Henry, Kirill Müller, and Davis Vaughan. 2023. dplyr: A Grammar of Data Manipulation. https://CRAN.R-project.org/package=dplyr.\n\n\nWickham, Hadley, and Lionel Henry. 2023. purrr: Functional Programming Tools. https://CRAN.R-project.org/package=purrr.\n\n\nWickham, Hadley, Jim Hester, and Jennifer Bryan. 2024. readr: Read Rectangular Text Data. https://CRAN.R-project.org/package=readr.\n\n\nWickham, Hadley, Thomas Lin Pedersen, and Dana Seidel. 2023. scales: Scale Functions for Visualization. https://CRAN.R-project.org/package=scales.\n\n\nWickham, Hadley, Davis Vaughan, and Maximilian Girlich. 2024. tidyr: Tidy Messy Data. https://CRAN.R-project.org/package=tidyr.\n\n\nWilke, Claus. 2022. ggtextures: Drawing Textured Rectangles and Bars with grid and ggplot2. https://github.com/clauswilke/ggtextures.\n\n\nWilke, Claus O. 2024. cowplot: Streamlined Plot Theme and Plot Annotations for ’ggplot2’. https://wilkelab.org/cowplot/.\n\n\nWilke, Claus O., and Brenton M. Wiernik. 2022. ggtext: Improved Text Rendering Support for ’ggplot2’. https://CRAN.R-project.org/package=ggtext.\n\n\nwww.nobelprize.org. 2024. “Nobel Prize API Version 2.1.” https://api.nobelprize.org/2.1/laureates.\n\n\nYork, Piers. 2023. owidR: Import Data from Our World in Data. https://github.com/piersyork/owidR.\n\n\nYu, Guangchuang. 2023. ggimage: Use Image in ’ggplot2’. https://CRAN.R-project.org/package=ggimage.\n\n\nYutani, Hiroaki. 2023. gghighlight: Highlight Lines and Points in ’ggplot2’. https://CRAN.R-project.org/package=gghighlight.\n\n\nZehr, Sarah M., Richard G. Roach, David Haring, Julie Taylor, Freda H. Cameron, and Anne D. Yoder. 2014. “Life history profiles for 27 strepsirrhine primate taxa generated using captive data from the Duke Lemur Center.” Scientific Data 1 (1). https://doi.org/10.1038/sdata.2014.19.",
    "crumbs": [
      "아이콘, 글꼴 및 텍스트 활용",
      "<span class='chapter-number'>8</span>  <span class='chapter-title'>노벨상 수상자: 텍스트 배치 및 플롯 매개변수화</span>"
    ]
  },
  {
    "objectID": "images.html",
    "href": "images.html",
    "title": "이미지 작업",
    "section": "",
    "text": "차트에 이미지를 사용하면 더 시선을 사로잡고 매력적으로 만들 수 있습니다. 또한 이미지(예: 로고)가 일반 텍스트보다 더 쉽게 인식될 수 있는 경우 데이터에 대한 맥락을 제공할 수 있습니다. 이미지는 종종 차트 준비가 되기 전에 어느 정도의 처리가 필요하며, 이 섹션에서는 이미지 처리 소프트웨어가 반드시 필요하지 않으며 R에서 직접 많은 간단한 이미지 작업을 수행할 수 있음을 보여주는 것을 목표로 합니다.\n\n 9  여우원숭이: R에서 이미지 조작하기 에서는 R에서 이미지 작업을 위한 두 가지 패키지인 magick과 imager에 대해 설명합니다. 이미지를 R로 읽어오는 방법과 이미지를 자르거나 특정 픽셀을 투명하게 만들어 조작하는 방법을 배웁니다. 또한 이 두 가지 다른 이미지 패키지를 함께 사용하는 방법도 볼 수 있습니다.\n 10  R 패키지: 사용자 지정 패면 레이블에 이미지 사용하기 에서는 여러 이미지를 사용하는 방법, 이미지를 읽고 데이터 기반 방식으로 플롯하는 방법을 보여줍니다.\n\n이 섹션에는 또한 누락된 데이터를 처리하는 방법에 대한 추가 논의와 효과적이고 접근 가능한 색상 팔레트를 선택하는 방법이 포함되어 있습니다. 또한 R에서 글꼴 작업을 위한 대체 패키지도 보여줍니다.\n\n\n\n\nAnscombe, F. J. 1973. “Graphs in Statistical Analysis.” The American Statistician 27 (1): 17–21. https://doi.org/10.1080/00031305.1973.10478966.\n\n\nAphalo, Pedro J. 2024. Learn R: As a Language. Second Edition. CRC Press. https://www.learnr-book.info/.\n\n\nAuguie, Baptiste. 2019. egg: Extensions for ’ggplot2’: Custom Geom, Custom Themes, Plot Alignment, Labelled Panels, Symmetric Scales, and Fixed Panel Size. https://CRAN.R-project.org/package=egg.\n\n\nBarthelme, Simon. 2024. imager: Image Processing Library Based on ’CImg’. https://CRAN.R-project.org/package=imager.\n\n\nBrand, Teun van den. 2025. “ggplot2 4.0.0.” https://www.tidyverse.org/blog/2025/09/ggplot2-4-0-0/.\n\n\nBridson, Robert. 2007. “Fast Poisson Disk Sampling in Arbitrary Dimensions.” In ACM SIGGRAPH 2007 Sketches. SIGGRAPH ’07. New York, NY, USA: Association for Computing Machinery. https://doi.org/10.1145/1278780.1278807.\n\n\nBrown, Mark J.F., and Paxton, Robert J. 2009. “The Conservation of Bees: A Global Perspective.” Apidologie 40 (3): 410–16. https://doi.org/10.1051/apido/2009019.\n\n\nCameron, Allan, and Teun van den Brand. 2024. geomtextpath: Curved Text in ’ggplot2’. https://CRAN.R-project.org/package=geomtextpath.\n\n\nCARTO. 2016. ’CARTOColors’ Palettes. https://carto.com/carto-colors/.\n\n\nChang, Winston. 2023. extrafont: Tools for Using Fonts. https://CRAN.R-project.org/package=extrafont.\n\n\nCheung, Foo. 2021. dumbbell: Displaying Changes Between Two Points Using Dumbbell Plots. https://CRAN.R-project.org/package=dumbbell.\n\n\nCowgill, Matt, and John Helveston. 2021. ggannotate: Interactively Annotate ggplot2 Plots. https://github.com/MattCowgill/ggannotate.\n\n\nCsárdi, Gábor, and Jim Hester. 2024. pak: Another Approach to Package Installation. https://CRAN.R-project.org/package=pak.\n\n\nCsárdi, Gábor, Jim Hester, Hadley Wickham, Winston Chang, Martin Morgan, and Dan Tenenbaum. 2024. remotes: R Package Installation from Remote Repositories, Including ’GitHub’. https://CRAN.R-project.org/package=remotes.\n\n\nDomin, Iaroslav. 2024. ggview: ’ggplot2’ Picture Previewer. https://CRAN.R-project.org/package=ggview.\n\n\nEngler, Jan Broder. 2024. “Tidyplots Empowers Life Scientists with Easy Code-Based Data Visualization.” bioRxiv. https://doi.org/10.1101/2024.11.08.621836.\n\n\nFC, Mike, Trevor L. Davis, and ggplot2 authors. 2024. ggpattern: ’ggplot2’ Pattern Geoms. https://CRAN.R-project.org/package=ggpattern.\n\n\nFlaticon.com. 2024. “Wind Power Flaticon.” https://www.flaticon.com/free-icon/wind-power_5670189.\n\n\nFont Awesome. 2024. “Font Awesome 6.” https://fontawesome.com/.\n\n\nFranconeri, Steven L., Lace M. Padilla, Priti Shah, Jeffrey M. Zacks, and Jessica Hullman. 2021. “The Science of Visual Data Communication: What Works.” Psychological Science in the Public Interest 22 (3): 110–61. https://doi.org/10.1177/15291006211051956.\n\n\nGarnier, Simon, Ross, Noam, Rudis, Robert, Camargo, et al. 2024. viridis(Lite) - Colorblind-Friendly Color Maps for R. https://doi.org/10.5281/zenodo.4679423.\n\n\nGohel, David, and Panagiotis Skintzos. 2024. ggiraph: Make ’ggplot2’ Graphics Interactive. https://CRAN.R-project.org/package=ggiraph.\n\n\nGovernment Analysis Function. 2021. “Data Visualisation: Colours.” https://analysisfunction.civilservice.gov.uk/policy-store/data-visualisation-colours-in-charts/.\n\n\nHafen, Ryan. 2023. geofacet: ’ggplot2’ Faceting Utilities for Geographical Data. https://CRAN.R-project.org/package=geofacet.\n\n\nHarmon, Jon. 2024. Web APIs with R. CRC Press. https://wapir.io/.\n\n\nHester, Jim, Florent Angly, Russ Hyde, Michael Chirico, Kun Ren, Alexander Rosenstock, and Indrajeet Patil. 2024. lintr: A ’Linter’ for R Code. https://CRAN.R-project.org/package=lintr.\n\n\nHester, Jim, and Jennifer Bryan. 2024. glue: Interpreted String Literals. https://glue.tidyverse.org/.\n\n\nHughes, Ellis. 2022a. camcorder: Record Your Plot History. https://CRAN.R-project.org/package=camcorder.\n\n\n———. 2022b. tidytuesdayR: Access the Weekly ’TidyTuesday’ Project Dataset. https://CRAN.R-project.org/package=tidytuesdayR.\n\n\nHvitfeldt, Emil. 2021. paletteer: Comprehensive Collection of Color Palettes. https://github.com/EmilHvitfeldt/paletteer.\n\n\n———. 2025. animalshelter: Animal Shelter Data. https://github.com/EmilHvitfeldt/animalshelter.\n\n\nIannone, Richard. 2024. fontawesome: Easily Work with ’Font Awesome’ Icons. https://CRAN.R-project.org/package=fontawesome.\n\n\nInternet Assigned Numbers Authority. 2023. “The tz Database: Time Zone and Daylight Saving Time Data.” Internet Assigned Numbers Authority. https://data.iana.org/time-zones/tz-link.html.\n\n\nJax (@lysrix). 2017. “Lemur.” https://unsplash.com/photos/red-and-white-rodent-h5xrh3CNT-k.\n\n\nKays, R., R. R. Dunn, A. W. Parsons, B. Mcdonald, T. Perkins, S. A. Powers, L. Shell, et al. 2020. “The Small Home Ranges and Large Local Ecological Impacts of Pet Cats.” Animal Conservation 23 (5): 516–23. https://doi.org/10.1111/acv.12563.\n\n\nKeyes, David. 2024. R for the Rest of Us: A Statistics-Free Introduction. No Starch Press. https://book.rfortherestofus.com/.\n\n\nLong Beach Animal Shelter. 2025. “Animal Shelter Data.” City of Long Beach Animal Care Services. https://data.longbeach.gov/explore/dataset/animal-shelter-intakes-and-outcomes/information/.\n\n\nLucchesi, Lydia, and Petra Kuhnert. 2020. Vizumap: Visualizing Uncertainty in Spatial Data. https://github.com/lydialucchesi/Vizumap.\n\n\nMapping Museums. 2021. “Mapping Museums Data.” www.mappingmuseums.org.\n\n\nMassicotte, Philippe, and Andy South. 2023. rnaturalearth: World Map Data from Natural Earth. https://docs.ropensci.org/rnaturalearth/.\n\n\nMatejka, Justin, and George Fitzmaurice. 2017. “Same Stats, Different Graphs: Generating Datasets with Varied Appearance and Identical Statistics Through Simulated Annealing.” In, 1290–94. https://doi.org/10.1145/3025453.3025912.\n\n\nMcDonald, J. L., and H. Cole. 2020. “Data from: The Small Home Ranges and Large Local Ecological Impacts of Pet Cats [United Kingdom].” Movebank data repository. https://doi.org/doi:10.5441/001/1.pf315732.\n\n\nMcWhite, Claire D., and Claus O. Wilke. 2024. colorblindr: Simulate colorblindness in R figures. https://github.com/clauswilke/colorblindr.\n\n\nMid-Atlantic Apiculture Research and Extension Consortium. 2024. “Seasonal Cycles of Activities in Colonies.” https://canr.udel.edu/maarec/honey-bee-biology/seasonal-cycles-of-activities-in-colonies/.\n\n\nmikefc. 2024. poissoned: Tileable Poisson Disc Sampling. https://github.com/coolbutuseless/poissoned.\n\n\nMills, Blake Robert. 2022. MetBrewer: Color Palettes Inspired by Works at the Metropolitan Museum of Art. https://CRAN.R-project.org/package=MetBrewer.\n\n\nMIT Election Data and Science Lab. 2017. “U.S. House 1976–2022.” Harvard Dataverse. https://doi.org/10.7910/DVN/IG0UN2.\n\n\nMüller, Kirill, and Lorenz Walthert. 2023. styler: Non-Invasive Pretty Printing of R Code. https://CRAN.R-project.org/package=styler.\n\n\nMüller, Kirill, and Hadley Wickham. 2023. tibble: Simple Data Frames. https://CRAN.R-project.org/package=tibble.\n\n\nMuth, Lisa. 2018. “An Alternative to Pink & Blue: Colors for Gender Data.” https://blog.datawrapper.de/gendercolor/.\n\n\nNatural Resources Canada. 2021. “Canadian Wind Turbine Database.” Natural Resources Canada (Government of Canada). https://open.canada.ca/data/en/dataset/79fdad93-9025-49ad-ba16-c26d718cc070.\n\n\nNoblet, Guillaume. 2025. ggbranding: Add Personal Branding to ’ggplot2’ Charts. https://github.com/gnoblet/ggbranding.\n\n\nNowosad, Jakub. 2018. ’CARTOColors’ Palettes. https://jakubnowosad.com/rcartocolor/.\n\n\nOoms, Jeroen. 2024. magick: Advanced Graphics and Image-Processing in R. https://CRAN.R-project.org/package=magick.\n\n\nOur World in Data. 2019. “Medical Doctors Per 1,000 People.” https://ourworldindata.org/grapher/physicians-per-1000-people.\n\n\nPebesma, Edzer. 2018. “Simple Features for R: Standardized Support for Spatial Vector Data.” The R Journal 10 (1): 439–46. https://doi.org/10.32614/RJ-2018-009.\n\n\nPedersen, Thomas Lin. 2022. ggforce: Accelerating ’ggplot2’. https://CRAN.R-project.org/package=ggforce.\n\n\n———. 2024. patchwork: The Composer of Plots. https://CRAN.R-project.org/package=patchwork.\n\n\n———. 2025. “Fonts in R.” https://www.tidyverse.org/blog/2025/05/fonts-in-r/.\n\n\nPedersen, Thomas Lin, and Martin Mitáš. 2024. marquee: Markdown Parser and Renderer for R Graphics. https://CRAN.R-project.org/package=marquee.\n\n\nPedersen, Thomas Lin, Jeroen Ooms, and Devon Govett. 2024. systemfonts: System Native Font Finding. https://CRAN.R-project.org/package=systemfonts.\n\n\nPedersen, Thomas Lin, and Maxim Shemanarev. 2023. ragg: Graphic Devices Based on AGG. https://CRAN.R-project.org/package=ragg.\n\n\nPLDB contributors. 2022. “PLDB: A Programming Language Database.” PLDB. https://pldb.com.\n\n\nQiu, Yixuan. 2022. sysfonts: Loading Fonts into R. https://CRAN.R-project.org/package=sysfonts.\n\n\n———. 2023. showtext: Using Fonts More Easily in R Graphs. https://CRAN.R-project.org/package=showtext.\n\n\nR Core Team. 2024. R: A Language and Environment for Statistical Computing. Vienna, Austria: R Foundation for Statistical Computing. https://www.R-project.org/.\n\n\nR4DS Online Learning Community. 2023. “Tidy Tuesday: A Weekly Social Data Project.” https://github.com/rfordatascience/tidytuesday.\n\n\nRennie, Nicola. 2023a. “Adding Social Media Icons to Charts with ggplot2.” https://nrennie.rbind.io/blog/adding-social-media-icons-ggplot2/.\n\n\n———. 2023b. “Creating Template Files with R.” https://nrennie.rbind.io/blog/script-templates-r/.\n\n\n———. 2023c. “Four Ways to Streamline Your R Workflows.” https://nrennie.rbind.io/blog/four-ways-streamline-r-workflows/.\n\n\n———. 2024a. ggtextcircle: Circular Text in ’ggplot2’. https://github.com/nrennie/ggtextcircle.\n\n\n———. 2024b. nobel: Access data from the Nobel Prize API via R. https://github.com/nrennie/nobel.\n\n\n———. 2024c. “tidytuesday.” GitHub Repository. GitHub. https://github.com/nrennie/tidytuesday.\n\n\nRennie, Nicola, and Andreas Krause. 2024. “Presenting data the Significance way - Part 1.” Significance 21 (3): 36–39. https://doi.org/10.1093/jrssig/qmae045.\n\n\nReynolds, Gina. 2025. “Everyday ggplot2 extension.” https://evamaerey.github.io/everyday_ggplot2_extension/.\n\n\nRStudio. 2018a. “forcats Hex Sticker.” https://github.com/rstudio/hex-stickers/blob/main/PNG/forcats.png.\n\n\n———. 2018b. “ggplot2 Hex Sticker.” https://github.com/rstudio/hex-stickers/blob/main/PNG/ggplot2.png.\n\n\n———. 2018c. “purrr Hex Sticker.” https://github.com/rstudio/hex-stickers/blob/main/PNG/purrr.png.\n\n\n———. 2018d. “readr Hex Sticker.” https://github.com/rstudio/hex-stickers/blob/main/PNG/readr.png.\n\n\n———. 2018e. “tibble Hex Sticker.” https://github.com/rstudio/hex-stickers/blob/main/PNG/tibble.png.\n\n\n———. 2020a. “dplyr Hex Sticker.” https://github.com/rstudio/hex-stickers/blob/main/PNG/dplyr.png.\n\n\n———. 2020b. “stringr Hex Sticker.” https://github.com/rstudio/hex-stickers/blob/main/PNG/stringr.png.\n\n\n———. 2020c. “tidyr Hex Sticker.” https://github.com/rstudio/hex-stickers/blob/main/PNG/tidyr.png.\n\n\nRudis, Bob, Ben Bolker, and Jan Schulz. 2017. ggalt: Extra Coordinate Systems, ’Geoms’, Statistical Transformations, Scales and Fonts for ’ggplot2’. https://CRAN.R-project.org/package=ggalt.\n\n\nRudis, Bob, and Dave Gandy. 2023. waffle: Create Waffle Chart Visualizations. https://CRAN.R-project.org/package=waffle.\n\n\nSarkar, Deepayan. 2008. Lattice: Multivariate Data Visualization with r. New York: Springer. http://lmdvr.r-forge.r-project.org.\n\n\nSchauberger, Philipp, and Alexander Walker. 2023. openxlsx: Read, Write and Edit xlsx Files. https://CRAN.R-project.org/package=openxlsx.\n\n\nScheuch, Christoph. 2025. owidapi: Access the Our World in Data Chart API. https://doi.org/10.32614/CRAN.package.owidapi.\n\n\nSchloerke, Barret, Di Cook, Joseph Larmarange, Francois Briatte, Moritz Marbach, Edwin Thoen, Amos Elberg, and Jason Crowley. 2024. GGally: Extension to ’ggplot2’. https://CRAN.R-project.org/package=GGally.\n\n\nSchloss, Karen B., Connor C. Gramazio, Allison T. Silverman, Madeline L. Parker, and Audrey S. Wang. 2019. “Mapping Color to Meaning in Colormap Data Visualizations.” IEEE Transactions on Visualization and Computer Graphics 25 (1): 810–19. https://doi.org/10.1109/TVCG.2018.2865147.\n\n\nShalloway, Bryan. 2023. funspotr: Spot R Functions & Packages. https://CRAN.R-project.org/package=funspotr.\n\n\nSievert, Carson. 2020. Interactive Web-Based Data Visualization with r, Plotly, and Shiny. Chapman; Hall/CRC. https://plotly-r.com.\n\n\nSlowikowski, Kamil. 2024. ggrepel: Automatically Position Non-Overlapping Text Labels with ’ggplot2’. https://CRAN.R-project.org/package=ggrepel.\n\n\nTierney, Nicholas. 2017. “visdat: Visualising Whole Data Frames.” JOSS 2 (16): 355. https://doi.org/10.21105/joss.00355.\n\n\nTierney, Nicholas, and Dianne Cook. 2023. “Expanding Tidy Data Principles to Facilitate Missing Data Exploration, Visualization and Assessment of Imputations.” Journal of Statistical Software 105 (7): 1–31. https://doi.org/10.18637/jss.v105.i07.\n\n\nTol, Paul. 2021. “Paul Tol’s Notes: Colour schemes and templates.” https://sronpersonalpages.nl/~pault/.\n\n\nUnited States Census Bureau. 2021a. “Historical Population Change Data (1910-2020).” https://www.census.gov/data/tables/time-series/dec/popchange-data-text.html.\n\n\n———. 2021b. “State Area Measurements and Internal Point Coordinates.” https://www.census.gov/geographies/reference-files/2010/geo/state-area.html.\n\n\nUnited States Department of Agriculture: Economics, Statistics and Market Information System. 2022. “Honey Bee Colonies.” USDA Economics, Statistics and Market Information System. https://usda.library.cornell.edu/concern/publications/rn301137d.\n\n\nWalker, Kyle. 2022. crsuggest: Obtain Suggested Coordinate Reference System Information for Spatial Data. https://CRAN.R-project.org/package=crsuggest.\n\n\nWanzer, Dana Linnell, Tarek Azzam, Natalie D. Jones, and Darrel Skousen. 2021. “The Role of Titles in Enhancing Data Visualization.” Evaluation and Program Planning 84: 101896. https://doi.org/10.1016/j.evalprogplan.2020.101896.\n\n\nWickham, Hadley. 2016. ggplot2: Elegant Graphics for Data Analysis. Springer-Verlag New York. https://ggplot2.tidyverse.org.\n\n\n———. 2023a. forcats: Tools for Working with Categorical Variables (Factors). https://doi.org/10.32614/CRAN.package.forcats.\n\n\n———. 2023b. stringr: Simple, Consistent Wrappers for Common String Operations. https://CRAN.R-project.org/package=stringr.\n\n\nWickham, Hadley, Mara Averick, Jennifer Bryan, Winston Chang, Lucy D’Agostino McGowan, Romain François, Garrett Grolemund, et al. 2019. “Welcome to the tidyverse.” Journal of Open Source Software 4 (43): 1686. https://doi.org/10.21105/joss.01686.\n\n\nWickham, Hadley, and Jennifer Bryan. 2023. readxl: Read Excel Files. https://CRAN.R-project.org/package=readxl.\n\n\nWickham, Hadley, Mine Çetinkaya-Rundel, and Garrett Grolemund. 2023. R for Data Science. Second Edition. O-Reilly. https://r4ds.hadley.nz.\n\n\nWickham, Hadley, Romain François, Lionel Henry, Kirill Müller, and Davis Vaughan. 2023. dplyr: A Grammar of Data Manipulation. https://CRAN.R-project.org/package=dplyr.\n\n\nWickham, Hadley, and Lionel Henry. 2023. purrr: Functional Programming Tools. https://CRAN.R-project.org/package=purrr.\n\n\nWickham, Hadley, Jim Hester, and Jennifer Bryan. 2024. readr: Read Rectangular Text Data. https://CRAN.R-project.org/package=readr.\n\n\nWickham, Hadley, Thomas Lin Pedersen, and Dana Seidel. 2023. scales: Scale Functions for Visualization. https://CRAN.R-project.org/package=scales.\n\n\nWickham, Hadley, Davis Vaughan, and Maximilian Girlich. 2024. tidyr: Tidy Messy Data. https://CRAN.R-project.org/package=tidyr.\n\n\nWilke, Claus. 2022. ggtextures: Drawing Textured Rectangles and Bars with grid and ggplot2. https://github.com/clauswilke/ggtextures.\n\n\nWilke, Claus O. 2024. cowplot: Streamlined Plot Theme and Plot Annotations for ’ggplot2’. https://wilkelab.org/cowplot/.\n\n\nWilke, Claus O., and Brenton M. Wiernik. 2022. ggtext: Improved Text Rendering Support for ’ggplot2’. https://CRAN.R-project.org/package=ggtext.\n\n\nwww.nobelprize.org. 2024. “Nobel Prize API Version 2.1.” https://api.nobelprize.org/2.1/laureates.\n\n\nYork, Piers. 2023. owidR: Import Data from Our World in Data. https://github.com/piersyork/owidR.\n\n\nYu, Guangchuang. 2023. ggimage: Use Image in ’ggplot2’. https://CRAN.R-project.org/package=ggimage.\n\n\nYutani, Hiroaki. 2023. gghighlight: Highlight Lines and Points in ’ggplot2’. https://CRAN.R-project.org/package=gghighlight.\n\n\nZehr, Sarah M., Richard G. Roach, David Haring, Julie Taylor, Freda H. Cameron, and Anne D. Yoder. 2014. “Life history profiles for 27 strepsirrhine primate taxa generated using captive data from the Duke Lemur Center.” Scientific Data 1 (1). https://doi.org/10.1038/sdata.2014.19.",
    "crumbs": [
      "이미지 작업"
    ]
  },
  {
    "objectID": "lemurs.html",
    "href": "lemurs.html",
    "title": "9  여우원숭이: R에서 이미지 조작하기",
    "section": "",
    "text": "9.1 Data\n이 장에서는 magick과 imager 패키지를 사용하여 R에서 이미지를 로드하고 조작하는 방법을 다룹니다. 또한 cowplot 패키지를 사용하여 이미지와 플롯을 결합하는 방법도 살펴봅니다.\n이 장을 마치면 다음을 할 수 있습니다:\n이 장에 필요한 패키지를 로드하는 것으로 시작합니다.\n이 장에서는 4가지 새로운 패키지를 소개합니다:\n이 장에서는 Duke Lemur Center의 여우원숭이 데이터를 탐색합니다 (Zehr et al. 2014). Duke Lemur Center는 다양한 종에 걸쳐 수백 마리의 여우원숭이를 수용하고 있으며, 여우원숭이의 건강, 번식 및 사회적 상호 작용에 영향을 미치는 요인을 더 잘 이해하기 위해 여우원숭이 거주자에 대한 데이터를 수집합니다. 이 데이터는 2021년 8월 TidyTuesday 데이터 세트로 사용되었으며 (Jesse Mostipak이 제안하고 정리한 후), 이전 장에서 했던 것처럼 tidytuesdayR의 tt_load() 함수를 사용하여 R로 로드할 수 있습니다:\ntuesdata &lt;- tt_load(\"2021-08-24\")\nlemurs &lt;- tuesdata$lemurs\ntaxonomy &lt;- tuesdata$taxonomy\nlemurs 데이터에는 개별 여우원숭이에 대한 정보가 포함되어 있으며 이 장에서 주로 초점을 맞출 데이터 세트입니다. 데이터에는 82609행과 54열이 있어 상당히 큰 데이터 세트입니다. 처음 몇 행은 head()로 검사할 수 있습니다:\nhead(lemurs)\n\n# A tibble: 6 × 54\n  taxon dlc_id hybrid sex   name  current_resident stud_book\n  &lt;chr&gt; &lt;chr&gt;  &lt;chr&gt;  &lt;chr&gt; &lt;chr&gt; &lt;chr&gt;            &lt;chr&gt;    \n1 OGG   0005   N      M     KANGA N                &lt;NA&gt;     \n2 OGG   0005   N      M     KANGA N                &lt;NA&gt;     \n3 OGG   0006   N      F     ROO   N                &lt;NA&gt;     \n4 OGG   0006   N      F     ROO   N                &lt;NA&gt;     \n5 OGG   0009   N      M     POOH… N                &lt;NA&gt;     \n6 OGG   0009   N      M     POOH… N                &lt;NA&gt;     \n# ℹ 47 more variables: dob &lt;date&gt;, birth_month &lt;dbl&gt;,\n#   estimated_dob &lt;chr&gt;, birth_type &lt;chr&gt;,\n#   birth_institution &lt;chr&gt;, litter_size &lt;dbl&gt;,\n#   expected_gestation &lt;dbl&gt;, estimated_concep &lt;date&gt;,\n#   concep_month &lt;dbl&gt;, dam_id &lt;chr&gt;, dam_name &lt;chr&gt;,\n#   dam_taxon &lt;chr&gt;, dam_dob &lt;date&gt;,\n#   dam_age_at_concep_y &lt;dbl&gt;, sire_id &lt;chr&gt;, …\n열은 여우원숭이 종을 식별하는 taxon 코드, 여우원숭이의 이름과 성별, 부모, 생존 여부, 나이와 체중 및 기타 여러 변수에 대한 정보를 제공합니다. 많은 열은 동일한 데이터를 다른 단위로 표현하기 때문에 중복된 정보를 제공합니다(예: 여우원숭이의 나이는 일, 주, 월, 소수점 월 및 연도의 5가지 다른 열로 제공됨).\n82609행의 데이터가 있다고 해서 82609마리의 여우원숭이에 대한 데이터가 있는 것은 아닙니다. 각 여우원숭이에는 여러 행의 데이터가 연결되어 있으며 각 행은 날짜(즉, 다른 나이와 관련된 체중 측정)에 해당합니다. 모든 열이 모든 여우원숭이와 관련이 있는 것은 아니므로(예: 여우원숭이가 아직 살아 있는 경우 age_at_death_y 값이 없음) 데이터 전체에 누락된 값이 많이 있습니다. 이는 또한 누락된 데이터를 처리하려면 어떤 값이 누락되어야 하고 어떤 값이 예상치 못하게 누락되었는지 결정하기 위해 규칙 기반 접근 방식으로 시작해야 함을 의미합니다.\ntaxonomy 데이터는 본질적으로 lemurs 데이터의 taxon 열에 대한 조회 테이블입니다. 각 taxon 코드에 대해 taxonomy 데이터는 종의 라틴어 이름(latin_name)과 일반 이름(common_name)을 제공합니다. 원하는 경우 taxon 열을 사용하여 두 데이터 세트를 결합할 수 있습니다.",
    "crumbs": [
      "이미지 작업",
      "<span class='chapter-number'>9</span>  <span class='chapter-title'>여우원숭이: R에서 이미지 조작하기</span>"
    ]
  },
  {
    "objectID": "lemurs.html#탐색-작업",
    "href": "lemurs.html#탐색-작업",
    "title": "9  여우원숭이: R에서 이미지 조작하기",
    "section": "\n9.2 탐색 작업",
    "text": "9.2 탐색 작업\n데이터의 크기와 포함된 변수의 다양성을 감안할 때 우리가 더 탐색하고 싶어 할 수 있는 많은 측면이 있습니다. 부모 정보를 사용하여 여우원숭이 가계도를 구성할 수 있습니다. 다양한 종의 여우원숭이의 체중과 나이 범위를 비교할 수 있습니다. 여우원숭이의 정상적인 성장 곡선을 살펴보고 나이에 비해 정상 체중 범위를 벗어난 여우원숭이를 식별할 수 있습니다. 거의 끝없는 옵션이 있습니다!\n\n9.2.1 데이터 탐색\n성장 곡선 아이디어에 초점을 맞추고 여우원숭이 나이와 체중 간의 관계를 살펴보겠습니다. 기본 R plot() 함수를 사용하여 Figure 9.1 를 생성하여 개월 단위의 나이와 그램 단위의 체중 간의 관계를 보여줄 수 있습니다. 82609개의 데이터 포인트가 포함된 데이터 세트에서 예상할 수 있듯이 산점도는 변동성이 너무 크고 많은 포인트가 겹치기 때문에 실제 패턴을 명확하게 보여주지 않습니다. \n\nplot(\n  x = lemurs$age_at_wt_mo,\n  y = lemurs$weight_g,\n  xlab = \"Weight (g)\",\n  ylab = \"Age (months)\"\n)\n\n\n\n\n\n\nFigure 9.1: 체중과 나이 간의 관계를 보여주는 산점도. 플롯에 많은 데이터 포인트가 있어 패턴을 확인하기 어렵습니다.\n\n\n\n\n데이터에 27종의 여우원숭이가 있다는 것을 알고 있으며 여우원숭이에 대해 잘 모르더라도 종마다 체중이 다를 것이라고 예상할 수 있습니다. R의 boxplot() 함수를 사용하여 종별 체중을 빠르게 상자 수염 그림으로 그리면 Figure 9.2 에서 볼 수 있듯이 종 간에 여우원숭이 체중에 큰 차이가 있음을 확인할 수 있습니다. \n\nboxplot(\n  weight_g ~ taxon,\n  data = lemurs,\n  horizontal = TRUE,\n  las = 1,\n  xlab = \"Weight\",\n  ylab = NULL\n)\n\n\n\n\n\n\nFigure 9.2: 데이터에 기록된 각 여우원숭이 종에 대해 관찰된 체중 범위를 보여주는 수평 상자 수염 그림으로, 종 간 및 종 내에서 상당한 변동성을 보여줍니다.\n\n\n\n\n\n9.2.2 탐색적 스케치\n종 간 체중의 변동성을 감안할 때 단일 종에 초점을 맞추고 싶을 수 있습니다. 차트를 합리적으로 단순하게 유지하고 여우원숭이 체중이 나이에 따라 어떻게 변하는지에 대한 산점도를 만들어 보겠습니다. 본질적으로 단일 종에 대해 Figure 9.1 를 다시 만들고 훨씬 더 전문적으로 보이도록 작업합니다. 여우원숭이 종은 매우 다양하고 일반 이름만으로는 모두 쉽게 알아볼 수 없으므로 오른쪽 하단에 여우원숭이 종의 이미지를 추가하여 차트에 더 많은 맥락을 추가합니다.\n\n\n\n\n\nFigure 9.3: 나이와 체중 사이의 관계를 보여주는 산점도의 초기 스케치로, 이미지를 위한 공간이 할당되어 있고 제목과 부제목 텍스트가 들어갈 위치를 나타내는 선이 있습니다.",
    "crumbs": [
      "이미지 작업",
      "<span class='chapter-number'>9</span>  <span class='chapter-title'>여우원숭이: R에서 이미지 조작하기</span>"
    ]
  },
  {
    "objectID": "lemurs.html#플롯-준비하기",
    "href": "lemurs.html#플롯-준비하기",
    "title": "9  여우원숭이: R에서 이미지 조작하기",
    "section": "\n9.3 플롯 준비하기",
    "text": "9.3 플롯 준비하기\n데이터는 Figure 9.3 에 기반하여 만들고자 하는 간단한 산점도의 경우 이미 상당히 깨끗하므로 필요한 데이터 랭글링의 양은 제한적입니다.\n\n9.3.1 데이터 랭글링\n우리는 데이터의 일부를 추출하여 한 종의 여우원숭이만 고려하려고 합니다. 여우원숭이 전문가가 아니라면 lemurs 데이터의 어떤 분류 코드가 어떤 여우원숭이 종과 관련이 있는지 모를 것입니다. taxonomy 데이터를 lemurs 데이터에 결합한 다음 결합된 common_name 열을 기반으로 데이터를 필터링할 수 있습니다. 그러나 향후 데이터 처리가 매우 적으므로 taxonomy 데이터를 탐색하고 common_name 열에서 여우원숭이 종을 선택하고 관련 분류 코드를 조회할 수 있습니다.\n\n\n\n\n\n\n데이터에는 27종의 여우원숭이가 포함되어 있으며 이 장의 나머지 부분에서는 붉은 목도리 여우원숭이(red ruffed lemurs)에 초점을 맞출 것입니다. 붉은 목도리 여우원숭이의 분류 코드는 VRUB입니다. dplyr의 filter() 함수를 사용하여 taxon 열에 \"VRUB\"가 있는 데이터 행만 유지합니다: \n\nvrub_lemurs &lt;- lemurs |&gt;\n  filter(taxon == \"VRUB\")\n\n이것은 확실히 이 책에서 가장 쉬운 데이터 랭글링 과정이며 이제 플롯의 첫 번째 초안을 만들 준비가 되었습니다!\n\n9.3.2 첫 번째 플롯\nggplot() 함수로 시작하여 붉은 목도리 여우원숭이에 대한 데이터의 일부를 전달하고 x축에 나이(age_at_wt_mo)를 기본 변수로 설정하고 y축에 체중(weight_g)을 설정합니다. 또한 색상을 사용하여 여우원숭이의 성별(sex)을 구분합니다. 그런 다음 geom_point() 레이어를 추가하여 산점도를 만듭니다. \n\nbasic_plot &lt;- ggplot() +\n  geom_point(\n    data = vrub_lemurs,\n    mapping = aes(\n      x = age_at_wt_mo,\n      y = weight_g,\n      color = sex\n    )\n  )\nbasic_plot\n\n\n\n\n\n\nFigure 9.4: 붉은 목도리 여우원숭이의 체중이 나이에 따라 어떻게 변하는지 보여주는 산점도. 수컷 여우원숭이는 청록색 원으로, 암컷은 주황색 원으로 표시됩니다. 원이 너무 크고 많은 원이 겹쳐 있습니다.\n\n\n\n\nFigure 9.4 에 표시된 데이터는 전체 데이터의 일부이지만 여전히 4166개의 관측값을 포함합니다. 즉, Figure 9.4 의 많은 포인트가 겹치고 특정 영역에 실제로 얼마나 많은 포인트가 있는지 확인하기 어렵습니다. 초기 플롯 코드를 편집해 보겠습니다. geom_point()에서 size를 변경하여 포인트를 약간 작게 만들 수 있습니다. 또한 alpha = 0.6을 설정하여 포인트를 반투명하게 만듭니다. 이는 데이터 포인트가 겹칠 수 있을 때 유용한 기술입니다. 포인트가 많은 차트 영역은 반투명 포인트가 서로 겹쳐질 때 더 어둡게 나타나기 때문입니다. 색상에만 의존하여 데이터 그룹을 시각적으로 식별하는 것은 접근성 측면에서 좋은 접근 방식이 아니므로 포인트의 shape도 여우원숭이의 sex에 매핑합니다. \n\nbasic_plot &lt;- ggplot() +\n  geom_point(\n    data = vrub_lemurs,\n    mapping = aes(\n      x = age_at_wt_mo,\n      y = weight_g,\n      color = sex,\n      shape = sex\n    ),\n    alpha = 0.6,\n    size = 0.8\n  )\nbasic_plot\n\n\n\n\n\n\nFigure 9.5: 붉은 목도리 여우원숭이의 체중이 나이에 따라 어떻게 변하는지 보여주는 산점도. 수컷 여우원숭이는 청록색 삼각형으로, 암컷은 주황색 원으로 표시됩니다. 두 모양 모두 약간 투명합니다.",
    "crumbs": [
      "이미지 작업",
      "<span class='chapter-number'>9</span>  <span class='chapter-title'>여우원숭이: R에서 이미지 조작하기</span>"
    ]
  },
  {
    "objectID": "lemurs.html#고급-스타일링",
    "href": "lemurs.html#고급-스타일링",
    "title": "9  여우원숭이: R에서 이미지 조작하기",
    "section": "\n9.4 고급 스타일링",
    "text": "9.4 고급 스타일링\n이제 플롯을 스타일링하고 편집하여 미적으로 더 즐겁고 접근하기 쉬우며 유익하게 만들 차례입니다.\n\n9.4.1 색상\n플롯 배경과 텍스트의 경우 밝은 베이지색(bg_col) 및 따뜻한 갈색(text_col)과 같이 붉은 목도리 여우원숭이에서 찾을 수 있는 색상을 선택합니다. 또한 수컷과 암컷 여우원숭이를 나타낼 두 가지 색상을 선택해야 합니다. 범주의 색상을 선택할 때는 부정적인 고정 관념을 강화하거나 직관적인 색상 선택과 모순되지 않는 색상을 선택하는 것이 중요합니다. 성별이나 성을 나타내는 색상을 선택할 때 남학생은 파란색, 여학생은 분홍색이라는 고정 관념을 보는 것이 매우 일반적입니다. 우리는 이러한 색상이 가질 수 있는 다른 성별에 대한 부정적인 연관성을 강화하고 싶지 않습니다. 마찬가지로 반대를 선택하여 혼란스럽게 만들고 싶지 않습니다(예: 여자는 파란색, 남자는 분홍색). 대신 암컷 여우원숭이(f_col)에는 보라색을, 수컷 여우원숭이(m_col)에는 청록색을 선택합니다. 이것은 성별을 나타내는 데 드문 색상 조합이 아니며 Lisa Muth의 블로그 게시물 An Alternative to Pink & Blue: Colors for Gender Data (Muth 2018)에서 다른 좋은 옵션에 대해 설명합니다. \n\nbg_col &lt;- \"#F5F5DC\"\ntext_col &lt;- \"#4E2E12\"\nf_col &lt;- \"#A053A1\"\nm_col &lt;- \"#21ADA8\"\n\n그런 다음 values에 전달된 벡터 요소의 이름을 지정하여 색상 변수를 데이터의 값에 명시적으로 매핑하는 scale_color_manual()을 사용하여 수컷 및 암컷 여우원숭이의 색상을 플롯에 적용할 수 있습니다. Chapter 6 에서 했던 것처럼 이러한 색상 변수를 명명된 벡터로 생성할 수 있지만 레이블이 데이터 값과 다르기를 원하기 때문에(예: F 대신 females) 단순히 변수로 전달하는 것과 비슷한 작업량입니다 - 특히 두 범주의 경우에요. \n\ncol_plot &lt;- basic_plot +\n  scale_color_manual(\n    values = c(\"F\" = f_col, \"M\" = m_col)\n  )\n\nChapter 6 에서처럼 두 범주를 구분하기 위해 부제목에 색상 텍스트와 아이콘을 사용할 것이므로 조금 나중에 theme() 함수 내에서 legend.position = \"none\"을 설정하여 범례를 제거할 것입니다. 여기서는 기술적으로 색상에 대한 범례와 모양에 대한 범례의 두 가지 범례가 하나에 있습니다. 범례의 한 부분(예: 색상)만 제거하려면 scale_color_manual() 내부에서 guide = \"none\"을 설정할 수 있습니다. 이렇게 하면 기본적으로 검은색으로 표시되는 모양만 있는 범례가 생성됩니다. \n\n9.4.2 systemfonts로 작업하기\n색상과 모양에 대한 전통적인 범례를 사용하는 대신 부제목에 색상 텍스트를 포함할 것입니다. 여기서는 또한 원과 삼각형이 두 범주에 어떻게 매핑되는지 식별하기 위해 부제목에 일부 유니코 아이콘을 포함할 것입니다. 불행히도 Font Awesome 아이콘 글꼴 및 기타 Google 글꼴을 로드하는 데 사용해 온 showtext 패키지는 유니코드 아이콘과 항상 잘 작동하는 것은 아닙니다. 대체 글꼴 패키지인 systemfonts (Pedersen, Ooms, and Govett 2024)를 살펴보겠습니다. Chapter 2 에서 언급했듯이 systemfonts 패키지를 사용하면 로컬 시스템에서 사용 가능한 글꼴 파일을 찾거나 로드할 수 있습니다.\nsystemfonts를 사용하여 글꼴을 등록하려면 register_font() 함수를 사용합니다. 로컬 글꼴을 로드하기 위한 showtext의 font_add() 함수와 매우 유사해 보입니다 - 비교하려면 Chapter 6 및 Chapter 7 를 참조하십시오. Chapter 7 에서 취한 접근 방식의 대안으로 systemfonts를 사용하여 Font Awesome Brand 아이콘을 로드해 보겠습니다. \n첫 번째 인수 name은 R에서 글꼴이 알려진 이름입니다. 원하는 이름을 선택할 수 있지만 여기서는 social_caption() 함수가 여전히 작동하도록 Chapter 7 의 family 인수에 대해 했던 것과 동일한 이름을 사용해야 합니다. plain 인수는 글꼴 파일의 경로입니다.\n\nregister_font(\n  name = \"Font Awesome 6 Brands\",\n  plain = \"fonts/Font-Awesome-6-Brands-Regular-400.otf\"\n)\n\n\n\n\n\n\n\nTip 9.1: 그래픽 장치 설정\n\n\n\nR에서 그래픽 장치는 시각적 출력(플롯 포함)을 렌더링하는 데 사용되는 시스템입니다. 사용되는 그래픽 장치는 사용 중인 운영 체제와 생성하려는 출력 형식(예: png 또는 pdf)에 따라 달라집니다. ragg 패키지 (Pedersen and Shemanarev 2023)는 AGG 라이브러리를 기반으로 R용 그래픽 장치를 제공합니다. \n글꼴 작업을 더 쉽게 만들고 고품질 이미지를 제공하기 때문에 RStudio에서 그래픽에 ragg를 사용하는 것이 좋습니다. 다른 그래픽 장치를 사용하는 경우 systemfonts로 로드된 아이콘이나 글꼴이 올바르게 나타나지 않을 수 있습니다. RStudio의 그래픽 장치에 ragg를 사용하려면 Tools -&gt; Global Options -&gt; General -&gt; Graphics -&gt; Backend로 이동하여 AGG를 선택하십시오. R Markdown 또는 Quarto 문서에서는 knitr::opts_chunk$set(dev = \"ragg_png\") 또는 선택한 장치를 포함하는 설정 청크를 상단에 추가할 수 있습니다. \n\n\n또한 systemfonts의 register_font()를 사용하여 플롯의 제목과 본문 텍스트에 사용할 글꼴을 로드할 수 있습니다. 여기서 차이점은 예를 들어 Google Fonts의 글꼴을 사용하려는 경우 먼저 글꼴 파일을 다운로드해야 한다는 것입니다. \n본문 텍스트의 경우 Łukasz Dziedzic이 디자인한 산세리프 서체인 Lato를 사용합니다. 글꼴 파일은 fonts.google.com/specimen/Lato 또는 www.latofonts.com/lato-free-fonts에서 다운로드할 수 있습니다. 제목의 경우 큰 제목을 위해 특별히 디자인된 서체인 Passion One을 사용합니다! fonts.google.com/specimen/Passion+One에서 다운로드할 수 있습니다. 이러한 서체를 다운로드하면 단일 파일만 다운로드하는 것이 아니라 실제로 여러 파일을 다운로드하는 것입니다 - 굵게 및 기울임꼴과 같이 사용 가능한 글꼴의 각 변형에 대해 하나씩입니다.\nregister_font()에서는 굵은 버전의 글꼴 파일을 bold 인수에 전달하는 것과 같이 이러한 다른 글꼴 파일을 관련 인수에 전달합니다. 모든 서체에 모든 스타일을 사용할 수 있는 것은 아닙니다. 여기서 Passion One은 기울임꼴을 사용할 수 없으므로 Passion One을 로드할 때 italic 인수에 아무것도 전달하지 않습니다. 특정 글꼴 스타일을 사용하지 않을 경우(예: Lato 글꼴을 사용할 때 텍스트를 굵게 쓰지 않을 것임을 알고 있는 경우) register_font()로 이 스타일을 로드할 필요가 없습니다. 그러나 마음이 바뀔 경우를 대비하여 사용할 수 있도록 하는 것이 유용할 수 있습니다!\n\nlibrary(showtext) # Ensure showtext is loaded for font_add_google\nfont_add_google(name = \"Noto Sans KR\", family = \"noto_sans_kr\")\nshowtext_auto()\nshowtext_opts(dpi = 300)\n\nregister_font(\n  name = \"Lato\",\n  plain = \"fonts/Lato/Lato-Regular.ttf\",\n  bold = \"fonts/Lato/Lato-Bold.ttf\",\n  italic = \"fonts/Lato/Lato-Italic.ttf\"\n)\nregister_font(\n  name = \"Passion One\",\n  plain = \"fonts/Passion_One/PassionOne-Regular.ttf\",\n  bold = \"fonts/Passion_One/PassionOne-Bold.ttf\"\n)\n\n\nbody_font &lt;- \"Lato\"\ntitle_font &lt;- \"Passion One\"\nkorean_font &lt;- \"noto_sans_kr\"\n\nregister_font()를 사용하는 대안은 다운로드한 글꼴 파일을 마우스 오른쪽 버튼으로 클릭하고 설치(Install)를 선택하여 시스템에 글꼴을 설치하는 것입니다. 그러면 ragg가 글꼴을 자동으로 찾을 수 있어야 합니다. 그러나 시스템 전체에 글꼴을 설치할 수 없거나 선호하지 않는 이유가 있을 수 있습니다. 스크립트에서 register_font()를 사용하면 R 외부에서 발생하는 다른 프로세스에 의존하는 대신 글꼴이 설치된 방법에 대한 기록도 남습니다.\n\n9.4.3 텍스트 추가\n플롯의 제목은 독자에게 질문을 던지고 플롯에 참여하도록 유도하는 간단한 문자열로 정의할 수 있습니다. 부제목 텍스트를 작성하기 위해 glue의 glue() 함수를 사용하여 두 가지 작업을 수행합니다: \n\n\nChapter 7 에서 했던 것처럼 부제목에 색상 텍스트를 추가합니다.\n\nChapter 2 에서 했던 것처럼 데이터 기반 텍스트를 만듭니다.\n\n또한 모양 범례를 대체하기 위해 부제목에 유니코드 문자(삼각형 및 원)를 사용할 것입니다. 유니코드 문자가 색상 방식처럼 차트에 그려진 모양과 정확히 동일하지는 않지만 모양은 이 방식이 작동하기에 충분히 비슷합니다. &#x25B2; 문자열은 검은색 삼각형을 추가하고 &#x25CF 문자열은 검은색 원을 추가합니다. 이들이 검은색 모양을 정의하지만 원하는 색상으로 나타납니다. 여기서 검은색 삼각형은 실제로는 채워진 삼각형을 의미합니다(흰색 삼각형은 윤곽선만 있는 삼각형을 의미함). \n\ntitle &lt;- \"붉은 목도리 여우원숭이의 무게는 얼마일까요??\"\nsubtitle &lt;- glue(\"Duke Lemur Center에서 붉은 목도리 여우원숭이는 평균 {round(mean(vrub_lemurs$age_at_death_y, na.rm = TRUE), 1)}세까지 살고 약 2세에 성숙합니다. 완전히 자라면 &lt;span style='color:{f_col}'&gt;암컷 &#x25CF;&lt;/span&gt;이 &lt;span style='color:{m_col}'&gt;수컷 &#x25B2;&lt;/span&gt;보다 더 무거운 경향이 있는 것처럼 보일 수 있지만, 이 차트는 임신을 고려하지 않은 것입니다.\")\n\nChapter 7 에서 정의한 social_caption() 함수를 사용하여 소셜 미디어용 Font Awesome 아이콘(앞서 정의한 색상 사용)이 포함된 캡션을 만듭니다. 그런 다음 Chapter 6 의 source_caption() 함수에서 소셜 미디어 캡션을 사용하고 Duke Lemur Center와 데이터 출판물을 데이터 소스로 전달합니다. \n\nsocial &lt;- social_caption(\n  icon_color = f_col,\n  font_color = text_col,\n  font_family = body_font\n)\ncap &lt;- source_caption(\n  source = \"Duke Lemur Center (Zehr et al. 2014)\",\n  sep = \"&lt;br&gt;\",\n  graphic = social\n)\n\n제목, 부제목 및 캡션 텍스트는 변수와 기록된 단위를 표시하는 x 및 y 축 레이블과 함께 labs() 함수를 사용하여 플롯에 추가할 수 있습니다. \n\ntext_plot &lt;- col_plot +\n  labs(\n    title = title,\n    subtitle = subtitle,\n    caption = cap,\n    x = \"Age (months)\", y = \"Weight (g)\"\n  )\ntext_plot\n\n\n\n\n\n\nFigure 9.6: 붉은 목도리 여우원숭이의 체중이 나이에 따라 어떻게 변하는지 보여주는 산점도. 수컷 여우원숭이는 청록색 삼각형으로, 암컷은 보라색 원으로 표시됩니다. 부제목 텍스트가 페이지를 벗어나고 캡션이 원시 HTML 텍스트로 잘못 서식이 지정되어 있습니다.\n\n\n\n\n\n9.4.4 테마 조정\n이제 배경 및 텍스트 색상을 구현하고 원시 HTML 코드가 올바르게 처리되도록 몇 가지 최종 스타일링을 추가해야 합니다.\n그리드 선과 축은 유지하지만 회색 배경과 어두운 축 눈금은 제거하는 theme_minimal()을 기본으로 시작합니다. 또한 기본 글꼴 크기를 크기 6으로 설정하고 이전에 정의한 body_font 변수를 기본 글꼴 패밀리로 사용합니다. 그런 다음 theme()을 사용하여 몇 가지 추가 조정을 할 수 있습니다. 여기서 legend.position = \"none\"을 설정하여 범례를 제거하고 플롯 가장자리 주위에 여백을 추가하고 element_rect()를 사용하여 선택한 배경색을 적용합니다. \nplot.title.position 및 plot.caption.position을 \"plot\"으로 설정하면 제목, 부제목 및 캡션이 산점도가 있는 패널이 아닌 전체 플롯의 외부와 정렬되어 더 깔끔하고 균형 잡힌 모양을 제공합니다. 제목 텍스트는 element_text()로 추가 조정되어 title_font 패밀리를 사용하고 크기를 키우고 색상을 변경하고 하단에 약간의 공간을 더 추가합니다. Chapter 2 및 Chapter 7 에서 설명한 대로 플롯 부제목 및 캡션에 ggtext의 element_textbox_simple()을 사용하여 긴 텍스트를 여러 줄로 강제로 줄 바꿈하고 캡션의 HTML 코드를 올바르게 처리합니다. \n\ntheme_plot &lt;- text_plot +\n  theme_minimal(base_size = 6, base_family = body_font) +\n  theme(\n    # legend\n    legend.position = \"none\",\n    # background\n    plot.margin = margin(5, 5, 5, 5),\n    plot.background = element_rect(\n      fill = bg_col, color = bg_col\n    ),\n    # text\n    plot.title.position = \"plot\",\n    plot.caption.position = \"plot\",\n    plot.title = element_text(\n      family = title_font,\n      size = rel(1.7),\n      color = text_col,\n      margin = margin(b = 5)\n    ),\n    plot.subtitle = element_textbox_simple(\n      color = text_col,\n      family = korean_font\n    ),\n    plot.caption = element_textbox_simple(\n      hjust = 0, halign = 0,\n      color = text_col,\n      family = korean_font\n    )\n  )\ntheme_plot\n\n\n\n\n\n\nFigure 9.7: 붉은 목도리 여우원숭이의 체중이 나이에 따라 어떻게 변하는지 보여주는 산점도. 이제 플롯에 베이지색 배경이 있고 부제목 텍스트가 올바르게 줄 바꿈되었으며 캡션에 데이터 및 그래픽의 속성이 있습니다.\n\n\n\n\n플롯의 오른쪽에 이미지를 추가할 것입니다. 우리가 취하는 접근 방식은 빈 공간을 만들어야 합니다. 아마도 가장 간단한 방법은 theme()의 plot.margin 인수를 사용하여 플롯 오른쪽의 여백 크기를 늘리는 것입니다: \n\ntheme_plot +\n  theme(\n    plot.margin = margin(5, 90, 5, 5)\n  )\n\n\n\n\n\n\nFigure 9.8: 붉은 목도리 여우원숭이의 체중이 나이에 따라 어떻게 변하는지 보여주는 산점도. 플롯과 부제목 텍스트의 오른쪽에 추가 공간이 비어 있습니다.\n\n\n\n\n그러나 Figure 9.8 에서 볼 수 있듯이 이 접근 방식은 제목과 부제목 텍스트도 여백으로 확장되지 않기 때문에 플롯의 왼쪽으로 찌그러지는 결과를 낳습니다. 이것은 일부 플롯에는 바람직할 수 있지만 여기서는 잘 작동하지 않습니다. 또 다른 접근 방식은 scale_x_continuous()의 expand 인수를 사용하여 x축 오른쪽의 공간을 늘리는 것입니다. 그러나 이렇게 하면 축이 확장되므로 그리드 선이 추가 공간에 포함됩니다. 휴식과 축 텍스트를 조작하여 원치 않는 구성 요소를 제거 할 수도 있지만 더 쉬운(약간 해킹적인) 해결책이 있습니다. 보조 y축을 추가하고 편집하는 것입니다. \n보조 축은 보조 축에 대한 변환 선택이 전적으로 임의적이지만 플롯이 해석되는 방식에 큰 영향을 미칠 수 있다는 사실 때문에 거의 항상 차트의 나쁜 선택입니다. 그러나 우리는 실제로 데이터를 표시하기 위해 보조 축을 사용하는 것이 아니라 플롯 배경의 레이아웃을 조작하기 위해서만 사용할 것입니다. 제목을 찌그러뜨리거나 여백에 그리드 선을 추가하지 않고 오른쪽에 추가 여백 공간을 추가하려면 다음을 수행할 수 있습니다: \n\n\nscale_y_continuous() 내부에서 sec.axis = dup_axis()를 설정하여 y축을 복제하여 오른쪽에 보조 y축을 만듭니다. dup_axis() 대신 sec_axis() 함수를 사용할 수 있지만 축을 어떤 방식으로든 변환할 필요가 없습니다.\n\ntheme()의 axis.text.y.right 인수에 대해 margin = margin(r = 150)을 사용하여 오른쪽 여백을 확장하여 보조 축 레이블에 많은 여백 공간을 추가합니다.\n그런 다음 axis.text.y.right에 대해 color = bg_col을 설정하여 보조 축 레이블을 배경과 같은색으로 만들어 숨깁니다.\n\n또한 axis.title.y.right를 element_blank()로 설정하여 제목을 제거합니다. \n\nstyled_plot &lt;- theme_plot +\n  scale_y_continuous(sec.axis = dup_axis()) +\n  theme(\n    axis.text.y.right = element_text(\n      margin = margin(r = 90),\n      color = bg_col\n    ),\n    axis.title.y.right = element_blank()\n  )\nstyled_plot\n\n\n\n\n\n\nFigure 9.9: 붉은 목도리 여우원숭이의 체중이 나이에 따라 어떻게 변하는지 보여주는 산점도. 부제목 텍스트가 전체 플롯 너비에 걸쳐 있지만 오른쪽에 추가 공간이 비어 있습니다.\n\n\n\n\n이제 이미지를 배치할 적절한 공간이 생겼습니다.",
    "crumbs": [
      "이미지 작업",
      "<span class='chapter-number'>9</span>  <span class='chapter-title'>여우원숭이: R에서 이미지 조작하기</span>"
    ]
  },
  {
    "objectID": "lemurs.html#이미지-작업",
    "href": "lemurs.html#이미지-작업",
    "title": "9  여우원숭이: R에서 이미지 조작하기",
    "section": "\n9.5 이미지 작업",
    "text": "9.5 이미지 작업\n데이터 시각화 책에서 이미지를 사용하는 방법에 대한 지침을 자주 찾을 수는 없지만 이미지 오버레이를 플롯 위에 추가하고 싶을 수 있는 데에는 여러 가지 이유가 있습니다. 아마도 더 일관된 브랜딩을 위해 모서리에 회사 로고를 추가해야 할 수도 있습니다. 아니면 플롯을 더 눈에 띄게 만드는 방법을 찾고 있을 수도 있습니다! \n\n9.5.1 magick 및 imager를 사용한 이미지 조작\nmagick 패키지 (Ooms 2024)는 ImageMagick 이미지 처리 라이브러리에 대한 바인딩을 제공하며, 이를 통해 회전, 크기 조정, 자르기 또는 흐림(몇 가지만 예를 들면!)을 통해 이미지를 조작할 수 있습니다. PNG, JPG 및 PDF를 포함한 여러 가지 다양한 이미지 형식을 지원합니다. \nmagick 패키지는 이미지를 처리하고 조작할 수 있는 유일한 R 패키지가 아닙니다. 인기 있는 대안은 David Tschumperlé의 C++ 라이브러리인 CImg를 기반으로 하는 imager 패키지 (Barthelme 2024)입니다. 두 패키지 모두 장단점이 있으며 imager의 cimg2magick() 및 magick2cimg() 변환 함수를 통해 두 패키지를 동시에 사용하기 쉽습니다. imager에서 더 쉬운 작업이 있고 magick에서 더 쉬운 작업이 있습니다. 이 장에서는 두 가지 패키지를 함께 사용하여 얼마나 쉬운지 보여드리겠습니다. \n\n\n\n\n\n\nTip 9.2: 재사용할 이미지 찾기\n\n\n\n플롯에 로고를 추가할 때 사용할 이미지와 찾을 위치를 아는 것은 (합리적으로) 쉽습니다. 오버레이하려는 이미지가 아직 없다면 찾는 방법과 위치도 알아야 합니다.\n소유하지 않은 이미지를 플롯에 추가하는 경우 이미지를 재사용할 수 있는 권한이 있는지 확인하고 라이선스 파일이 허용하는지 확인하십시오. Unsplash (unsplash.com), Wikimedia Commons (commons.wikimedia.org) 또는 Pixabay (pixabay.com)와 같은 사이트는 무료로 재사용할 수 있는 이미지를 찾기에 좋은 곳입니다.\n\n\n이 시각화를 위해 Jax가 찍은 Unsplash의 붉은 목도리 여우원숭이 사진을 사용할 것입니다 (Jax (@lysrix) 2017).\nimager 패키지로 시작하여 load.image() 함수를 사용하여 이미지를 R로 읽어들입니다. magick을 시작으로 사용했다면 대신 image_read() 함수를 사용했을 것입니다. \n\nlemur_img &lt;- load.image(\"images/lemur.jpg\")\nplot(lemur_img)\n\n\n\n\n\n\nFigure 9.10: 픽셀 단위의 이미지 크기를 나타내는 플롯 축과 함께 표시된 붉은 목도리 여우원숭이의 이미지.\n\n\n\n\nplot(lemur_img)를 실행하여 이미지가 올바르게 로드되었는지 확인할 수 있습니다. 축이 픽셀 수를 나타내는 전통적인 기본 R 그래픽 그리드에 플로팅된 것을 볼 수 있습니다. 이 배경 그리드를 처리하는 방법에 대해서는 걱정하지 마십시오. 잠시 후에 처리하겠습니다!\n여우원숭이의 재미있는 이미지이지만 원시 형식으로 플롯 위에 오버레이하는 것은 미적으로 가장 즐겁지 않을 것입니다. 이미지의 배경은 플롯에 대해 매우 명확할 것입니다. 이미지가 투명한 배경을 가진 여우원숭이 자체의 이미지라면 더 좋을 것입니다. 배경을 제거할 수 있는 많은 온라인 도구와 데스크톱 소프트웨어가 있지만 R에서도 이 작업을 수행할 수 있습니다!\n가능한 한 많은 배경을 잘라내는 것으로 시작하겠습니다. imager에서 Xc() 및 Yc() 함수는 각각 x 및 y 좌표에 대한 이미지의 픽셀 좌표를 반환합니다. 픽셀 좌표를 기반으로 이미지의 픽셀 값을 하위 설정하거나 업데이트하는 것은 본질적으로 R에서 행렬 값을 하위 설정하거나 업데이트하는 것과 같은 방식으로 작동합니다. \nXc(lemur_img) &lt;= 200을 실행하면 x 좌표가 200 이하인 모든 값이 TRUE이고 그렇지 않으면 FALSE인 픽셀 행렬이 생성됩니다. 이 값을 0으로 설정하면 해당 픽셀이 검은색으로 바뀝니다. x 좌표가 275 미만이고 y 좌표가 320보다 큰 섹션을 제거하기 위해 비슷한 작업을 수행할 수 있습니다. 이러한 경계를 올바르게 설정하려면 약간의 시행착오가 필요하지만 플롯 축을 가이드로 사용할 수 있습니다. y축에 주의하십시오 - 대부분의 플롯과 반대 방향으로 이동합니다! \n\npx &lt;- Xc(lemur_img) &lt;= 200\nlemur_img[px] &lt;- 0\npx &lt;- Xc(lemur_img) &lt;= 275 &\n  Yc(lemur_img) &gt;= 320\nlemur_img[px] &lt;- 0\n\n이제 나머지 배경을 제거해야 합니다. 다행히도 유지하려는 이미지 부분(여우원숭이)과 그렇지 않은 부분(배경) 사이에 꽤 많은 대비가 있습니다. imager의 px.flood() 함수를 사용하면 초기 픽셀과 유사한 픽셀을 선택할 수 있습니다. 즉, 여우원숭이에서 픽셀을 선택한 다음 px.flood() 함수를 사용하여 여우원숭이와 유사한 모든 픽셀을 선택할 수 있습니다. x 및 y 인수는 시작할 초기 픽셀의 좌표를 지정하는 데 사용됩니다. sigma 인수는 픽셀이 얼마나 다를 수 있는지 지정하며, 낮은 값은 매우 유사함을 나타내고 높은 sigma 값은 더 다른 값이 선택될 수 있도록 합니다. \n이러한 인수에 가장 적합한 값을 선택하려면 약간의 시행착오가 필요하며 유사한 것으로 간주되는 픽셀의 경계선을 플로팅하여 성능을 시각적으로 검사할 수 있습니다. px.flood()의 출력을 imager의 highlight()로 전달하면 유사한 픽셀 주위에 빨간색 윤곽선이 그려집니다. \n\ndetect_outline &lt;- px.flood(\n  im = lemur_img,\n  x = 420,\n  y = 200,\n  sigma = 0.5\n)\nplot(lemur_img)\nhighlight(detect_outline)\n\n\n\n\n\n\nFigure 9.11: 이미지의 주요 부분과 배경 사이의 경계를 나타내는 빨간색 선이 있는 붉은 목도리 여우원숭이의 이미지.\n\n\n\n\nFigure 9.11 에서 여우원숭이의 흰색 깃(collar)이 배경의 일부로 분류된 것을 볼 수 있습니다. x, y 및 sigma 인수를 편집하여 이미지의 이 부분을 별도로 선택할 수 있습니다.\n\ndetect_outline_2 &lt;- px.flood(\n  im = lemur_img,\n  x = 430,\n  y = 220,\n  sigma = 0.063\n)\n\n투명 배경을 더 쉽게 만들기 위해 이미지의 유사하지 않은 부분, 즉 선택한 픽셀 세트 외부의 영역을 검은색으로 바꿉니다. 이미지를 자를 때와 마찬가지로 픽셀 값을 0으로 설정하여 색상이 없도록 합니다.\n\nlemur_img[detect_outline & !detect_outline_2] &lt;- 0\n\n이제 순수한 검은색인 이미지 섹션을 투명한 섹션으로 바꾸고 싶습니다. 이를 수행하는 가장 쉬운 방법은 magick의 image_transparent() 함수를 사용하는 것입니다. 그러나 lemur_img 이미지는 현재 imager와 함께 작동하도록 설계된 형식이며 magick과 즉시 작동하지 않습니다. 다행히 imager 패키지의 cimg2magick() 함수는 magick과 호환되는 형식으로 변환합니다. 어떤 이유로 cimg2magick()은 이미지가 수평으로 뒤집히게 합니다. magick의 image_flop() 함수를 사용하여 올바른 방향으로 되돌릴 수 있습니다. \n이미지는 항상 magick의 image_*() 함수의 첫 번째 인수이므로(출력은 동일한 클래스로 유지됨) 데이터로 작업할 때 tidyverse 함수를 사용하는 것처럼 여기에서 파이프 워크플로를 사용할 수 있습니다. 마지막으로 magick의 image_transparent() 함수를 사용하여 현재 \"black\"인 모든 픽셀을 투명하게 만듭니다. \n\nlemur_nobg &lt;- cimg2magick(lemur_img) |&gt;\n  image_flop() |&gt;\n  image_transparent(\"black\")\nlemur_nobg\n\n\n\n\n\n\nFigure 9.12: 배경이 제거된 붉은 목도리 여우원숭이의 이미지와 여우원숭이 깃의 작은 부분.\n\n\n\n\nmagick으로 이미지를 인쇄하면 이미지를 플롯 창으로 반환할 뿐만 아니라 이미지 크기, 형식 및 파일 크기에 대한 정보가 포함된 콘솔 출력도 반환합니다. 여우원숭이의 흰색 깃이 여전히 부분적으로 제거되었기 때문에 배경을 투명하게 만드는 과정이 완벽하지 않다는 것을 알 수 있습니다. 또한 올바른 인수 값 조합을 찾기 위해 많은 시행착오가 필요한 과정이기도 합니다.\n\n9.5.2 cowplot을 사용하여 플롯에 이미지 추가\n산점도에 이미지를 추가하기 전에 먼저 캡션을 업데이트하여 데이터 및 그래픽에 대한 속성 외에 이미지에 대한 속성을 추가해 보겠습니다. paste0()를 사용하여 캡션에 이미 사용 중이던 source_caption() 함수의 출력과 스타일이 지정된 추가 텍스트를 결합할 수 있습니다. 이 새 텍스트는 Chapter 6 에서 설명한 텍스트와 유사하며 &lt;br&gt;은 줄 바꿈을 추가하고 **는 굵은 텍스트로 Image라는 단어의 스타일을 지정하는 데 사용됩니다. 그런 다음 labs() 함수에서 기존 캡션을 덮어쓸 수 있습니다. \n\ncap &lt;- paste0(\n  source_caption(\n    source = \"Duke Lemur Center (Zehr et al. 2014)\",\n    sep = \"&lt;br&gt;\",\n    graphic = social\n  ),\n  \"&lt;br&gt;**Image**: Jax (Unsplash: @lysrix)\"\n)\nstyled_plot &lt;- styled_plot +\n  labs(caption = cap)\n\ncowplot 패키지 (C. O. Wilke 2024)는 ggplot2를 확장하고 여러 플롯을 하나의 시각적 요소로 배열, 정렬 및 결합할 수 있도록 합니다. 이 장에서는 이미지 포함을 포함하여 주석 및 사용자 정의를 위한 cowplot 기능에 더 관심이 있습니다. \n\n\n\n\n\n\nTip 9.3: 플롯과 이미지를 결합하기 위한 R 패키지\n\n\n\n여러 플롯을 결합하거나 플롯에 이미지를 추가하는 등 다양한 요소를 배열하는 데 사용할 수 있는 다른 R 패키지가 있습니다. 차트를 배열하는 데 가장 일반적인 것은 patchwork 패키지 (Pedersen 2024)이며 Chapter 12 및 Chapter 13 에서 사용할 것입니다. egg 패키지 (Auguie 2019)는 또 다른 인기 있는 대안이며 geom_custom() 함수는 이미지를 추가하는 데 특히 유용합니다. ggimage 패키지 (Yu 2023)도 차트에 이미지를 추가하는 데 사용할 수 있으며, 데이터 열을 파일 경로 또는 이미지 좌표와 같은 이미지 속성에 매핑할 때 좋습니다. \n\n\ncowplot을 사용하면 ggdraw() 함수를 사용하여 ggplot2 styled_plot 객체 위에 레이어를 설정하여 그 위에 그릴 수 있도록 합니다. 그런 다음 draw_image() 함수를 사용하여 lemur_nobg 이미지를 맨 위에 추가합니다. 기본적으로 플롯 위의 레이어는 0에서 1까지의 좌표를 가지며 (0, 0)은 플롯의 왼쪽 하단 모서리이고 (1, 1)은 오른쪽 상단입니다. 이미지를 오른쪽 하단 모서리에 배치하고 싶으므로 hjust 및 halign을 1로 설정하여 이미지의 오른쪽을 x 값 1과 정렬합니다. vjust 및 valign을 0으로 설정하면 이미지의 하단을 y 값 0과 정렬합니다. width는 이미지의 크기를 정의합니다 - 약간의 시행착오 끝에 이미지 너비로 0.4를 선택했습니다. \n\nfinal_plot &lt;- ggdraw(styled_plot) +\n  draw_image(\n    lemur_nobg,\n    x = 1, y = 0,\n    hjust = 1, halign = 1,\n    vjust = 0, valign = 0,\n    width = 0.4\n  )\nfinal_plot\n\n\n\n\n\n\nFigure 9.13: 붉은 목도리 여우원숭이의 체중이 나이에 따라 어떻게 변하는지 보여주는 산점도. 오른쪽 하단 모서리에 붉은 목도리 여우원숭이의 이미지가 오버레이되어 있습니다.\n\n\n\n\n마지막으로 ggsave()를 사용하여 이미지를 저장합니다: \n\nggsave(\n  filename = \"lemurs.png\",\n  plot = final_plot,\n  width = 5,\n  height = 0.67 * 5\n)\n\ncowplot을 사용하여 이미지를 추가할 때 콘솔에 사용자 정의 글꼴을 찾을 수 없다는 경고가 반환될 수 있습니다. 그러나 글꼴이 차트에 올바르게 표시되면 이러한 경고를 무시할 수 있습니다.",
    "crumbs": [
      "이미지 작업",
      "<span class='chapter-number'>9</span>  <span class='chapter-title'>여우원숭이: R에서 이미지 조작하기</span>"
    ]
  },
  {
    "objectID": "lemurs.html#회고",
    "href": "lemurs.html#회고",
    "title": "9  여우원숭이: R에서 이미지 조작하기",
    "section": "\n9.6 회고",
    "text": "9.6 회고\n그 배후에 있는 코드의 복잡성에도 불구하고 이것은 비교적 간단한 플롯입니다. 그리고 이것이 이 시각화의 장점이 있는 곳입니다 - 깨끗하고 미니멀한 차트를 만드는 데 종종 많은 노력이 필요합니다. 여우원숭이 이미지는 차트에 재미있는 요소를 추가하고 데이터가 표시되는 방식에 추가적인 복잡성을 더하지 않으면서도 더 눈길을 끌고 흥미롭게 만듭니다. 수컷과 암컷 여우원숭이의 데이터를 구분하기 위해 색상 외에 모양을 사용한 것도 차트의 접근성을 높여 더 많은 청중이 이용할 수 있게 하므로 또 다른 장점입니다. 그러나 개선할 수 있는 부분이 몇 군데 있습니다. 가장 눈에 띄는 것은 여우원숭이 이미지의 배경 제거입니다. 앞서 언급했듯이 여우원숭이의 흰색 털 일부는 배경과 색상이 비슷하여 잘못 제거되었습니다.\nx축과 y축 모두 축 선택에 더 많은 주의를 기울임으로써 플롯을 더욱 개선할 수 있습니다. 독자가 여우원숭이 나이 또는 체중의 어떤 측면에 관심이 있는지에 따라 다른 축 선택이 더 적절할 수 있습니다. 예를 들어 성인 여우원숭이에 관심이 있는 경우 데이터를 하위 집합화하여 특정 연령 이상의 여우원숭이만 고려하는 것이 더 효과적일 것입니다. 여우원숭이가 성인 체중에 도달하는 시기를 살펴보는 데 관심이 있는 경우 특정 연령 미만의 여우원숭이를 살펴보거나 축을 변환(예: 로그)하면 여우원숭이가 성장을 멈추는 지점을 더 쉽게 확인할 수 있습니다. 마찬가지로 y축은 체중 데이터가 기록되는 방식이므로 그 단위로 그램을 사용합니다. 어린 여우원숭이의 경우 그램 단위로 측정하는 것이 적절합니다. 그러나 데이터에 있는 대부분의 여우원숭이는 성인이므로 킬로그램 단위로 데이터를 표시하는 것이 더 합리적일 수 있습니다.\n이 차트에서 각 개별 여우원숭이에 대해 여러 체중 측정이 기록되어 있다는 것은 현재 명확하지 않습니다. 즉, 차트에 표시된 데이터 포인트는 독립적이지 않으며 이는 많은 통계 모델의 일반적인 가정입니다. 전반적으로 이것은 사람들이 여우원숭이에 대해 더 많이 배우도록 끌어들일 가능성이 매우 높은 재미있고 해석하기 쉬운 차트입니다. 그러나 통계 모델링 전의 탐색 단계의 일부라면 좀 더 미세조정이 필요할 수 있습니다.",
    "crumbs": [
      "이미지 작업",
      "<span class='chapter-number'>9</span>  <span class='chapter-title'>여우원숭이: R에서 이미지 조작하기</span>"
    ]
  },
  {
    "objectID": "lemurs.html#연습-문제",
    "href": "lemurs.html#연습-문제",
    "title": "9  여우원숭이: R에서 이미지 조작하기",
    "section": "\n9.7 연습 문제",
    "text": "9.7 연습 문제\n\n다른 종을 선택하고 이 시각화를 다시 만들어 보십시오.\nChapter 8 에서 배운 내용을 바탕으로 종(및 선택적 이미지 경로)을 인수로 사용하는 매개변수화된 플롯 함수를 만들 수 있습니까?\n\n\n\n\n\nAnscombe, F. J. 1973. “Graphs in Statistical Analysis.” The American Statistician 27 (1): 17–21. https://doi.org/10.1080/00031305.1973.10478966.\n\n\nAphalo, Pedro J. 2024. Learn R: As a Language. Second Edition. CRC Press. https://www.learnr-book.info/.\n\n\nAuguie, Baptiste. 2019. egg: Extensions for ’ggplot2’: Custom Geom, Custom Themes, Plot Alignment, Labelled Panels, Symmetric Scales, and Fixed Panel Size. https://CRAN.R-project.org/package=egg.\n\n\nBarthelme, Simon. 2024. imager: Image Processing Library Based on ’CImg’. https://CRAN.R-project.org/package=imager.\n\n\nBrand, Teun van den. 2025. “ggplot2 4.0.0.” https://www.tidyverse.org/blog/2025/09/ggplot2-4-0-0/.\n\n\nBridson, Robert. 2007. “Fast Poisson Disk Sampling in Arbitrary Dimensions.” In ACM SIGGRAPH 2007 Sketches. SIGGRAPH ’07. New York, NY, USA: Association for Computing Machinery. https://doi.org/10.1145/1278780.1278807.\n\n\nBrown, Mark J.F., and Paxton, Robert J. 2009. “The Conservation of Bees: A Global Perspective.” Apidologie 40 (3): 410–16. https://doi.org/10.1051/apido/2009019.\n\n\nCameron, Allan, and Teun van den Brand. 2024. geomtextpath: Curved Text in ’ggplot2’. https://CRAN.R-project.org/package=geomtextpath.\n\n\nCARTO. 2016. ’CARTOColors’ Palettes. https://carto.com/carto-colors/.\n\n\nChang, Winston. 2023. extrafont: Tools for Using Fonts. https://CRAN.R-project.org/package=extrafont.\n\n\nCheung, Foo. 2021. dumbbell: Displaying Changes Between Two Points Using Dumbbell Plots. https://CRAN.R-project.org/package=dumbbell.\n\n\nCowgill, Matt, and John Helveston. 2021. ggannotate: Interactively Annotate ggplot2 Plots. https://github.com/MattCowgill/ggannotate.\n\n\nCsárdi, Gábor, and Jim Hester. 2024. pak: Another Approach to Package Installation. https://CRAN.R-project.org/package=pak.\n\n\nCsárdi, Gábor, Jim Hester, Hadley Wickham, Winston Chang, Martin Morgan, and Dan Tenenbaum. 2024. remotes: R Package Installation from Remote Repositories, Including ’GitHub’. https://CRAN.R-project.org/package=remotes.\n\n\nDomin, Iaroslav. 2024. ggview: ’ggplot2’ Picture Previewer. https://CRAN.R-project.org/package=ggview.\n\n\nEngler, Jan Broder. 2024. “Tidyplots Empowers Life Scientists with Easy Code-Based Data Visualization.” bioRxiv. https://doi.org/10.1101/2024.11.08.621836.\n\n\nFC, Mike, Trevor L. Davis, and ggplot2 authors. 2024. ggpattern: ’ggplot2’ Pattern Geoms. https://CRAN.R-project.org/package=ggpattern.\n\n\nFlaticon.com. 2024. “Wind Power Flaticon.” https://www.flaticon.com/free-icon/wind-power_5670189.\n\n\nFont Awesome. 2024. “Font Awesome 6.” https://fontawesome.com/.\n\n\nFranconeri, Steven L., Lace M. Padilla, Priti Shah, Jeffrey M. Zacks, and Jessica Hullman. 2021. “The Science of Visual Data Communication: What Works.” Psychological Science in the Public Interest 22 (3): 110–61. https://doi.org/10.1177/15291006211051956.\n\n\nGarnier, Simon, Ross, Noam, Rudis, Robert, Camargo, et al. 2024. viridis(Lite) - Colorblind-Friendly Color Maps for R. https://doi.org/10.5281/zenodo.4679423.\n\n\nGohel, David, and Panagiotis Skintzos. 2024. ggiraph: Make ’ggplot2’ Graphics Interactive. https://CRAN.R-project.org/package=ggiraph.\n\n\nGovernment Analysis Function. 2021. “Data Visualisation: Colours.” https://analysisfunction.civilservice.gov.uk/policy-store/data-visualisation-colours-in-charts/.\n\n\nHafen, Ryan. 2023. geofacet: ’ggplot2’ Faceting Utilities for Geographical Data. https://CRAN.R-project.org/package=geofacet.\n\n\nHarmon, Jon. 2024. Web APIs with R. CRC Press. https://wapir.io/.\n\n\nHester, Jim, Florent Angly, Russ Hyde, Michael Chirico, Kun Ren, Alexander Rosenstock, and Indrajeet Patil. 2024. lintr: A ’Linter’ for R Code. https://CRAN.R-project.org/package=lintr.\n\n\nHester, Jim, and Jennifer Bryan. 2024. glue: Interpreted String Literals. https://glue.tidyverse.org/.\n\n\nHughes, Ellis. 2022a. camcorder: Record Your Plot History. https://CRAN.R-project.org/package=camcorder.\n\n\n———. 2022b. tidytuesdayR: Access the Weekly ’TidyTuesday’ Project Dataset. https://CRAN.R-project.org/package=tidytuesdayR.\n\n\nHvitfeldt, Emil. 2021. paletteer: Comprehensive Collection of Color Palettes. https://github.com/EmilHvitfeldt/paletteer.\n\n\n———. 2025. animalshelter: Animal Shelter Data. https://github.com/EmilHvitfeldt/animalshelter.\n\n\nIannone, Richard. 2024. fontawesome: Easily Work with ’Font Awesome’ Icons. https://CRAN.R-project.org/package=fontawesome.\n\n\nInternet Assigned Numbers Authority. 2023. “The tz Database: Time Zone and Daylight Saving Time Data.” Internet Assigned Numbers Authority. https://data.iana.org/time-zones/tz-link.html.\n\n\nJax (@lysrix). 2017. “Lemur.” https://unsplash.com/photos/red-and-white-rodent-h5xrh3CNT-k.\n\n\nKays, R., R. R. Dunn, A. W. Parsons, B. Mcdonald, T. Perkins, S. A. Powers, L. Shell, et al. 2020. “The Small Home Ranges and Large Local Ecological Impacts of Pet Cats.” Animal Conservation 23 (5): 516–23. https://doi.org/10.1111/acv.12563.\n\n\nKeyes, David. 2024. R for the Rest of Us: A Statistics-Free Introduction. No Starch Press. https://book.rfortherestofus.com/.\n\n\nLong Beach Animal Shelter. 2025. “Animal Shelter Data.” City of Long Beach Animal Care Services. https://data.longbeach.gov/explore/dataset/animal-shelter-intakes-and-outcomes/information/.\n\n\nLucchesi, Lydia, and Petra Kuhnert. 2020. Vizumap: Visualizing Uncertainty in Spatial Data. https://github.com/lydialucchesi/Vizumap.\n\n\nMapping Museums. 2021. “Mapping Museums Data.” www.mappingmuseums.org.\n\n\nMassicotte, Philippe, and Andy South. 2023. rnaturalearth: World Map Data from Natural Earth. https://docs.ropensci.org/rnaturalearth/.\n\n\nMatejka, Justin, and George Fitzmaurice. 2017. “Same Stats, Different Graphs: Generating Datasets with Varied Appearance and Identical Statistics Through Simulated Annealing.” In, 1290–94. https://doi.org/10.1145/3025453.3025912.\n\n\nMcDonald, J. L., and H. Cole. 2020. “Data from: The Small Home Ranges and Large Local Ecological Impacts of Pet Cats [United Kingdom].” Movebank data repository. https://doi.org/doi:10.5441/001/1.pf315732.\n\n\nMcWhite, Claire D., and Claus O. Wilke. 2024. colorblindr: Simulate colorblindness in R figures. https://github.com/clauswilke/colorblindr.\n\n\nMid-Atlantic Apiculture Research and Extension Consortium. 2024. “Seasonal Cycles of Activities in Colonies.” https://canr.udel.edu/maarec/honey-bee-biology/seasonal-cycles-of-activities-in-colonies/.\n\n\nmikefc. 2024. poissoned: Tileable Poisson Disc Sampling. https://github.com/coolbutuseless/poissoned.\n\n\nMills, Blake Robert. 2022. MetBrewer: Color Palettes Inspired by Works at the Metropolitan Museum of Art. https://CRAN.R-project.org/package=MetBrewer.\n\n\nMIT Election Data and Science Lab. 2017. “U.S. House 1976–2022.” Harvard Dataverse. https://doi.org/10.7910/DVN/IG0UN2.\n\n\nMüller, Kirill, and Lorenz Walthert. 2023. styler: Non-Invasive Pretty Printing of R Code. https://CRAN.R-project.org/package=styler.\n\n\nMüller, Kirill, and Hadley Wickham. 2023. tibble: Simple Data Frames. https://CRAN.R-project.org/package=tibble.\n\n\nMuth, Lisa. 2018. “An Alternative to Pink & Blue: Colors for Gender Data.” https://blog.datawrapper.de/gendercolor/.\n\n\nNatural Resources Canada. 2021. “Canadian Wind Turbine Database.” Natural Resources Canada (Government of Canada). https://open.canada.ca/data/en/dataset/79fdad93-9025-49ad-ba16-c26d718cc070.\n\n\nNoblet, Guillaume. 2025. ggbranding: Add Personal Branding to ’ggplot2’ Charts. https://github.com/gnoblet/ggbranding.\n\n\nNowosad, Jakub. 2018. ’CARTOColors’ Palettes. https://jakubnowosad.com/rcartocolor/.\n\n\nOoms, Jeroen. 2024. magick: Advanced Graphics and Image-Processing in R. https://CRAN.R-project.org/package=magick.\n\n\nOur World in Data. 2019. “Medical Doctors Per 1,000 People.” https://ourworldindata.org/grapher/physicians-per-1000-people.\n\n\nPebesma, Edzer. 2018. “Simple Features for R: Standardized Support for Spatial Vector Data.” The R Journal 10 (1): 439–46. https://doi.org/10.32614/RJ-2018-009.\n\n\nPedersen, Thomas Lin. 2022. ggforce: Accelerating ’ggplot2’. https://CRAN.R-project.org/package=ggforce.\n\n\n———. 2024. patchwork: The Composer of Plots. https://CRAN.R-project.org/package=patchwork.\n\n\n———. 2025. “Fonts in R.” https://www.tidyverse.org/blog/2025/05/fonts-in-r/.\n\n\nPedersen, Thomas Lin, and Martin Mitáš. 2024. marquee: Markdown Parser and Renderer for R Graphics. https://CRAN.R-project.org/package=marquee.\n\n\nPedersen, Thomas Lin, Jeroen Ooms, and Devon Govett. 2024. systemfonts: System Native Font Finding. https://CRAN.R-project.org/package=systemfonts.\n\n\nPedersen, Thomas Lin, and Maxim Shemanarev. 2023. ragg: Graphic Devices Based on AGG. https://CRAN.R-project.org/package=ragg.\n\n\nPLDB contributors. 2022. “PLDB: A Programming Language Database.” PLDB. https://pldb.com.\n\n\nQiu, Yixuan. 2022. sysfonts: Loading Fonts into R. https://CRAN.R-project.org/package=sysfonts.\n\n\n———. 2023. showtext: Using Fonts More Easily in R Graphs. https://CRAN.R-project.org/package=showtext.\n\n\nR Core Team. 2024. R: A Language and Environment for Statistical Computing. Vienna, Austria: R Foundation for Statistical Computing. https://www.R-project.org/.\n\n\nR4DS Online Learning Community. 2023. “Tidy Tuesday: A Weekly Social Data Project.” https://github.com/rfordatascience/tidytuesday.\n\n\nRennie, Nicola. 2023a. “Adding Social Media Icons to Charts with ggplot2.” https://nrennie.rbind.io/blog/adding-social-media-icons-ggplot2/.\n\n\n———. 2023b. “Creating Template Files with R.” https://nrennie.rbind.io/blog/script-templates-r/.\n\n\n———. 2023c. “Four Ways to Streamline Your R Workflows.” https://nrennie.rbind.io/blog/four-ways-streamline-r-workflows/.\n\n\n———. 2024a. ggtextcircle: Circular Text in ’ggplot2’. https://github.com/nrennie/ggtextcircle.\n\n\n———. 2024b. nobel: Access data from the Nobel Prize API via R. https://github.com/nrennie/nobel.\n\n\n———. 2024c. “tidytuesday.” GitHub Repository. GitHub. https://github.com/nrennie/tidytuesday.\n\n\nRennie, Nicola, and Andreas Krause. 2024. “Presenting data the Significance way - Part 1.” Significance 21 (3): 36–39. https://doi.org/10.1093/jrssig/qmae045.\n\n\nReynolds, Gina. 2025. “Everyday ggplot2 extension.” https://evamaerey.github.io/everyday_ggplot2_extension/.\n\n\nRStudio. 2018a. “forcats Hex Sticker.” https://github.com/rstudio/hex-stickers/blob/main/PNG/forcats.png.\n\n\n———. 2018b. “ggplot2 Hex Sticker.” https://github.com/rstudio/hex-stickers/blob/main/PNG/ggplot2.png.\n\n\n———. 2018c. “purrr Hex Sticker.” https://github.com/rstudio/hex-stickers/blob/main/PNG/purrr.png.\n\n\n———. 2018d. “readr Hex Sticker.” https://github.com/rstudio/hex-stickers/blob/main/PNG/readr.png.\n\n\n———. 2018e. “tibble Hex Sticker.” https://github.com/rstudio/hex-stickers/blob/main/PNG/tibble.png.\n\n\n———. 2020a. “dplyr Hex Sticker.” https://github.com/rstudio/hex-stickers/blob/main/PNG/dplyr.png.\n\n\n———. 2020b. “stringr Hex Sticker.” https://github.com/rstudio/hex-stickers/blob/main/PNG/stringr.png.\n\n\n———. 2020c. “tidyr Hex Sticker.” https://github.com/rstudio/hex-stickers/blob/main/PNG/tidyr.png.\n\n\nRudis, Bob, Ben Bolker, and Jan Schulz. 2017. ggalt: Extra Coordinate Systems, ’Geoms’, Statistical Transformations, Scales and Fonts for ’ggplot2’. https://CRAN.R-project.org/package=ggalt.\n\n\nRudis, Bob, and Dave Gandy. 2023. waffle: Create Waffle Chart Visualizations. https://CRAN.R-project.org/package=waffle.\n\n\nSarkar, Deepayan. 2008. Lattice: Multivariate Data Visualization with r. New York: Springer. http://lmdvr.r-forge.r-project.org.\n\n\nSchauberger, Philipp, and Alexander Walker. 2023. openxlsx: Read, Write and Edit xlsx Files. https://CRAN.R-project.org/package=openxlsx.\n\n\nScheuch, Christoph. 2025. owidapi: Access the Our World in Data Chart API. https://doi.org/10.32614/CRAN.package.owidapi.\n\n\nSchloerke, Barret, Di Cook, Joseph Larmarange, Francois Briatte, Moritz Marbach, Edwin Thoen, Amos Elberg, and Jason Crowley. 2024. GGally: Extension to ’ggplot2’. https://CRAN.R-project.org/package=GGally.\n\n\nSchloss, Karen B., Connor C. Gramazio, Allison T. Silverman, Madeline L. Parker, and Audrey S. Wang. 2019. “Mapping Color to Meaning in Colormap Data Visualizations.” IEEE Transactions on Visualization and Computer Graphics 25 (1): 810–19. https://doi.org/10.1109/TVCG.2018.2865147.\n\n\nShalloway, Bryan. 2023. funspotr: Spot R Functions & Packages. https://CRAN.R-project.org/package=funspotr.\n\n\nSievert, Carson. 2020. Interactive Web-Based Data Visualization with r, Plotly, and Shiny. Chapman; Hall/CRC. https://plotly-r.com.\n\n\nSlowikowski, Kamil. 2024. ggrepel: Automatically Position Non-Overlapping Text Labels with ’ggplot2’. https://CRAN.R-project.org/package=ggrepel.\n\n\nTierney, Nicholas. 2017. “visdat: Visualising Whole Data Frames.” JOSS 2 (16): 355. https://doi.org/10.21105/joss.00355.\n\n\nTierney, Nicholas, and Dianne Cook. 2023. “Expanding Tidy Data Principles to Facilitate Missing Data Exploration, Visualization and Assessment of Imputations.” Journal of Statistical Software 105 (7): 1–31. https://doi.org/10.18637/jss.v105.i07.\n\n\nTol, Paul. 2021. “Paul Tol’s Notes: Colour schemes and templates.” https://sronpersonalpages.nl/~pault/.\n\n\nUnited States Census Bureau. 2021a. “Historical Population Change Data (1910-2020).” https://www.census.gov/data/tables/time-series/dec/popchange-data-text.html.\n\n\n———. 2021b. “State Area Measurements and Internal Point Coordinates.” https://www.census.gov/geographies/reference-files/2010/geo/state-area.html.\n\n\nUnited States Department of Agriculture: Economics, Statistics and Market Information System. 2022. “Honey Bee Colonies.” USDA Economics, Statistics and Market Information System. https://usda.library.cornell.edu/concern/publications/rn301137d.\n\n\nWalker, Kyle. 2022. crsuggest: Obtain Suggested Coordinate Reference System Information for Spatial Data. https://CRAN.R-project.org/package=crsuggest.\n\n\nWanzer, Dana Linnell, Tarek Azzam, Natalie D. Jones, and Darrel Skousen. 2021. “The Role of Titles in Enhancing Data Visualization.” Evaluation and Program Planning 84: 101896. https://doi.org/10.1016/j.evalprogplan.2020.101896.\n\n\nWickham, Hadley. 2016. ggplot2: Elegant Graphics for Data Analysis. Springer-Verlag New York. https://ggplot2.tidyverse.org.\n\n\n———. 2023a. forcats: Tools for Working with Categorical Variables (Factors). https://doi.org/10.32614/CRAN.package.forcats.\n\n\n———. 2023b. stringr: Simple, Consistent Wrappers for Common String Operations. https://CRAN.R-project.org/package=stringr.\n\n\nWickham, Hadley, Mara Averick, Jennifer Bryan, Winston Chang, Lucy D’Agostino McGowan, Romain François, Garrett Grolemund, et al. 2019. “Welcome to the tidyverse.” Journal of Open Source Software 4 (43): 1686. https://doi.org/10.21105/joss.01686.\n\n\nWickham, Hadley, and Jennifer Bryan. 2023. readxl: Read Excel Files. https://CRAN.R-project.org/package=readxl.\n\n\nWickham, Hadley, Mine Çetinkaya-Rundel, and Garrett Grolemund. 2023. R for Data Science. Second Edition. O-Reilly. https://r4ds.hadley.nz.\n\n\nWickham, Hadley, Romain François, Lionel Henry, Kirill Müller, and Davis Vaughan. 2023. dplyr: A Grammar of Data Manipulation. https://CRAN.R-project.org/package=dplyr.\n\n\nWickham, Hadley, and Lionel Henry. 2023. purrr: Functional Programming Tools. https://CRAN.R-project.org/package=purrr.\n\n\nWickham, Hadley, Jim Hester, and Jennifer Bryan. 2024. readr: Read Rectangular Text Data. https://CRAN.R-project.org/package=readr.\n\n\nWickham, Hadley, Thomas Lin Pedersen, and Dana Seidel. 2023. scales: Scale Functions for Visualization. https://CRAN.R-project.org/package=scales.\n\n\nWickham, Hadley, Davis Vaughan, and Maximilian Girlich. 2024. tidyr: Tidy Messy Data. https://CRAN.R-project.org/package=tidyr.\n\n\nWilke, Claus. 2022. ggtextures: Drawing Textured Rectangles and Bars with grid and ggplot2. https://github.com/clauswilke/ggtextures.\n\n\nWilke, Claus O. 2024. cowplot: Streamlined Plot Theme and Plot Annotations for ’ggplot2’. https://wilkelab.org/cowplot/.\n\n\nWilke, Claus O., and Brenton M. Wiernik. 2022. ggtext: Improved Text Rendering Support for ’ggplot2’. https://CRAN.R-project.org/package=ggtext.\n\n\nwww.nobelprize.org. 2024. “Nobel Prize API Version 2.1.” https://api.nobelprize.org/2.1/laureates.\n\n\nYork, Piers. 2023. owidR: Import Data from Our World in Data. https://github.com/piersyork/owidR.\n\n\nYu, Guangchuang. 2023. ggimage: Use Image in ’ggplot2’. https://CRAN.R-project.org/package=ggimage.\n\n\nYutani, Hiroaki. 2023. gghighlight: Highlight Lines and Points in ’ggplot2’. https://CRAN.R-project.org/package=gghighlight.\n\n\nZehr, Sarah M., Richard G. Roach, David Haring, Julie Taylor, Freda H. Cameron, and Anne D. Yoder. 2014. “Life history profiles for 27 strepsirrhine primate taxa generated using captive data from the Duke Lemur Center.” Scientific Data 1 (1). https://doi.org/10.1038/sdata.2014.19.",
    "crumbs": [
      "이미지 작업",
      "<span class='chapter-number'>9</span>  <span class='chapter-title'>여우원숭이: R에서 이미지 조작하기</span>"
    ]
  },
  {
    "objectID": "r-packages.html",
    "href": "r-packages.html",
    "title": "10  R 패키지: 사용자 지정 패면 레이블에 이미지 사용하기",
    "section": "",
    "text": "10.1 데이터\n이 장에서는 R 코드에서 어떤 패키지와 함수가 사용되었는지에 대한 데이터를 수집하는 방법, 이미 만들어진 플롯의 기본 데이터를 교체하는 방법, 이미지를 범주 레이블로 사용하는 방법에 대해 알아봅니다.\n이 장을 마치면 다음을 수행할 수 있습니다:\n이 장에 필요한 패키지를 로드하는 것으로 시작합니다.\n이 장에서는 두 가지 새로운 패키지를 소개합니다:\n2024년 7월, TidyTuesday (R4DS Online Learning Community 2023)는 Bryan Shalloway가 제안한 데이터셋으로 funspotr 패키지 (Shalloway 2023)를 사용하는 몇 가지 예제를 다루었습니다. funspotr 패키지는 파일 및 프로젝트에서 사용되는 R 함수와 패키지를 식별하는 데 도움이 되도록 설계되었습니다. TidyTuesday 시각화의 GitHub 저장소에서 어떤 R 함수와 패키지가 사용되었는지 확인해 봅시다: github.com/nrennie/tidytuesday.\nGitHub 저장소에 있는 모든 파일 목록을 가져오는 것으로 시작해 봅시다. funspotr의 list_files_github_repo() 함수를 사용하여 이 파일 목록을 얻을 수 있습니다. 목록을 원하는 GitHub 저장소(\"username/repository\" 형식)와 보고자 하는 저장소의 브랜치를 지정합니다. list_files_github_repo() 함수는 두 개의 열이 있는 데이터 프레임을 반환합니다: relative_paths(git 저장소 루트에 상대적인 파일 경로) 및 absolute_paths(각 파일의 URL).\n이 저장소의 모든 파일은 날짜를 기준으로 다음 구조로 명명되고 구성됩니다: yyyy/yyyy-mm-dd/yyyymmdd.R (Rennie 2023c). 사용된 함수를 추출하는 코드는 실행하는 데 시간이 걸리므로 파일 목록을 필터링하여 2023년 날짜의 파일만 포함하도록 합시다. stringr의 str_detect()를 사용하여 \"2023\"을 포함하는 relative_paths 열의 값을 찾은 다음 dplyr의 filter()를 사용하여 해당 행만 유지할 수 있습니다.\nfiles_to_check &lt;- list_files_github_repo(\n  repo = \"nrennie/tidytuesday\",\n  branch = \"main\"\n) |&gt;\n  filter(\n    str_detect(relative_paths, \"2023\")\n  )\n그런 다음 files_to_check 데이터 프레임을 funspotr의 spot_funs_files()로 전달하여 각 파일에서 사용되는 함수 및 패키지 목록을 가져옵니다. 전체 패키지 사용량을 살펴보기를 원하므로 show_each_use = TRUE로 설정하여 함수가 사용될 때마다 개별 행이 반환되도록 합니다(전체 파일에 대해 한 번만 반환되는 것이 아니라).\nr_funs &lt;- files_to_check |&gt;\n  spot_funs_files(\n    show_each_use = TRUE\n  )\n그런 다음 funspotr의 unnest_results() 함수를 사용하여 함수 사용에 대한 데이터 행을 얻습니다. 위의 코드는 실행하는 데 시간이 걸리므로 나중에 사용할 수 있는 형식으로 데이터를 저장하는 것도 중요합니다(다시 다운로드할 필요 없이). write.csv()를 사용하여 CSV 파일로 저장하고 적절한 파일 이름을 선택하고 행 이름을 제거합니다.\nr_pkgs &lt;- rfuns |&gt;\n  unnest_results()\nwrite.csv(r_pkgs, \"data/r_pkgs.csv\", row.names = FALSE)\n그런 다음 readr의 read_csv()(또는 선호하는 경우 read.csv()!)를 사용하여 CSV를 다시 읽을 수 있습니다.\nr_pkgs &lt;- read_csv(\"data/r_pkgs.csv\")\nnrennie/tidytuesday GitHub 저장소의 내용은 이 챕터가 작성된 이후 확장되었을 가능성이 큽니다. 이 챕터에서 사용된 CSV 파일 버전은 여기에서 다운로드할 수 있습니다.\nr_pkgs 데이터에는 4059개의 행과 4개의 열이 있습니다. funs 열에는 사용된 각 함수의 이름이 포함되어 있고 pkgs에는 해당 함수가 속한 패키지의 이름이 있습니다. 나머지 두 열은 함수가 발견된 파일을 식별하는 relative_paths 및 absolute_paths 열입니다. head()를 사용하여 데이터를 간단히 살펴보겠습니다:\nhead(r_pkgs)\n\n# A tibble: 6 × 4\n  funs            pkgs     relative_paths     absolute_paths\n  &lt;chr&gt;           &lt;chr&gt;    &lt;chr&gt;              &lt;chr&gt;         \n1 library         base     2023/2023-01-03/2… https://raw.g…\n2 library         base     2023/2023-01-03/2… https://raw.g…\n3 library         base     2023/2023-01-03/2… https://raw.g…\n4 library         base     2023/2023-01-03/2… https://raw.g…\n5 font_add_google sysfonts 2023/2023-01-03/2… https://raw.g…\n6 font_add_google sysfonts 2023/2023-01-03/2… https://raw.g…",
    "crumbs": [
      "이미지 작업",
      "<span class='chapter-number'>10</span>  <span class='chapter-title'>R 패키지: 사용자 지정 패면 레이블에 이미지 사용하기</span>"
    ]
  },
  {
    "objectID": "r-packages.html#탐색적-작업",
    "href": "r-packages.html#탐색적-작업",
    "title": "10  R 패키지: 사용자 지정 패면 레이블에 이미지 사용하기",
    "section": "\n10.2 탐색적 작업",
    "text": "10.2 탐색적 작업\n여기서 시작하기에 가장 확실한 질문은 다음과 같습니다: 가장 자주 사용되는 패키지는 무엇입니까?\n\n10.2.1 데이터 탐색\ntable() 함수를 사용하여 사용된 패키지 수를 계산하고 sort()를 사용하여 패키지를 가장 적게 사용된 것부터 가장 많이 사용된 것까지 정렬하는 것으로 시작해 봅시다. \n그런 다음 이것을 barplot() 함수에 전달하여 패키지 사용에 대한 정렬된 막대 차트를 얻고 horiz = TRUE로 설정하여 가로 막대 차트를 만들 수 있습니다. ggplot이 1위를 차지하고 base가 그 뒤를 바짝 쫓고 있음을 알 수 있습니다!\n\n\n\n\n\n\nTip 10.1: 기본 R 또는 tidyverse?\n\n\n\n여담으로, 이것은 기본 R과 tidyverse 패키지를 결합하면 각각 다른 장점이 있기 때문에 매우 효과적일 수 있음을 강조합니다. 기본 R 대 tidyverse 논쟁에서 편을 선택할 필요가 없습니다 - 둘 다 사용하세요!\n\n\n\nbarplot(\n  sort(table(r_pkgs$pkgs)),\n  las = 1,\n  horiz = TRUE\n)\n\n\n\n\n\n\nFigure 10.1: 2023년에 각 패키지가 사용된 횟수를 보여주는 정렬된 막대 차트. ggplot2 패키지가 가장 많이 사용됩니다.\n\n\n\n\n어떤 이유로 데이터에서 패키지가 \"ggplot2\"가 아니라 \"ggplot\"으로 나열되어 있다는 것을 알아차렸을 수도 있습니다. 따라서 dplyr의 mutate()와 if_else() 함수를 사용하여 수정해 봅시다. 기존 pkgs 열을 덮어쓸 수 있습니다. 여기서 (i) 값이 현재 \"ggplot\"이면 \"ggplot2\"로 대체합니다; (ii) 그렇지 않으면 pkgs 열의 기존 값을 유지합니다. \n\nr_pkgs &lt;- r_pkgs |&gt;\n  mutate(\n    pkgs = if_else(\n      pkgs == \"ggplot\",\n      \"ggplot2\",\n      pkgs\n    )\n  )\n\n\n10.2.2 탐색적 스케치\n현재 데이터에 38개의 패키지가 나열되어 있으며, 그 중 다수는 한두 번 사용되었습니다. 한 번에 시각화하기에는 꽤 많은 범주이므로 핵심 tidyverse 패키지 (Wickham et al. 2019)로 좁혀 보겠습니다. 각 핵심 tidyverse 패키지가 얼마나 자주 사용되었는지 보여주는 간단한 막대 차트(또는 막대 차트의 변형)를 시각화할 수 있습니다. 그러나 파일 이름 구조 덕분에 각 패키지가 언제 사용되었는지에 대한 정보도 있습니다. 따라서 각 패키지에 대해 시간 경과에 따른 사용량을 시각화할 수 있습니다.\n각 패키지에 대해 Chapter 3 에서 했던 것처럼 패면을 사용하여 시간 경과에 따른 사용량을 보여주는 영역(또는 선) 차트를 만들 수 있습니다. 이번에는 범주에 자연스러운 순서가 없으므로 대신 패면을 가장 많이 사용된 것부터 가장 적게 사용된 것 순으로 정렬합니다. Figure 10.2 과 비슷하게 보일 것입니다.\n\n\n\n\n\nFigure 10.2: 시간 경과에 따른 패키지 사용량을 보여주는 패면 영역 차트의 초기 스케치.\n\n\nR 커뮤니티의 가장 놀라운 점 중 하나는 육각형 모양의 패키지 로고인 헥스 스티커(hex stickers)에 대한 우리의 사랑입니다. 모든 핵심 tidyverse 패키지에는 고유한 헥스 스티커가 있습니다. 플롯에서 패키지 이름을 패면 레이블로 사용하는 대신 Figure 10.3 와 같이 레이블을 헥스 스티커 이미지로 바꿀 수 있습니다.\n\n\n\n\n\nFigure 10.3: 텍스트 레이블 대신 헥스 스티커를 사용하여 시간 경과에 따른 패키지 사용량을 보여주는 패면 영역 차트의 초기 스케치.",
    "crumbs": [
      "이미지 작업",
      "<span class='chapter-number'>10</span>  <span class='chapter-title'>R 패키지: 사용자 지정 패면 레이블에 이미지 사용하기</span>"
    ]
  },
  {
    "objectID": "r-packages.html#플롯-준비하기",
    "href": "r-packages.html#플롯-준비하기",
    "title": "10  R 패키지: 사용자 지정 패면 레이블에 이미지 사용하기",
    "section": "\n10.3 플롯 준비하기",
    "text": "10.3 플롯 준비하기\nFigure 10.2 의 플롯 초안을 준비하려면 데이터에서 다음 정보를 랭글링해야 합니다:\n\n각 패키지 사용과 관련된 날짜(현재 파일 이름에 포함되어 있음);\n각 핵심 tidyverse 패키지에 대한 일일 패키지 사용 횟수; 그리고\n어떤 패키지가 가장 자주 사용되었습니까?\n\n\n10.3.1 데이터 랭글링\n핵심 tidyverse 패키지에 초점을 맞출 것이므로 패키지 이름 벡터를 만드는 것으로 시작해 봅시다:\n\ncore_tidyverse &lt;- c(\n  \"dplyr\", \"forcats\", \"ggplot2\", \"purrr\",\n  \"readr\", \"stringr\", \"tibble\", \"tidyr\"\n)\n\n그런 다음 이 벡터를 사용하여 데이터를 filter()하고 pkgs 열에 core_tidyverse 벡터의 값이 있는 행만 유지할 수 있습니다. \nrelative_paths는 현재 \"yyyy/yyyy-mm-dd/yyyymmdd.R\" 형식이므로 이 파일 경로에서 날짜를 추출하려고 합니다. 이를 수행하는 방법에는 여러 가지가 있습니다. 가장 쉬운 방법은 두 / 사이의 파일 경로 부분을 추출하는 것입니다. 여기서는 tidyr의 separate_wider_delim()을 사용할 수 있습니다. 이 함수를 사용하면 구분 기호를 기반으로 한 열의 문자열을 여러 열로 분리할 수 있습니다. 이 경우 구분 기호는 /가 됩니다. 기본적으로 문자열의 각 섹션에 대해 yyyy, yyyy-mm-dd, yyyymmdd.R이라는 세 개의 새 열이 생성됩니다. 중간 것만 유지하고 싶으므로 유지하고 싶지 않은 열의 이름을 NA로 설정하는 트릭을 사용할 수 있습니다. 대신 date라는 하나의 새 열만 만듭니다. \n그런 다음 lubridate의 ymd() 함수와 mutate()를 사용하여 현재 여전히 문자열인 date를 날짜 개체로 변환합니다(날짜가 year, month, day 형식으로 지정되어 있기 때문입니다). 마지막으로 날짜별로 각 패키지의 관측값 수를 계산합니다. \n\nr_pkgs_date &lt;- r_pkgs |&gt;\n  filter(pkgs %in% core_tidyverse) |&gt;\n  separate_wider_delim(\n    relative_paths,\n    delim = \"/\",\n    names = c(NA, \"date\", NA)\n  ) |&gt;\n  mutate(date = ymd(date)) |&gt;\n  count(date, pkgs)\n\n\n\n\n\n\n\nTip 10.2: stringr을 사용하는 다른 접근 방식\n\n\n\nseparate_wider_delim()을 사용하는 대신 문자열 처리를 위해 설계된 stringr 패키지 (Wickham 2023b)의 함수를 사용할 수 있습니다. 예를 들어: \n\nlibrary(stringr)\nr_pkgs |&gt;\n  mutate(date = str_extract(\n    relative_paths,\n    pattern = \"(?&lt;=/)[^/]+(?=/)\"\n  ))\n\n여기서 stringr의 str_extract()를 사용하여 추출한 두 / 사이의 문자열 부분으로 구성된 새 date 열을 mutate()를 사용하여 만듭니다. pattern은 검색 패턴을 정의하는 문자 시퀀스인 정규 표현식 (종종 regex로 줄여짐)입니다. \n이 패턴은 다음과 같이 분해됩니까:\n\n\n(?&lt;=/): / 뒤를 봅니다 (look behind)\n\n[^/]+: /가 아닌 하나 이상의 문자와 일치합니다\n\n(?=/): / 앞을 봅니다 (look ahead)\n\n\n\n플롯의 패면이 가장 많이 사용된 패키지부터 가장 적게 사용된 패키지 순으로 정렬되기를 원하므로 pkgs 열을 요인으로 변환하고 수준을 핵심 tidyverse 패키지 이름 벡터와 동일하게 설정하는 것으로 시작해 봅시다. 이렇게 하면 데이터에 나타나지 않더라도 모든 핵심 패키지가 요인 수준에 포함됩니다. 자세히 살펴보면 \"tibble\"이 누락되었음을 알 수 있습니다. 직접 사용된 적이 없기 때문에 누락되었습니다 - 다른 tidyverse 패키지의 백그라운드에서 자주 사용되기 때문에 놀라운 일은 아닙니다. 때로는 0을 시각화하는 것이 중요하므로 데이터에 tibble이 여전히 표시되는 것이 중요합니다. \n그런 다음 forcats 패키지 (Wickham 2023a)의 fct_reorder()를 사용하여 n 열의 값 합계를 기준으로 pkgs 열을 정렬할 수 있습니다. .desc를 TRUE로 설정하여 내림차순으로 정렬하고 .default를 -Inf로 설정하여 사용되지 않은 요인 수준을 끝에 배치합니다(즉, 개수가 0일 때 나타나는 위치). \n\nplot_data &lt;- r_pkgs_date |&gt;\n  mutate(\n    pkgs = factor(pkgs, levels = core_tidyverse),\n    pkgs = fct_reorder(pkgs, n,\n      .fun = sum,\n      .desc = TRUE, .default = -Inf\n    )\n  )\n\n이제 Figure 10.2 의 초안을 만들 준비가 되었습니다!\n\n10.3.2 첫 번째 플롯\nplot_data를 ggplot()에 전달하여 이 데이터를 플롯의 모든 요소에 대한 기반으로 사용하여 플롯을 시작합니다. 그런 다음 geom_area()를 추가하여 영역 차트의 기하학적 구조를 만들고 다시 aes()를 사용하여 미적 매핑을 지정합니다. x축에 date, y축에 n을 넣습니다. 그리고 pkgs의 범주에 따라 영역 차트의 채우기 색상을 설정합니다. 이것은 Chapter 3 에서 만든 초기 플롯과 매우 유사합니다. \n그런 다음 pkgs로 나누어진 작은 다중 플롯을 만들기 위해 facet_wrap()을 추가합니다. 패면 플롯을 그리드로 배열하는 것보다 한 줄에 모두 배치하고 싶으므로 facet_wrap() 내에서 nrow = 1로 설정합니다. \"tibble\"은 pkgs 요인 열의 수준이지만 해당 요인 수준의 관측값은 존재하지 않습니다. 여전히 (빈) 패면으로 나타나도록 하려면 drop = FALSE로 설정합니다. 그렇지 않으면 7개의 패면 플롯만 표시됩니다. \n\nbasic_plot &lt;- ggplot(plot_data) +\n  geom_area(\n    mapping = aes(\n      x = date,\n      y = n,\n      fill = pkgs\n    )\n  ) +\n  facet_wrap(~pkgs, nrow = 1, drop = FALSE)\nbasic_plot\n\n\n\n\n\n\nFigure 10.4: 가장 많이 사용된 것부터 가장 적게 사용된 것 순으로 정렬된 패면으로 8개의 핵심 tidyverse 패키지 각각에 대한 시간 경과에 따른 패키지 사용량을 보여주는 패면 영역 차트. 순서가 정확해 보이지 않습니다.\n\n\n\n\n여기서 두 가지를 알아차렸을 것입니다:\n\n플롯과 함께 (약간 혼란스러운) 경고 메시지가 반환됩니다;\n플롯의 순서가 정확해 보이지 않습니다.\n\n또한 단일 스크립트에서 ggplot2 패키지를 141번이나 사용한 것을 보여주는 ggplot2 패면의 큰 스파이크를 보고 이것이 오류인지 궁금해할 수도 있습니다. 오류가 아닙니다 - 실제로 그만큼 많이 사용되었습니다!\n이 두 가지 문제 중 두 번째 문제부터 생각하고 무슨 일이 일어나고 있는지 파악해 봅시다. 패면이 전체적으로 가장 많이 사용된 것부터 가장 적게 사용된 것 순으로 정렬되어야 한다고 지정했습니다. 그러나 stringr 패키지의 영역은 readr 패키지의 영역보다 훨씬 커 보입니다 - 실제로 더 작아야 하는데도 말이죠. 또한 forcats 패면에 값이 없는 것처럼 보입니다 - 하지만 우리는 이것이 forcats에 해당하지 않고 tibble에만 해당한다는 것을 알고 있습니다. 왜 이런 일이 발생하는 것일까요?\n문제는 데이터에 0이 포함되어 있지 않다는 것입니다. 영역은 엄격하게 양수 값 사이에서만 그려지며 0으로 내려가지 않습니다. 소수의 스크립트에서만 많이 사용되는 패키지의 경우 많은 스크립트에서 한두 번 사용되는 패키지보다 영역이 더 커집니다.\n데이터 세트에서 스크립트에서 패키지가 사용되지 않으면 데이터에 항목이 없습니다. 수만 개의 패키지가 있고 사용된 패키지만 나열하는 것보다 사용되지 않은 모든 패키지를 나열하는 것이 훨씬 더 어렵고 시간이 많이 걸리기 때문에 이는 당연합니다. 그러나의 경우 이러한 누락된, 관찰되지 않은 값은 실제로 누락된 값이 아닙니다 - 0 값입니다.\n플롯에서 반환된 경고 메시지도 이 문제에 대해 알려주려고 합니다 (경고가 별로 명확하지 않을 뿐입니다!)\n\n\n\n\n\n\nTip 10.3: 경고 신호를 무시하지 마십시오!\n\n\n\n이 0입니까 아니면 누락입니까? 질문은 차트 플로팅 및 데이터 처리의 몇 가지 중요한 측면을 강조했습니다: \n\n이해하지 못한다고 해서 경고 메시지를 단순히 무시하지 마십시오. 예상한 것과 비슷한 플롯이 나왔고 경고 메시지가 무엇이 잘못되었는지 명확하지 않기 때문에 경고 메시지를 무시하고 싶을 수도 있습니다. 하지만 여기서 경고는 데이터에 대한 우리의 가정에 문제가 있음을 알려주었습니다.\n데이터를 (합리적으로) 정렬하면 문제를 발견하는 데 도움이 될 수 있습니다. 패면이 정렬되지 않았다면 일부 영역이 과대평가되고 일부는 과소평가되었음을 인식하기 더 어려웠을 것입니다.\n때때로 누락된 값은 명시적으로 NA 값(또는 다른 것)으로 표시되고, 다른 경우에는 누락된 값이 단순히 데이터에 존재하지 않는 행입니다. 우리는 종종 NA 값으로 볼 때 누락된 값에 대해 더 많이 생각합니다. 하지만 데이터에 NA 값이 없다고 해서 누락된 값이 없다는 의미는 아닙니다.\nChapter 4 에서 논의한 바와 같이 누락된 값(명시적이든 암시적이든)이 있을 때 왜 누락되었는지, 정말로 누락되었는지 생각하는 것이 중요합니다. 누락된 값은 0을 의미합니까? 아니면 실제로 누락되었음을 의미합니까? 아니면 완전히 다른 것을 의미합니까? 이 질문에 올바르게 대답하려면 데이터 수집 과정을 이해하는 것이 중요합니다.\n\n\n\n이제 0이 있어야 할 위치에 0을 추가해 봅시다. date 및 pkgs 열이 완전하다는 것을 알고 있습니다: date 열에는 누락된 값이 없으며 누락된 \"tibble\" 값 문제도 이미 해결했습니다. 데이터에 date와 pkgs의 가능한 모든 조합이 존재하는지 확인해야 합니다: 아직 존재하지 않는 조합은 추가하고 n 열에 0 값을 부여해야 합니다.\ntidyr의 complete() 함수를 사용하여 데이터를 완성할 수 있습니다. date 및 pkgs 열을 전달하여 어떤 열 조합이 존재하는지 확인해야 한다고 말합니다. 기본적으로 누락된 조합은 NA로 표시되지만 fill 인수를 재정의하여 0을 대신 사용할 수 있습니다. \n\nnew_plot_data &lt;- plot_data |&gt;\n  complete(\n    date, pkgs,\n    fill = list(n = 0)\n  )\n\nhead()를 사용하여 업데이트된 데이터를 간단히 살펴보고 작동했는지 확인합시다: \n\nhead(new_plot_data, n = 8)\n\n# A tibble: 8 × 3\n  date       pkgs        n\n  &lt;date&gt;     &lt;fct&gt;   &lt;int&gt;\n1 2023-01-03 ggplot2    24\n2 2023-01-03 dplyr       9\n3 2023-01-03 readr       2\n4 2023-01-03 stringr     0\n5 2023-01-03 tidyr       3\n6 2023-01-03 purrr       0\n7 2023-01-03 forcats     0\n8 2023-01-03 tibble      0\n\n\n이제 n 열에 꽤 많은 0 값이 포함된 것을 볼 수 있습니다. \"tibble\"도 모든 관측값에 대해 n 열에 0이 있는 상태로 명시적으로 포함되어 있음을 알 수 있습니다. 이는 기본적으로 complete()가 데이터에서 관찰되지 않더라도 요인의 모든 수준을 사용하기 때문입니다.\n이제 basic_plot에 사용되는 데이터를 업데이트해야 합니다. 위의 코드를 편집(또는 복사하여 붙여넣기)하고 plot_data를 new_plot_data로 대체할 수도 있습니다. 하지만 대안으로 %+% 연산자를 사용할 수 있습니다.\n%+% 연산자를 사용하면 기존 플롯의 현재 기본 데이터 프레임을 교체할 수 있습니다. 기존 basic_plot으로 시작한 다음 %+%를 사용하여 new_plot_data를 플롯에 사용되는 데이터로 설정합니다.\n\nbasic_plot &lt;- basic_plot %+% new_plot_data\nbasic_plot\n\n\n\n\n\n\nFigure 10.5: 가장 많이 사용된 것부터 가장 적게 사용된 것 순으로 정렬된 패면으로 8개의 핵심 tidyverse 패키지 각각에 대한 시간 경과에 따른 패키지 사용량을 보여주는 패면 영역 차트. 이제 순서가 정확해 보입니다.\n\n\n\n\n이제 경고 메시지가 사라졌음을 알 수 있습니다.",
    "crumbs": [
      "이미지 작업",
      "<span class='chapter-number'>10</span>  <span class='chapter-title'>R 패키지: 사용자 지정 패면 레이블에 이미지 사용하기</span>"
    ]
  },
  {
    "objectID": "r-packages.html#고급-스타일링",
    "href": "r-packages.html#고급-스타일링",
    "title": "10  R 패키지: 사용자 지정 패면 레이블에 이미지 사용하기",
    "section": "\n10.4 고급 스타일링",
    "text": "10.4 고급 스타일링\n이제 플롯의 초안이 완성되었으므로 다듬을 차례입니다. 색상, 글꼴, 텍스트, 스케일 및 테마를 약간 조정한 다음 패면 레이블을 편집하여 Figure 10.3 와 같은 시각화를 만드는 단계로 넘어갑니다.\n\n10.4.1 색상\n이번에는 플롯에 어두운 테마를 사용해 봅시다. 배경색으로 어두운 회색을 선택하고 충분한 대비를 위해 텍스트에는 흰색을 선택하겠습니다. \n\nbg_col &lt;- \"#3A3B3C\"\ntext_col &lt;- \"white\"\n\n영역 차트의 채우기 색상으로 사용할 색상 팔레트도 정의해 봅시다. Chapter 6 에서 했던 것처럼 rcartocolor (Nowosad 2018)의 팔레트 중 하나를 사용합니다. 다시 Chapter 6 와 유사하게 회색을 피하기 위해 필요한 것보다 한 가지 더 많은 색상을 요청한 다음 회색을 버립니다. 플롯에 8개의 범주가 있으므로 carto_pal() 함수를 사용하여 9개의 색상을 요청하고 처음 8개만 추출합니다. 여기서는 \"Bold\" 팔레트를 사용합니다. \n플롯에서 더 일관된 색상 테마를 유지하기 위해 강조 색상 변수 highlight_col을 선택한 색상 팔레트의 첫 번째 색상으로 정의합니다.\n\ncol_palette &lt;- carto_pal(\n  length(core_tidyverse) + 1, \"Bold\"\n)[1:length(core_tidyverse)]\nhighlight_col &lt;- col_palette[1]\n\n그런 다음 이 col_palette 벡터를 scale_fill_manual() 함수에 전달하여 플롯에 색상을 적용할 수 있습니다: \n\ncol_plot &lt;- basic_plot +\n  scale_fill_manual(\n    values = col_palette\n  )\ncol_plot\n\n\n\n\n\n\nFigure 10.6: 8개의 핵심 tidyverse 패키지 각각에 대한 시간 경과에 따른 패키지 사용량을 보여주는 패면 영역 차트. 각 영역 차트는 rcartocolor 패키지의 다른 색상을 사용하여 색칠되어 있습니다.\n\n\n\n\n\n10.4.2 텍스트와 글꼴\nChapter 2 에서와 마찬가지로 코드가 시각화의 주제이므로 해당 테마와 일치하는 서체를 선택할 수 있습니다. 여기서는 코딩 환경을 위해 특별히 설계된 고정폭 서체인 Source Code Pro를 사용하겠습니다. sysfonts의 font_add_google()을 사용하여 R에 로드됩니다.\n이 장에서는 제목과 본문 텍스트에 동일한 서체를 사용할 것이므로 하나의 변수 body_font만 정의하면 됩니다. \n\nfont_add_google(\n  name = \"Source Code Pro\",\n  family = \"source\"\n)\nfont_add_google(name = \"Noto Sans KR\", family = \"noto_sans_kr\")\nshowtext_auto()\nshowtext_opts(dpi = 300)\nbody_font &lt;- \"source\"\nkorean_font &lt;- \"noto_sans_kr\"\n\n이전 장에서 했던 것처럼 Chapter 7 에서 정의한 social_caption() 함수를 사용하여 소셜 미디어 핸들과 Font Awesome 아이콘이 포함된 캡션을 만듭니다: \n\nsocial &lt;- social_caption(\n  icon_color = highlight_col,\n  font_color = text_col,\n  font_family = body_font\n)\n\n부제목에는 tidyverse 웹사이트의 인용문이 포함되어 있으므로 *를 사용하여 기울임꼴로 형식을 지정합니다. 패키지 이름은 **로 굵게 서식이 지정됩니다. 또한 Chapter 6 에서 정의한 source_caption() 함수를 사용하여 데이터 소스에 대한 정보가 포함된 캡션을 만들고 소셜 아이콘과 결합하여 그래픽을 속성 지정합니다. \n\ntitle &lt;- \"TidyTuesday에 **tidyverse** 패키지를 몇 번이나 사용했습니까?\"\nst &lt;- \"**tidyverse**는 *기본 디자인 철학, 문법 및 데이터 구조를 공유하는* 오픈 소스 R 패키지의 모음입니다. 8개의 핵심 **tidyverse** 패키지 중에서 2023년 TidyTuesday 시각화에 가장 많이 사용된 패키지는 **ggplot2**였습니다.\"\nsource_cap &lt;- source_caption(\n  source = \"github.com/nrennie/tidytuesday\",\n  graphic = social,\n  sep = \"&lt;br&gt;\"\n)\n\n또한 paste0()을 사용하여 부제목 텍스트를 데이터 및 그래픽 소스 정보와 결합합니다(대신 glue()를 사용할 수도 있습니다). \n\ncap &lt;- paste0(st, \"&lt;br&gt;\", source_cap)\n\n그런 다음 이 텍스트를 labs() 함수에 전달하여 플롯에 적용할 수 있습니다. 또한 x = \"\"를 설정하여 x축 텍스트를 제거하고 더 유익한 y축 제목을 정의합니다. \n\ntext_plot &lt;- col_plot +\n  labs(\n    title = title,\n    subtitle = cap,\n    x = \"\",\n    y = \"패키지 호출 횟수\"\n  )\n\n\n\n\n\n\n\nTip 10.4: 축 제목 제거\n\n\n\n축 레이블을 제거하는 방법에는 여러 가지가 있습니다. 여기서 했던 것처럼 x = \"\"를 설정하거나 x = NULL로 설정할 수 있습니다. theme() 내부에서 axis.text.x = element_blank()를 설정하여 텍스트를 제거할 수도 있습니다. \n\n\n\n10.4.3 스케일 및 테마 조정\n레이블의 과밀화를 처리하기 위해 x축 및 y축 레이블을 조정할 수 있습니다. 기본적으로 레이블은 3개월마다 각 패면에 추가되었습니다. 데이터가 2023년만 다루지만 ggplot2는 x축을 확장하여 2024년 초까지 포함합니다. x축 스케일의 limits와 breaks를 조정하여 2023년만 표시하고 레이블을 더 적게 가질 수 있습니다. x축의 값은 날짜이므로 scale_x_date()를 사용하여 조정합니다. 이것은 또한 scale_x_date()의 breaks 및 limits 인수에 전달하는 값이 날짜여야 함을 의미하므로 다시 lubridate의 ymd()를 사용합니다. x축 제한을 2023년 1월 1일부터 12월 31일까지로 설정하고 1월 1일과 7월 1일에 레이블을 추가합니다. \ny축의 경우 좋은 제한과 중단을 선택합니다 - 제한을 0에서 150 사이로 설정하고 50마다 중단을 둡니다. 각 패면 플롯 가장자리 주위의 여분의 공간을 제거하기 위해 coord_cartesian()에서 expand = FALSE도 설정합니다. \n\nlimits_plot &lt;- text_plot +\n  scale_x_date(\n    limits = ymd(c(\"20230101\", \"20231231\")),\n    breaks = ymd(c(\"20230101\", \"20230701\")),\n    labels = c(\"1월\", \"7월\")\n  ) +\n  scale_y_continuous(\n    limits = c(0, 150),\n    breaks = c(0, 50, 100, 150)\n  ) +\n  coord_cartesian(expand = FALSE)\nlimits_plot\n\n\n\n\n\n\nFigure 10.7: 8개의 핵심 tidyverse 패키지 각각에 대한 시간 경과에 따른 패키지 사용량을 보여주는 패면 영역 차트. 제목과 부제목이 추가되었지만 페이지를 벗어납니다. 그러나 x축 레이블은 더 이상 겹치지 않습니다.\n\n\n\n\n플롯을 마무리하기 위해 theme()의 인수를 편집해 봅시다. 조정해야 할 사항이 꽤 많으므로 두 단계로 나누어 수행합니다. \nelement_text()를 통해 text 인수에서 기본 글꼴 모음 및 기본 글꼴 크기를 설정하는 것으로 시작합니다. 또한 범례를 제거하고 margin() 함수를 사용하여 플롯 가장자리 주위에 약간의 공간을 추가합니다. \n그런 다음 element_rect()의 fill 및 color 인수를 사용하여 plot.background 및 panel.background를 이전에 정의한 배경색(bg_col)을 갖도록 편집합니다. strip.background 인수에 의해 제어되는 패면 레이블 배경에 대해서도 동일한 작업을 수행합니다. 패면 레이블을 이미지로 교체할 계획이지만 지금은 선호하는 색상으로 굵은 텍스트로 형식을 지정합니다. 패면 사이의 간격은 panel.spacing 인수에 의해 제어됩니다. \n\ninit_theme_plot &lt;- limits_plot +\n  theme(\n    text = element_text(family = body_font, size = 6),\n    legend.position = \"none\",\n    plot.margin = margin(5, 10, 5, 10),\n    # plot background\n    plot.background = element_rect(\n      fill = bg_col, color = bg_col\n    ),\n    panel.background = element_rect(\n      fill = bg_col, color = bg_col\n    ),\n    # facet strip text and background\n    strip.background = element_rect(\n      fill = bg_col, color = bg_col\n    ),\n    strip.text = element_text(\n      face = \"bold\",\n      color = text_col\n    ),\n    panel.spacing = unit(0.5, \"lines\")\n  )\n\n최종 조정에는 HTML 및 Markdown 텍스트가 올바르게 처리되도록 제목 및 부제목에 ggtext를 사용하고 있음을 지정하는 것이 포함됩니다. plot.title 및 plot.subtitle 인수에서 ggtext의 element_textbox_simple()을 사용하여 수행합니다. 여기서 글꼴 color를 설정하고 왼쪽 정렬하고 가장자리 주위에 약간의 패딩을 추가합니다. 제목 텍스트는 rel() 함수를 사용하여 일반보다 약간 더 크게 만듭니다. plot.title.position = \"plot\"을 설정하면 제목과 부제목 텍스트가 첫 번째 패묘 플롯의 가장자리가 아니라 전체 플롯의 가장자리와 정렬됨을 의미합니다. 이렇게 하면 더 깔끔해 보이고 y축 텍스트의 너비로 인해 생성되는 여분의 흰색을 피할 수 있습니다. \n또한 element_text()를 사용하여 x축 및 y축 레이블과 제목이 올바른 색상인지 확인합니다. 마지막으로 element_line()의 color 및 linewidth 인수를 사용하여 격자선을 더 얇고 반투명하게 만듭니다. 보조 격자선은 주 격자선보다 약간 더 투명하게 만듭니다. \n\ntheme_plot &lt;- init_theme_plot +\n  theme(\n    # title and subtitle text\n    plot.title.position = \"plot\",\n    plot.title = element_textbox_simple(\n      color = text_col,\n      family = korean_font,\n      hjust = 0,\n      halign = 0,\n      margin = margin(b = 5, t = 5),\n      face = \"bold\",\n      size = rel(1.4)\n    ),\n    plot.subtitle = element_textbox_simple(\n      color = text_col,\n      family = korean_font,\n      hjust = 0,\n      halign = 0,\n      margin = margin(b = 5, t = 0)\n    ),\n    # axes styling and grid lines\n    axis.text = element_text(\n      color = text_col\n    ),\n    axis.title = element_text(\n      color = text_col\n    ),\n    axis.ticks = element_blank(),\n    panel.grid.major = element_line(\n      color = alpha(text_col, 0.3),\n      linewidth = 0.2\n    ),\n    panel.grid.minor = element_line(\n      color = alpha(text_col, 0.1),\n      linewidth = 0.2\n    )\n  )\ntheme_plot\n\n\n\n\n\n\nFigure 10.8: 8개의 핵심 tidyverse 패키지 각각에 대한 시간 경과에 따른 패키지 사용량을 보여주는 패면 영역 차트. 플롯에는 어두운 배경과 흰색 텍스트(더 이상 플롯 영역을 초과하지 않음)가 있습니다.\n\n\n\n\n이 시각화는 있는 그대로도 괜찮지만 Figure 10.3 에서 제안한 대로 패면 레이블을 텍스트 레이블 대신 헥스 스티커를 사용하도록 편집할 수 있습니다.\n\n10.4.4 패면 레이블로 이미지 사용하기\nChapter 9 에서 논의했듯이 cowplot (C. O. Wilke 2024), egg (Auguie 2019), patchwork (Pedersen 2024) 및 ggimage (Yu 2023)와 같은 패키지는 모두 이미지를 플로팅하는 데 사용할 수 있습니다. 여기서는 플롯 패널 외부에 있는 패면 레이블에 이미지를 사용하려고 합니다. 기본 플롯 영역 외부에 요소를 오버레이하기 위한 몇 가지 좋은 옵션이 있습니다. patchwork의 inset_element() 함수는 기존 플롯 위에 요소를 추가할 수 있습니다(Chapter 12 에서 예를 볼 수 있습니다). 마찬가지로 cowplot의 draw_image() 함수는 플롯과 이미지를 결합하는 프로세스를 단순화합니다. 그러나 패면 레이블을 편집하기 위해 플롯을 만드는 데 이미 사용한 패키지 외에 추가 패키지가 실제로 필요하지 않습니다. \n우리는 이미 스타일을 추가하기 위해 ggtext 패키지 (C. O. Wilke and Wiernik 2022)를 사용하여 Markdown 및 HTML 구문을 여러 번 사용했습니다. 예를 들어 &lt;br&gt;을 사용하여 줄 바꿈을 추가하고 &lt;span&gt;&lt;/span&gt;을 사용하여 텍스트 색상을 지정했습니다. HTML에서 이미지를 추가하는 데 &lt;img&gt; 태그를 사용합니다. 따라서 ggtext와 결합하여 패면 레이블의 형식을 지정해 봅시다!\n시작하기 전에 이미지를 가져와야 합니다! 많은 R 패키지의 헥스 스티커는 github.com/rstudio/hex-stickers에서 찾을 수 있습니다. 플롯에 포함된 8개 패키지 각각에 대해 관련 헥스 스티커를 다운로드하고 합리적인 곳에 저장할 수 있습니다. 여기서는 각 이미지를 PNG 파일로 저장하고 파일 이름은 패키지 이름과 동일합니다. 예를 들어 dplyr의 헥스 스티커는 dplyr.png로 저장됩니다 (RStudio 2020a). 디렉토리를 깨끗하고 정돈된 상태로 유지하기 위해 폴더에 저장할 수 있습니다. 여기서는 중첩된 폴더인 images/hex/에 저장합니다. 즉, dplyr 헥스 스티커의 (상대) 파일 경로는 images/hex/dplyr.png입니다. 이것이 dplyr 패면 레이블의 &lt;img&gt; HTML 태그에 이미지 소스로 전달하려는 것입니다.\n즉, 데이터를 두 가지 수정해야 합니다:\n\n패면 변수로 사용되는 pkgs 열에 &lt;img&gt; 태그 포함.\n올바른 순서를 유지하기 위해 pkgs 열의 요인 수준에 &lt;img&gt; 태그 포함.\n\n요인 수준부터 시작해 봅시다. 현재 요인 수준은 패키지 이름일 뿐입니다. 다행스럽게도 우리는 패키지 이름을 파일 이름으로 하여 이미지를 저장할 만큼 현명했습니다. 즉, glue 패키지의 glue()를 사용하여 패키지 이름과 HTML 코드를 함께 붙일 수 있습니다.\n먼저 pkgs 열의 요인 수준을 추출하여 pkgs_levels라는 변수로 저장해 봅시다. 그런 다음 이 이름을 이미지 파일 경로 끝에 추가하여 요인 수준에 대한 새 벡터를 만듭니다: \n\npkgs_levels &lt;- levels(new_plot_data$pkgs)\nnew_levels &lt;- glue(\n  \"&lt;img src='images/hex/{pkgs_levels}.png'&gt;\"\n)\n\n또한 &lt;img&gt; 태그 내에서 이미지가 표시되는 방식을 제어할 수도 있습니다(어느 정도까지는). 예를 들어 이미지의 너비를 설정할 수 있습니다(약간의 시행착오가 필요합니다!). 불행히도 hjust 및 halign 인수는 패면 레이블 영역 내에서 이미지를 완전히 중앙에 배치하는 것 같지 않습니다. 대신 약간 해킹적인 솔루션을 사용하여 왼쪽에 공백을 추가할 수 있습니다. HTML에서 &nbsp;를 사용하여 (줄 바꿈 없는) 공백을 추가할 수 있습니다. 다시 말하지만, 얼마나 많은 공백을 추가해야 하는지 알아내려면 약간의 시행착오가 필요합니다.\n\nnew_levels &lt;- glue(\n  \"&nbsp;&nbsp;&nbsp;&nbsp;&lt;img src='images/hex/{pkgs_levels}.png' width='20'&gt;\"\n)\n\n이제 pkgs 열에 대해서도 같은 작업을 수행해야 합니다. 여기서 완전히 새로운 열을 만드는 대신 pkgs 열을 덮어쓰는 것이 중요합니다. 즉, %+% 연산자를 사용하여 데이터를 업데이트할 수 있으며 ggplot2는 여전히 패면을 위한 올바른 변수를 찾을 수 있습니다. 다시 glue()를 사용하여 pkgs 열을 HTML &lt;img&gt; 태그에 추가합니다. 새 열 값이 new_levels에서 정의한 요인 수준과 정확히 일치하는지 확인해야 합니다. 이를 통해 mutate()를 사용하여 이러한 요인 수준을 적용하여 가장 많이 사용된 것부터 가장 적게 사용된 것 순으로 패키지 순서가 유지되도록 할 수 있습니다. \n\nplot_img_data &lt;- new_plot_data |&gt;\n  mutate(\n    pkgs = glue(\"&nbsp;&nbsp;&nbsp;&nbsp;&lt;img src='images/hex/{pkgs}.png' width='20'&gt;\")\n  ) |&gt;\n  mutate(\n    pkgs = factor(pkgs, levels = new_levels)\n  )\n\n이전에 했듯이 %+% 연산자를 사용하여 새로운 plot_img_data를 사용하도록 데이터를 업데이트해 봅시다:\n\nimg_plot &lt;- theme_plot %+% plot_img_data\n\n또한 캡션에서 했던 것처럼 ggplot2에 패면 레이블이 HTML 태그를 사용하고 있음을 알려야 합니다. theme() 함수를 추가로 편집하고 strip.text.x의 스타일을 업데이트합니다. 다시 ggtext의 element_textbox_simple()을 사용하고 hjust와 halign을 모두 0.5로 설정합니다. \n\nimg_plot +\n  theme(\n    strip.text.x = element_textbox_simple(\n      family = korean_font,\n      hjust = 0.5,\n      halign = 0.5\n    )\n  )\n\n\n\n\n\n\nFigure 10.9: 8개의 핵심 tidyverse 패키지 각각에 대한 시간 경과에 따른 패키지 사용량을 보여주는 패면 영역 차트. 헥스 스티커가 패면의 텍스트 레이블을 대체했습니다.\n\n\n\n\n마지막으로 ggsave()를 사용하여 복사본을 PNG 파일로 저장합니다: \n\nggsave(\n  filename = \"r-packages.png\",\n  width = 5,\n  height = 2.5\n)\n\n\n\n\n\n\n\nTip 10.5: marquee를 사용한 패면 레이블 이미지\n\n\n\nggtext 대신 marquee 패키지 (Pedersen and Mitáš 2024)를 사용하여 매우 유사한 작업을 수행할 수 있습니다. 이미지는 HTML 태그 대신 표준 Markdown 구문을 사용하여 pkgs에 추가할 수 있습니다: \n\nplot_img_data &lt;- new_plot_data |&gt;\n  mutate(\n    pkgs = glue(\"![](images/hex/{pkgs}.png)\")\n  )\n\n요인 수준과 플롯에 사용되는 데이터도 업데이트해야 한다는 것을 기억하십시오. 그런 다음 element_marquee()를 사용하여 Markdown 구문을 처리하도록 테마를 조정합니다: \n\nlibrary(marquee)\nimg_plot +\n  theme(\n    strip.text.x = element_marquee(\n      hjust = 0.5,\n      width = 1\n    )\n  )\n\n그러나 marquee를 사용하여 이미지의 크기 및 배치를 제어하는 것은 (이 글을 쓰는 시점에서는) 조금 더 어렵습니다.",
    "crumbs": [
      "이미지 작업",
      "<span class='chapter-number'>10</span>  <span class='chapter-title'>R 패키지: 사용자 지정 패면 레이블에 이미지 사용하기</span>"
    ]
  },
  {
    "objectID": "r-packages.html#회고",
    "href": "r-packages.html#회고",
    "title": "10  R 패키지: 사용자 지정 패면 레이블에 이미지 사용하기",
    "section": "\n10.5 회고",
    "text": "10.5 회고\n전반적으로 이 플롯은 매우 효과적입니다. R 패키지 사용 수준의 차이를 명확하게 보여주면서도 눈길을 끕니다. 그러나 여전히 개선할 수 있는 몇 가지 사항이 있습니다. ggplot2 및 dplyr을 제외하고는 y축 높이에 비해 값이 매우 작기 때문에 값을 읽기가 꽤 어렵습니다. 이는 단일 경우에 ggplot2를 많이 사용했기 때문입니다. y축의 로그 변환을 사용하면 매우 작은 값을 더 쉽게 볼 수 있을 것입니다 - 비록 로그 변환이 해석 가능성 측면에서 단점이 있기는 하지만요.\n여기서 색상을 사용하는 것도 개선될 수 있습니다. 색상은 서로 다른 패키지를 구별하는 데 사용되므로 Chapter 3 와 유사하게 패면 레이블에서 이미 제공하지 않는 추가 정보를 제공하지 않습니다. 모든 영역 플롯에 단일 색상을 사용하면 동일한 양의 정보를 제공하지만 약간 덜 산만해 보일 것입니다. 여전히 다른 색상을 사용하고 싶다면 헥스 스티커 이미지의 색상과 더 밀접하게 일치시키는 것을 고려할 수 있습니다. 예를 들어 stringr 헥스 스티커 이미지의 녹색은 dplyr 영역 차트에 사용된 녹색과 매우 유사합니다 - 이것은 현재 약간 산만합니다. \n이 시각화의 원래 버전을 개발하는 과정에서 생성된 각 플롯은 camcorder를 사용하여 캡처되었으며 아래 gif에 표시됩니다. camcorder가 데이터 시각화 프로세스에서 어떻게 사용될 수 있는지 자세히 알고 싶다면 Section 14.1 를 참조하세요.",
    "crumbs": [
      "이미지 작업",
      "<span class='chapter-number'>10</span>  <span class='chapter-title'>R 패키지: 사용자 지정 패면 레이블에 이미지 사용하기</span>"
    ]
  },
  {
    "objectID": "r-packages.html#연습-문제",
    "href": "r-packages.html#연습-문제",
    "title": "10  R 패키지: 사용자 지정 패면 레이블에 이미지 사용하기",
    "section": "\n10.6 연습 문제",
    "text": "10.6 연습 문제\n2024년 7월, TidyTuesday는 funspotr 패키지를 사용하여 David Robinson이 TidyTuesday 데이터를 탐색한 방법을 YouTube 스크린캐스트에서 살펴보았습니다. 다음을 사용하여 데이터를 로드할 수 있습니다:\n\nlibrary(tidytuesdayR)\ntuesdata &lt;- tt_load(\"2024-07-09\")\ndrob_funs &lt;- tuesdata$drob_funs\n\n\n이 새로운 데이터 세트에 대해 이 장의 시각화를 다시 만드십시오. 패턴이 비슷합니까?\n영역 차트에 더 적절한 색상 구성표를 선택하십시오.\n\n\n\n\n\nAnscombe, F. J. 1973. “Graphs in Statistical Analysis.” The American Statistician 27 (1): 17–21. https://doi.org/10.1080/00031305.1973.10478966.\n\n\nAphalo, Pedro J. 2024. Learn R: As a Language. Second Edition. CRC Press. https://www.learnr-book.info/.\n\n\nAuguie, Baptiste. 2019. egg: Extensions for ’ggplot2’: Custom Geom, Custom Themes, Plot Alignment, Labelled Panels, Symmetric Scales, and Fixed Panel Size. https://CRAN.R-project.org/package=egg.\n\n\nBarthelme, Simon. 2024. imager: Image Processing Library Based on ’CImg’. https://CRAN.R-project.org/package=imager.\n\n\nBrand, Teun van den. 2025. “ggplot2 4.0.0.” https://www.tidyverse.org/blog/2025/09/ggplot2-4-0-0/.\n\n\nBridson, Robert. 2007. “Fast Poisson Disk Sampling in Arbitrary Dimensions.” In ACM SIGGRAPH 2007 Sketches. SIGGRAPH ’07. New York, NY, USA: Association for Computing Machinery. https://doi.org/10.1145/1278780.1278807.\n\n\nBrown, Mark J.F., and Paxton, Robert J. 2009. “The Conservation of Bees: A Global Perspective.” Apidologie 40 (3): 410–16. https://doi.org/10.1051/apido/2009019.\n\n\nCameron, Allan, and Teun van den Brand. 2024. geomtextpath: Curved Text in ’ggplot2’. https://CRAN.R-project.org/package=geomtextpath.\n\n\nCARTO. 2016. ’CARTOColors’ Palettes. https://carto.com/carto-colors/.\n\n\nChang, Winston. 2023. extrafont: Tools for Using Fonts. https://CRAN.R-project.org/package=extrafont.\n\n\nCheung, Foo. 2021. dumbbell: Displaying Changes Between Two Points Using Dumbbell Plots. https://CRAN.R-project.org/package=dumbbell.\n\n\nCowgill, Matt, and John Helveston. 2021. ggannotate: Interactively Annotate ggplot2 Plots. https://github.com/MattCowgill/ggannotate.\n\n\nCsárdi, Gábor, and Jim Hester. 2024. pak: Another Approach to Package Installation. https://CRAN.R-project.org/package=pak.\n\n\nCsárdi, Gábor, Jim Hester, Hadley Wickham, Winston Chang, Martin Morgan, and Dan Tenenbaum. 2024. remotes: R Package Installation from Remote Repositories, Including ’GitHub’. https://CRAN.R-project.org/package=remotes.\n\n\nDomin, Iaroslav. 2024. ggview: ’ggplot2’ Picture Previewer. https://CRAN.R-project.org/package=ggview.\n\n\nEngler, Jan Broder. 2024. “Tidyplots Empowers Life Scientists with Easy Code-Based Data Visualization.” bioRxiv. https://doi.org/10.1101/2024.11.08.621836.\n\n\nFC, Mike, Trevor L. Davis, and ggplot2 authors. 2024. ggpattern: ’ggplot2’ Pattern Geoms. https://CRAN.R-project.org/package=ggpattern.\n\n\nFlaticon.com. 2024. “Wind Power Flaticon.” https://www.flaticon.com/free-icon/wind-power_5670189.\n\n\nFont Awesome. 2024. “Font Awesome 6.” https://fontawesome.com/.\n\n\nFranconeri, Steven L., Lace M. Padilla, Priti Shah, Jeffrey M. Zacks, and Jessica Hullman. 2021. “The Science of Visual Data Communication: What Works.” Psychological Science in the Public Interest 22 (3): 110–61. https://doi.org/10.1177/15291006211051956.\n\n\nGarnier, Simon, Ross, Noam, Rudis, Robert, Camargo, et al. 2024. viridis(Lite) - Colorblind-Friendly Color Maps for R. https://doi.org/10.5281/zenodo.4679423.\n\n\nGohel, David, and Panagiotis Skintzos. 2024. ggiraph: Make ’ggplot2’ Graphics Interactive. https://CRAN.R-project.org/package=ggiraph.\n\n\nGovernment Analysis Function. 2021. “Data Visualisation: Colours.” https://analysisfunction.civilservice.gov.uk/policy-store/data-visualisation-colours-in-charts/.\n\n\nHafen, Ryan. 2023. geofacet: ’ggplot2’ Faceting Utilities for Geographical Data. https://CRAN.R-project.org/package=geofacet.\n\n\nHarmon, Jon. 2024. Web APIs with R. CRC Press. https://wapir.io/.\n\n\nHester, Jim, Florent Angly, Russ Hyde, Michael Chirico, Kun Ren, Alexander Rosenstock, and Indrajeet Patil. 2024. lintr: A ’Linter’ for R Code. https://CRAN.R-project.org/package=lintr.\n\n\nHester, Jim, and Jennifer Bryan. 2024. glue: Interpreted String Literals. https://glue.tidyverse.org/.\n\n\nHughes, Ellis. 2022a. camcorder: Record Your Plot History. https://CRAN.R-project.org/package=camcorder.\n\n\n———. 2022b. tidytuesdayR: Access the Weekly ’TidyTuesday’ Project Dataset. https://CRAN.R-project.org/package=tidytuesdayR.\n\n\nHvitfeldt, Emil. 2021. paletteer: Comprehensive Collection of Color Palettes. https://github.com/EmilHvitfeldt/paletteer.\n\n\n———. 2025. animalshelter: Animal Shelter Data. https://github.com/EmilHvitfeldt/animalshelter.\n\n\nIannone, Richard. 2024. fontawesome: Easily Work with ’Font Awesome’ Icons. https://CRAN.R-project.org/package=fontawesome.\n\n\nInternet Assigned Numbers Authority. 2023. “The tz Database: Time Zone and Daylight Saving Time Data.” Internet Assigned Numbers Authority. https://data.iana.org/time-zones/tz-link.html.\n\n\nJax (@lysrix). 2017. “Lemur.” https://unsplash.com/photos/red-and-white-rodent-h5xrh3CNT-k.\n\n\nKays, R., R. R. Dunn, A. W. Parsons, B. Mcdonald, T. Perkins, S. A. Powers, L. Shell, et al. 2020. “The Small Home Ranges and Large Local Ecological Impacts of Pet Cats.” Animal Conservation 23 (5): 516–23. https://doi.org/10.1111/acv.12563.\n\n\nKeyes, David. 2024. R for the Rest of Us: A Statistics-Free Introduction. No Starch Press. https://book.rfortherestofus.com/.\n\n\nLong Beach Animal Shelter. 2025. “Animal Shelter Data.” City of Long Beach Animal Care Services. https://data.longbeach.gov/explore/dataset/animal-shelter-intakes-and-outcomes/information/.\n\n\nLucchesi, Lydia, and Petra Kuhnert. 2020. Vizumap: Visualizing Uncertainty in Spatial Data. https://github.com/lydialucchesi/Vizumap.\n\n\nMapping Museums. 2021. “Mapping Museums Data.” www.mappingmuseums.org.\n\n\nMassicotte, Philippe, and Andy South. 2023. rnaturalearth: World Map Data from Natural Earth. https://docs.ropensci.org/rnaturalearth/.\n\n\nMatejka, Justin, and George Fitzmaurice. 2017. “Same Stats, Different Graphs: Generating Datasets with Varied Appearance and Identical Statistics Through Simulated Annealing.” In, 1290–94. https://doi.org/10.1145/3025453.3025912.\n\n\nMcDonald, J. L., and H. Cole. 2020. “Data from: The Small Home Ranges and Large Local Ecological Impacts of Pet Cats [United Kingdom].” Movebank data repository. https://doi.org/doi:10.5441/001/1.pf315732.\n\n\nMcWhite, Claire D., and Claus O. Wilke. 2024. colorblindr: Simulate colorblindness in R figures. https://github.com/clauswilke/colorblindr.\n\n\nMid-Atlantic Apiculture Research and Extension Consortium. 2024. “Seasonal Cycles of Activities in Colonies.” https://canr.udel.edu/maarec/honey-bee-biology/seasonal-cycles-of-activities-in-colonies/.\n\n\nmikefc. 2024. poissoned: Tileable Poisson Disc Sampling. https://github.com/coolbutuseless/poissoned.\n\n\nMills, Blake Robert. 2022. MetBrewer: Color Palettes Inspired by Works at the Metropolitan Museum of Art. https://CRAN.R-project.org/package=MetBrewer.\n\n\nMIT Election Data and Science Lab. 2017. “U.S. House 1976–2022.” Harvard Dataverse. https://doi.org/10.7910/DVN/IG0UN2.\n\n\nMüller, Kirill, and Lorenz Walthert. 2023. styler: Non-Invasive Pretty Printing of R Code. https://CRAN.R-project.org/package=styler.\n\n\nMüller, Kirill, and Hadley Wickham. 2023. tibble: Simple Data Frames. https://CRAN.R-project.org/package=tibble.\n\n\nMuth, Lisa. 2018. “An Alternative to Pink & Blue: Colors for Gender Data.” https://blog.datawrapper.de/gendercolor/.\n\n\nNatural Resources Canada. 2021. “Canadian Wind Turbine Database.” Natural Resources Canada (Government of Canada). https://open.canada.ca/data/en/dataset/79fdad93-9025-49ad-ba16-c26d718cc070.\n\n\nNoblet, Guillaume. 2025. ggbranding: Add Personal Branding to ’ggplot2’ Charts. https://github.com/gnoblet/ggbranding.\n\n\nNowosad, Jakub. 2018. ’CARTOColors’ Palettes. https://jakubnowosad.com/rcartocolor/.\n\n\nOoms, Jeroen. 2024. magick: Advanced Graphics and Image-Processing in R. https://CRAN.R-project.org/package=magick.\n\n\nOur World in Data. 2019. “Medical Doctors Per 1,000 People.” https://ourworldindata.org/grapher/physicians-per-1000-people.\n\n\nPebesma, Edzer. 2018. “Simple Features for R: Standardized Support for Spatial Vector Data.” The R Journal 10 (1): 439–46. https://doi.org/10.32614/RJ-2018-009.\n\n\nPedersen, Thomas Lin. 2022. ggforce: Accelerating ’ggplot2’. https://CRAN.R-project.org/package=ggforce.\n\n\n———. 2024. patchwork: The Composer of Plots. https://CRAN.R-project.org/package=patchwork.\n\n\n———. 2025. “Fonts in R.” https://www.tidyverse.org/blog/2025/05/fonts-in-r/.\n\n\nPedersen, Thomas Lin, and Martin Mitáš. 2024. marquee: Markdown Parser and Renderer for R Graphics. https://CRAN.R-project.org/package=marquee.\n\n\nPedersen, Thomas Lin, Jeroen Ooms, and Devon Govett. 2024. systemfonts: System Native Font Finding. https://CRAN.R-project.org/package=systemfonts.\n\n\nPedersen, Thomas Lin, and Maxim Shemanarev. 2023. ragg: Graphic Devices Based on AGG. https://CRAN.R-project.org/package=ragg.\n\n\nPLDB contributors. 2022. “PLDB: A Programming Language Database.” PLDB. https://pldb.com.\n\n\nQiu, Yixuan. 2022. sysfonts: Loading Fonts into R. https://CRAN.R-project.org/package=sysfonts.\n\n\n———. 2023. showtext: Using Fonts More Easily in R Graphs. https://CRAN.R-project.org/package=showtext.\n\n\nR Core Team. 2024. R: A Language and Environment for Statistical Computing. Vienna, Austria: R Foundation for Statistical Computing. https://www.R-project.org/.\n\n\nR4DS Online Learning Community. 2023. “Tidy Tuesday: A Weekly Social Data Project.” https://github.com/rfordatascience/tidytuesday.\n\n\nRennie, Nicola. 2023a. “Adding Social Media Icons to Charts with ggplot2.” https://nrennie.rbind.io/blog/adding-social-media-icons-ggplot2/.\n\n\n———. 2023b. “Creating Template Files with R.” https://nrennie.rbind.io/blog/script-templates-r/.\n\n\n———. 2023c. “Four Ways to Streamline Your R Workflows.” https://nrennie.rbind.io/blog/four-ways-streamline-r-workflows/.\n\n\n———. 2024a. ggtextcircle: Circular Text in ’ggplot2’. https://github.com/nrennie/ggtextcircle.\n\n\n———. 2024b. nobel: Access data from the Nobel Prize API via R. https://github.com/nrennie/nobel.\n\n\n———. 2024c. “tidytuesday.” GitHub Repository. GitHub. https://github.com/nrennie/tidytuesday.\n\n\nRennie, Nicola, and Andreas Krause. 2024. “Presenting data the Significance way - Part 1.” Significance 21 (3): 36–39. https://doi.org/10.1093/jrssig/qmae045.\n\n\nReynolds, Gina. 2025. “Everyday ggplot2 extension.” https://evamaerey.github.io/everyday_ggplot2_extension/.\n\n\nRStudio. 2018a. “forcats Hex Sticker.” https://github.com/rstudio/hex-stickers/blob/main/PNG/forcats.png.\n\n\n———. 2018b. “ggplot2 Hex Sticker.” https://github.com/rstudio/hex-stickers/blob/main/PNG/ggplot2.png.\n\n\n———. 2018c. “purrr Hex Sticker.” https://github.com/rstudio/hex-stickers/blob/main/PNG/purrr.png.\n\n\n———. 2018d. “readr Hex Sticker.” https://github.com/rstudio/hex-stickers/blob/main/PNG/readr.png.\n\n\n———. 2018e. “tibble Hex Sticker.” https://github.com/rstudio/hex-stickers/blob/main/PNG/tibble.png.\n\n\n———. 2020a. “dplyr Hex Sticker.” https://github.com/rstudio/hex-stickers/blob/main/PNG/dplyr.png.\n\n\n———. 2020b. “stringr Hex Sticker.” https://github.com/rstudio/hex-stickers/blob/main/PNG/stringr.png.\n\n\n———. 2020c. “tidyr Hex Sticker.” https://github.com/rstudio/hex-stickers/blob/main/PNG/tidyr.png.\n\n\nRudis, Bob, Ben Bolker, and Jan Schulz. 2017. ggalt: Extra Coordinate Systems, ’Geoms’, Statistical Transformations, Scales and Fonts for ’ggplot2’. https://CRAN.R-project.org/package=ggalt.\n\n\nRudis, Bob, and Dave Gandy. 2023. waffle: Create Waffle Chart Visualizations. https://CRAN.R-project.org/package=waffle.\n\n\nSarkar, Deepayan. 2008. Lattice: Multivariate Data Visualization with r. New York: Springer. http://lmdvr.r-forge.r-project.org.\n\n\nSchauberger, Philipp, and Alexander Walker. 2023. openxlsx: Read, Write and Edit xlsx Files. https://CRAN.R-project.org/package=openxlsx.\n\n\nScheuch, Christoph. 2025. owidapi: Access the Our World in Data Chart API. https://doi.org/10.32614/CRAN.package.owidapi.\n\n\nSchloerke, Barret, Di Cook, Joseph Larmarange, Francois Briatte, Moritz Marbach, Edwin Thoen, Amos Elberg, and Jason Crowley. 2024. GGally: Extension to ’ggplot2’. https://CRAN.R-project.org/package=GGally.\n\n\nSchloss, Karen B., Connor C. Gramazio, Allison T. Silverman, Madeline L. Parker, and Audrey S. Wang. 2019. “Mapping Color to Meaning in Colormap Data Visualizations.” IEEE Transactions on Visualization and Computer Graphics 25 (1): 810–19. https://doi.org/10.1109/TVCG.2018.2865147.\n\n\nShalloway, Bryan. 2023. funspotr: Spot R Functions & Packages. https://CRAN.R-project.org/package=funspotr.\n\n\nSievert, Carson. 2020. Interactive Web-Based Data Visualization with r, Plotly, and Shiny. Chapman; Hall/CRC. https://plotly-r.com.\n\n\nSlowikowski, Kamil. 2024. ggrepel: Automatically Position Non-Overlapping Text Labels with ’ggplot2’. https://CRAN.R-project.org/package=ggrepel.\n\n\nTierney, Nicholas. 2017. “visdat: Visualising Whole Data Frames.” JOSS 2 (16): 355. https://doi.org/10.21105/joss.00355.\n\n\nTierney, Nicholas, and Dianne Cook. 2023. “Expanding Tidy Data Principles to Facilitate Missing Data Exploration, Visualization and Assessment of Imputations.” Journal of Statistical Software 105 (7): 1–31. https://doi.org/10.18637/jss.v105.i07.\n\n\nTol, Paul. 2021. “Paul Tol’s Notes: Colour schemes and templates.” https://sronpersonalpages.nl/~pault/.\n\n\nUnited States Census Bureau. 2021a. “Historical Population Change Data (1910-2020).” https://www.census.gov/data/tables/time-series/dec/popchange-data-text.html.\n\n\n———. 2021b. “State Area Measurements and Internal Point Coordinates.” https://www.census.gov/geographies/reference-files/2010/geo/state-area.html.\n\n\nUnited States Department of Agriculture: Economics, Statistics and Market Information System. 2022. “Honey Bee Colonies.” USDA Economics, Statistics and Market Information System. https://usda.library.cornell.edu/concern/publications/rn301137d.\n\n\nWalker, Kyle. 2022. crsuggest: Obtain Suggested Coordinate Reference System Information for Spatial Data. https://CRAN.R-project.org/package=crsuggest.\n\n\nWanzer, Dana Linnell, Tarek Azzam, Natalie D. Jones, and Darrel Skousen. 2021. “The Role of Titles in Enhancing Data Visualization.” Evaluation and Program Planning 84: 101896. https://doi.org/10.1016/j.evalprogplan.2020.101896.\n\n\nWickham, Hadley. 2016. ggplot2: Elegant Graphics for Data Analysis. Springer-Verlag New York. https://ggplot2.tidyverse.org.\n\n\n———. 2023a. forcats: Tools for Working with Categorical Variables (Factors). https://doi.org/10.32614/CRAN.package.forcats.\n\n\n———. 2023b. stringr: Simple, Consistent Wrappers for Common String Operations. https://CRAN.R-project.org/package=stringr.\n\n\nWickham, Hadley, Mara Averick, Jennifer Bryan, Winston Chang, Lucy D’Agostino McGowan, Romain François, Garrett Grolemund, et al. 2019. “Welcome to the tidyverse.” Journal of Open Source Software 4 (43): 1686. https://doi.org/10.21105/joss.01686.\n\n\nWickham, Hadley, and Jennifer Bryan. 2023. readxl: Read Excel Files. https://CRAN.R-project.org/package=readxl.\n\n\nWickham, Hadley, Mine Çetinkaya-Rundel, and Garrett Grolemund. 2023. R for Data Science. Second Edition. O-Reilly. https://r4ds.hadley.nz.\n\n\nWickham, Hadley, Romain François, Lionel Henry, Kirill Müller, and Davis Vaughan. 2023. dplyr: A Grammar of Data Manipulation. https://CRAN.R-project.org/package=dplyr.\n\n\nWickham, Hadley, and Lionel Henry. 2023. purrr: Functional Programming Tools. https://CRAN.R-project.org/package=purrr.\n\n\nWickham, Hadley, Jim Hester, and Jennifer Bryan. 2024. readr: Read Rectangular Text Data. https://CRAN.R-project.org/package=readr.\n\n\nWickham, Hadley, Thomas Lin Pedersen, and Dana Seidel. 2023. scales: Scale Functions for Visualization. https://CRAN.R-project.org/package=scales.\n\n\nWickham, Hadley, Davis Vaughan, and Maximilian Girlich. 2024. tidyr: Tidy Messy Data. https://CRAN.R-project.org/package=tidyr.\n\n\nWilke, Claus. 2022. ggtextures: Drawing Textured Rectangles and Bars with grid and ggplot2. https://github.com/clauswilke/ggtextures.\n\n\nWilke, Claus O. 2024. cowplot: Streamlined Plot Theme and Plot Annotations for ’ggplot2’. https://wilkelab.org/cowplot/.\n\n\nWilke, Claus O., and Brenton M. Wiernik. 2022. ggtext: Improved Text Rendering Support for ’ggplot2’. https://CRAN.R-project.org/package=ggtext.\n\n\nwww.nobelprize.org. 2024. “Nobel Prize API Version 2.1.” https://api.nobelprize.org/2.1/laureates.\n\n\nYork, Piers. 2023. owidR: Import Data from Our World in Data. https://github.com/piersyork/owidR.\n\n\nYu, Guangchuang. 2023. ggimage: Use Image in ’ggplot2’. https://CRAN.R-project.org/package=ggimage.\n\n\nYutani, Hiroaki. 2023. gghighlight: Highlight Lines and Points in ’ggplot2’. https://CRAN.R-project.org/package=gghighlight.\n\n\nZehr, Sarah M., Richard G. Roach, David Haring, Julie Taylor, Freda H. Cameron, and Anne D. Yoder. 2014. “Life history profiles for 27 strepsirrhine primate taxa generated using captive data from the Duke Lemur Center.” Scientific Data 1 (1). https://doi.org/10.1038/sdata.2014.19.",
    "crumbs": [
      "이미지 작업",
      "<span class='chapter-number'>10</span>  <span class='chapter-title'>R 패키지: 사용자 지정 패면 레이블에 이미지 사용하기</span>"
    ]
  },
  {
    "objectID": "spatial.html",
    "href": "spatial.html",
    "title": "공간 데이터 시각화",
    "section": "",
    "text": "공간 데이터는 사물의 물리적 위치나 모양, 그리고 서로 간의 관계에 대한 정보를 말합니다. 공간 데이터의 예로는 장소의 위도와 경도, 지역의 경계선, 지역의 고도를 보여주는 격자 등이 있습니다.\n\n 11  전 세계 의사 분포: ggplot2로 지도 만들기 에서는 maps 패키지를 사용하여 국가 경계 데이터를 추출한 다음 ggplot2로 등치 지역도(choropleth map)를 그려 각 국가의 변수 값을 시각화하는 방법에 대해 설명합니다.\n 12  시간대: sf를 사용한 공간 데이터 및 매핑 에서는 R에서 공간 데이터를 조작하기 위한 sf 패키지를 소개하고 지리적 좌표 데이터를 플롯하는 방법을 보여줍니다. 이 장에서는 좌표계도 다룹니다.\n 13  미국 하원 선거: geofacet을 이용한 그리드 위의 지리 에서는 각 지역에 대해 서로 다른 여러 영역 차트를 만든 다음 geofacet 패키지를 사용하여 기본 지리를 나타내는 격자에 배열하는 방법에 대해 설명합니다.\n\n이 섹션에서는 또한 patchwork를 사용하여 사용자 정의 범례를 만들고 배열하는 방법과 ggplot2 차트의 요소를 용도 변경하여 더 미학적으로 즐거운 제목을 만드는 방법을 배웁니다.\n\n\n\n\nAnscombe, F. J. 1973. “Graphs in Statistical Analysis.” The American Statistician 27 (1): 17–21. https://doi.org/10.1080/00031305.1973.10478966.\n\n\nAphalo, Pedro J. 2024. Learn R: As a Language. Second Edition. CRC Press. https://www.learnr-book.info/.\n\n\nAuguie, Baptiste. 2019. egg: Extensions for ’ggplot2’: Custom Geom, Custom Themes, Plot Alignment, Labelled Panels, Symmetric Scales, and Fixed Panel Size. https://CRAN.R-project.org/package=egg.\n\n\nBarthelme, Simon. 2024. imager: Image Processing Library Based on ’CImg’. https://CRAN.R-project.org/package=imager.\n\n\nBrand, Teun van den. 2025. “ggplot2 4.0.0.” https://www.tidyverse.org/blog/2025/09/ggplot2-4-0-0/.\n\n\nBridson, Robert. 2007. “Fast Poisson Disk Sampling in Arbitrary Dimensions.” In ACM SIGGRAPH 2007 Sketches. SIGGRAPH ’07. New York, NY, USA: Association for Computing Machinery. https://doi.org/10.1145/1278780.1278807.\n\n\nBrown, Mark J.F., and Paxton, Robert J. 2009. “The Conservation of Bees: A Global Perspective.” Apidologie 40 (3): 410–16. https://doi.org/10.1051/apido/2009019.\n\n\nCameron, Allan, and Teun van den Brand. 2024. geomtextpath: Curved Text in ’ggplot2’. https://CRAN.R-project.org/package=geomtextpath.\n\n\nCARTO. 2016. ’CARTOColors’ Palettes. https://carto.com/carto-colors/.\n\n\nChang, Winston. 2023. extrafont: Tools for Using Fonts. https://CRAN.R-project.org/package=extrafont.\n\n\nCheung, Foo. 2021. dumbbell: Displaying Changes Between Two Points Using Dumbbell Plots. https://CRAN.R-project.org/package=dumbbell.\n\n\nCowgill, Matt, and John Helveston. 2021. ggannotate: Interactively Annotate ggplot2 Plots. https://github.com/MattCowgill/ggannotate.\n\n\nCsárdi, Gábor, and Jim Hester. 2024. pak: Another Approach to Package Installation. https://CRAN.R-project.org/package=pak.\n\n\nCsárdi, Gábor, Jim Hester, Hadley Wickham, Winston Chang, Martin Morgan, and Dan Tenenbaum. 2024. remotes: R Package Installation from Remote Repositories, Including ’GitHub’. https://CRAN.R-project.org/package=remotes.\n\n\nDomin, Iaroslav. 2024. ggview: ’ggplot2’ Picture Previewer. https://CRAN.R-project.org/package=ggview.\n\n\nEngler, Jan Broder. 2024. “Tidyplots Empowers Life Scientists with Easy Code-Based Data Visualization.” bioRxiv. https://doi.org/10.1101/2024.11.08.621836.\n\n\nFC, Mike, Trevor L. Davis, and ggplot2 authors. 2024. ggpattern: ’ggplot2’ Pattern Geoms. https://CRAN.R-project.org/package=ggpattern.\n\n\nFlaticon.com. 2024. “Wind Power Flaticon.” https://www.flaticon.com/free-icon/wind-power_5670189.\n\n\nFont Awesome. 2024. “Font Awesome 6.” https://fontawesome.com/.\n\n\nFranconeri, Steven L., Lace M. Padilla, Priti Shah, Jeffrey M. Zacks, and Jessica Hullman. 2021. “The Science of Visual Data Communication: What Works.” Psychological Science in the Public Interest 22 (3): 110–61. https://doi.org/10.1177/15291006211051956.\n\n\nGarnier, Simon, Ross, Noam, Rudis, Robert, Camargo, et al. 2024. viridis(Lite) - Colorblind-Friendly Color Maps for R. https://doi.org/10.5281/zenodo.4679423.\n\n\nGohel, David, and Panagiotis Skintzos. 2024. ggiraph: Make ’ggplot2’ Graphics Interactive. https://CRAN.R-project.org/package=ggiraph.\n\n\nGovernment Analysis Function. 2021. “Data Visualisation: Colours.” https://analysisfunction.civilservice.gov.uk/policy-store/data-visualisation-colours-in-charts/.\n\n\nHafen, Ryan. 2023. geofacet: ’ggplot2’ Faceting Utilities for Geographical Data. https://CRAN.R-project.org/package=geofacet.\n\n\nHarmon, Jon. 2024. Web APIs with R. CRC Press. https://wapir.io/.\n\n\nHester, Jim, Florent Angly, Russ Hyde, Michael Chirico, Kun Ren, Alexander Rosenstock, and Indrajeet Patil. 2024. lintr: A ’Linter’ for R Code. https://CRAN.R-project.org/package=lintr.\n\n\nHester, Jim, and Jennifer Bryan. 2024. glue: Interpreted String Literals. https://glue.tidyverse.org/.\n\n\nHughes, Ellis. 2022a. camcorder: Record Your Plot History. https://CRAN.R-project.org/package=camcorder.\n\n\n———. 2022b. tidytuesdayR: Access the Weekly ’TidyTuesday’ Project Dataset. https://CRAN.R-project.org/package=tidytuesdayR.\n\n\nHvitfeldt, Emil. 2021. paletteer: Comprehensive Collection of Color Palettes. https://github.com/EmilHvitfeldt/paletteer.\n\n\n———. 2025. animalshelter: Animal Shelter Data. https://github.com/EmilHvitfeldt/animalshelter.\n\n\nIannone, Richard. 2024. fontawesome: Easily Work with ’Font Awesome’ Icons. https://CRAN.R-project.org/package=fontawesome.\n\n\nInternet Assigned Numbers Authority. 2023. “The tz Database: Time Zone and Daylight Saving Time Data.” Internet Assigned Numbers Authority. https://data.iana.org/time-zones/tz-link.html.\n\n\nJax (@lysrix). 2017. “Lemur.” https://unsplash.com/photos/red-and-white-rodent-h5xrh3CNT-k.\n\n\nKays, R., R. R. Dunn, A. W. Parsons, B. Mcdonald, T. Perkins, S. A. Powers, L. Shell, et al. 2020. “The Small Home Ranges and Large Local Ecological Impacts of Pet Cats.” Animal Conservation 23 (5): 516–23. https://doi.org/10.1111/acv.12563.\n\n\nKeyes, David. 2024. R for the Rest of Us: A Statistics-Free Introduction. No Starch Press. https://book.rfortherestofus.com/.\n\n\nLong Beach Animal Shelter. 2025. “Animal Shelter Data.” City of Long Beach Animal Care Services. https://data.longbeach.gov/explore/dataset/animal-shelter-intakes-and-outcomes/information/.\n\n\nLucchesi, Lydia, and Petra Kuhnert. 2020. Vizumap: Visualizing Uncertainty in Spatial Data. https://github.com/lydialucchesi/Vizumap.\n\n\nMapping Museums. 2021. “Mapping Museums Data.” www.mappingmuseums.org.\n\n\nMassicotte, Philippe, and Andy South. 2023. rnaturalearth: World Map Data from Natural Earth. https://docs.ropensci.org/rnaturalearth/.\n\n\nMatejka, Justin, and George Fitzmaurice. 2017. “Same Stats, Different Graphs: Generating Datasets with Varied Appearance and Identical Statistics Through Simulated Annealing.” In, 1290–94. https://doi.org/10.1145/3025453.3025912.\n\n\nMcDonald, J. L., and H. Cole. 2020. “Data from: The Small Home Ranges and Large Local Ecological Impacts of Pet Cats [United Kingdom].” Movebank data repository. https://doi.org/doi:10.5441/001/1.pf315732.\n\n\nMcWhite, Claire D., and Claus O. Wilke. 2024. colorblindr: Simulate colorblindness in R figures. https://github.com/clauswilke/colorblindr.\n\n\nMid-Atlantic Apiculture Research and Extension Consortium. 2024. “Seasonal Cycles of Activities in Colonies.” https://canr.udel.edu/maarec/honey-bee-biology/seasonal-cycles-of-activities-in-colonies/.\n\n\nmikefc. 2024. poissoned: Tileable Poisson Disc Sampling. https://github.com/coolbutuseless/poissoned.\n\n\nMills, Blake Robert. 2022. MetBrewer: Color Palettes Inspired by Works at the Metropolitan Museum of Art. https://CRAN.R-project.org/package=MetBrewer.\n\n\nMIT Election Data and Science Lab. 2017. “U.S. House 1976–2022.” Harvard Dataverse. https://doi.org/10.7910/DVN/IG0UN2.\n\n\nMüller, Kirill, and Lorenz Walthert. 2023. styler: Non-Invasive Pretty Printing of R Code. https://CRAN.R-project.org/package=styler.\n\n\nMüller, Kirill, and Hadley Wickham. 2023. tibble: Simple Data Frames. https://CRAN.R-project.org/package=tibble.\n\n\nMuth, Lisa. 2018. “An Alternative to Pink & Blue: Colors for Gender Data.” https://blog.datawrapper.de/gendercolor/.\n\n\nNatural Resources Canada. 2021. “Canadian Wind Turbine Database.” Natural Resources Canada (Government of Canada). https://open.canada.ca/data/en/dataset/79fdad93-9025-49ad-ba16-c26d718cc070.\n\n\nNoblet, Guillaume. 2025. ggbranding: Add Personal Branding to ’ggplot2’ Charts. https://github.com/gnoblet/ggbranding.\n\n\nNowosad, Jakub. 2018. ’CARTOColors’ Palettes. https://jakubnowosad.com/rcartocolor/.\n\n\nOoms, Jeroen. 2024. magick: Advanced Graphics and Image-Processing in R. https://CRAN.R-project.org/package=magick.\n\n\nOur World in Data. 2019. “Medical Doctors Per 1,000 People.” https://ourworldindata.org/grapher/physicians-per-1000-people.\n\n\nPebesma, Edzer. 2018. “Simple Features for R: Standardized Support for Spatial Vector Data.” The R Journal 10 (1): 439–46. https://doi.org/10.32614/RJ-2018-009.\n\n\nPedersen, Thomas Lin. 2022. ggforce: Accelerating ’ggplot2’. https://CRAN.R-project.org/package=ggforce.\n\n\n———. 2024. patchwork: The Composer of Plots. https://CRAN.R-project.org/package=patchwork.\n\n\n———. 2025. “Fonts in R.” https://www.tidyverse.org/blog/2025/05/fonts-in-r/.\n\n\nPedersen, Thomas Lin, and Martin Mitáš. 2024. marquee: Markdown Parser and Renderer for R Graphics. https://CRAN.R-project.org/package=marquee.\n\n\nPedersen, Thomas Lin, Jeroen Ooms, and Devon Govett. 2024. systemfonts: System Native Font Finding. https://CRAN.R-project.org/package=systemfonts.\n\n\nPedersen, Thomas Lin, and Maxim Shemanarev. 2023. ragg: Graphic Devices Based on AGG. https://CRAN.R-project.org/package=ragg.\n\n\nPLDB contributors. 2022. “PLDB: A Programming Language Database.” PLDB. https://pldb.com.\n\n\nQiu, Yixuan. 2022. sysfonts: Loading Fonts into R. https://CRAN.R-project.org/package=sysfonts.\n\n\n———. 2023. showtext: Using Fonts More Easily in R Graphs. https://CRAN.R-project.org/package=showtext.\n\n\nR Core Team. 2024. R: A Language and Environment for Statistical Computing. Vienna, Austria: R Foundation for Statistical Computing. https://www.R-project.org/.\n\n\nR4DS Online Learning Community. 2023. “Tidy Tuesday: A Weekly Social Data Project.” https://github.com/rfordatascience/tidytuesday.\n\n\nRennie, Nicola. 2023a. “Adding Social Media Icons to Charts with ggplot2.” https://nrennie.rbind.io/blog/adding-social-media-icons-ggplot2/.\n\n\n———. 2023b. “Creating Template Files with R.” https://nrennie.rbind.io/blog/script-templates-r/.\n\n\n———. 2023c. “Four Ways to Streamline Your R Workflows.” https://nrennie.rbind.io/blog/four-ways-streamline-r-workflows/.\n\n\n———. 2024a. ggtextcircle: Circular Text in ’ggplot2’. https://github.com/nrennie/ggtextcircle.\n\n\n———. 2024b. nobel: Access data from the Nobel Prize API via R. https://github.com/nrennie/nobel.\n\n\n———. 2024c. “tidytuesday.” GitHub Repository. GitHub. https://github.com/nrennie/tidytuesday.\n\n\nRennie, Nicola, and Andreas Krause. 2024. “Presenting data the Significance way - Part 1.” Significance 21 (3): 36–39. https://doi.org/10.1093/jrssig/qmae045.\n\n\nReynolds, Gina. 2025. “Everyday ggplot2 extension.” https://evamaerey.github.io/everyday_ggplot2_extension/.\n\n\nRStudio. 2018a. “forcats Hex Sticker.” https://github.com/rstudio/hex-stickers/blob/main/PNG/forcats.png.\n\n\n———. 2018b. “ggplot2 Hex Sticker.” https://github.com/rstudio/hex-stickers/blob/main/PNG/ggplot2.png.\n\n\n———. 2018c. “purrr Hex Sticker.” https://github.com/rstudio/hex-stickers/blob/main/PNG/purrr.png.\n\n\n———. 2018d. “readr Hex Sticker.” https://github.com/rstudio/hex-stickers/blob/main/PNG/readr.png.\n\n\n———. 2018e. “tibble Hex Sticker.” https://github.com/rstudio/hex-stickers/blob/main/PNG/tibble.png.\n\n\n———. 2020a. “dplyr Hex Sticker.” https://github.com/rstudio/hex-stickers/blob/main/PNG/dplyr.png.\n\n\n———. 2020b. “stringr Hex Sticker.” https://github.com/rstudio/hex-stickers/blob/main/PNG/stringr.png.\n\n\n———. 2020c. “tidyr Hex Sticker.” https://github.com/rstudio/hex-stickers/blob/main/PNG/tidyr.png.\n\n\nRudis, Bob, Ben Bolker, and Jan Schulz. 2017. ggalt: Extra Coordinate Systems, ’Geoms’, Statistical Transformations, Scales and Fonts for ’ggplot2’. https://CRAN.R-project.org/package=ggalt.\n\n\nRudis, Bob, and Dave Gandy. 2023. waffle: Create Waffle Chart Visualizations. https://CRAN.R-project.org/package=waffle.\n\n\nSarkar, Deepayan. 2008. Lattice: Multivariate Data Visualization with r. New York: Springer. http://lmdvr.r-forge.r-project.org.\n\n\nSchauberger, Philipp, and Alexander Walker. 2023. openxlsx: Read, Write and Edit xlsx Files. https://CRAN.R-project.org/package=openxlsx.\n\n\nScheuch, Christoph. 2025. owidapi: Access the Our World in Data Chart API. https://doi.org/10.32614/CRAN.package.owidapi.\n\n\nSchloerke, Barret, Di Cook, Joseph Larmarange, Francois Briatte, Moritz Marbach, Edwin Thoen, Amos Elberg, and Jason Crowley. 2024. GGally: Extension to ’ggplot2’. https://CRAN.R-project.org/package=GGally.\n\n\nSchloss, Karen B., Connor C. Gramazio, Allison T. Silverman, Madeline L. Parker, and Audrey S. Wang. 2019. “Mapping Color to Meaning in Colormap Data Visualizations.” IEEE Transactions on Visualization and Computer Graphics 25 (1): 810–19. https://doi.org/10.1109/TVCG.2018.2865147.\n\n\nShalloway, Bryan. 2023. funspotr: Spot R Functions & Packages. https://CRAN.R-project.org/package=funspotr.\n\n\nSievert, Carson. 2020. Interactive Web-Based Data Visualization with r, Plotly, and Shiny. Chapman; Hall/CRC. https://plotly-r.com.\n\n\nSlowikowski, Kamil. 2024. ggrepel: Automatically Position Non-Overlapping Text Labels with ’ggplot2’. https://CRAN.R-project.org/package=ggrepel.\n\n\nTierney, Nicholas. 2017. “visdat: Visualising Whole Data Frames.” JOSS 2 (16): 355. https://doi.org/10.21105/joss.00355.\n\n\nTierney, Nicholas, and Dianne Cook. 2023. “Expanding Tidy Data Principles to Facilitate Missing Data Exploration, Visualization and Assessment of Imputations.” Journal of Statistical Software 105 (7): 1–31. https://doi.org/10.18637/jss.v105.i07.\n\n\nTol, Paul. 2021. “Paul Tol’s Notes: Colour schemes and templates.” https://sronpersonalpages.nl/~pault/.\n\n\nUnited States Census Bureau. 2021a. “Historical Population Change Data (1910-2020).” https://www.census.gov/data/tables/time-series/dec/popchange-data-text.html.\n\n\n———. 2021b. “State Area Measurements and Internal Point Coordinates.” https://www.census.gov/geographies/reference-files/2010/geo/state-area.html.\n\n\nUnited States Department of Agriculture: Economics, Statistics and Market Information System. 2022. “Honey Bee Colonies.” USDA Economics, Statistics and Market Information System. https://usda.library.cornell.edu/concern/publications/rn301137d.\n\n\nWalker, Kyle. 2022. crsuggest: Obtain Suggested Coordinate Reference System Information for Spatial Data. https://CRAN.R-project.org/package=crsuggest.\n\n\nWanzer, Dana Linnell, Tarek Azzam, Natalie D. Jones, and Darrel Skousen. 2021. “The Role of Titles in Enhancing Data Visualization.” Evaluation and Program Planning 84: 101896. https://doi.org/10.1016/j.evalprogplan.2020.101896.\n\n\nWickham, Hadley. 2016. ggplot2: Elegant Graphics for Data Analysis. Springer-Verlag New York. https://ggplot2.tidyverse.org.\n\n\n———. 2023a. forcats: Tools for Working with Categorical Variables (Factors). https://doi.org/10.32614/CRAN.package.forcats.\n\n\n———. 2023b. stringr: Simple, Consistent Wrappers for Common String Operations. https://CRAN.R-project.org/package=stringr.\n\n\nWickham, Hadley, Mara Averick, Jennifer Bryan, Winston Chang, Lucy D’Agostino McGowan, Romain François, Garrett Grolemund, et al. 2019. “Welcome to the tidyverse.” Journal of Open Source Software 4 (43): 1686. https://doi.org/10.21105/joss.01686.\n\n\nWickham, Hadley, and Jennifer Bryan. 2023. readxl: Read Excel Files. https://CRAN.R-project.org/package=readxl.\n\n\nWickham, Hadley, Mine Çetinkaya-Rundel, and Garrett Grolemund. 2023. R for Data Science. Second Edition. O-Reilly. https://r4ds.hadley.nz.\n\n\nWickham, Hadley, Romain François, Lionel Henry, Kirill Müller, and Davis Vaughan. 2023. dplyr: A Grammar of Data Manipulation. https://CRAN.R-project.org/package=dplyr.\n\n\nWickham, Hadley, and Lionel Henry. 2023. purrr: Functional Programming Tools. https://CRAN.R-project.org/package=purrr.\n\n\nWickham, Hadley, Jim Hester, and Jennifer Bryan. 2024. readr: Read Rectangular Text Data. https://CRAN.R-project.org/package=readr.\n\n\nWickham, Hadley, Thomas Lin Pedersen, and Dana Seidel. 2023. scales: Scale Functions for Visualization. https://CRAN.R-project.org/package=scales.\n\n\nWickham, Hadley, Davis Vaughan, and Maximilian Girlich. 2024. tidyr: Tidy Messy Data. https://CRAN.R-project.org/package=tidyr.\n\n\nWilke, Claus. 2022. ggtextures: Drawing Textured Rectangles and Bars with grid and ggplot2. https://github.com/clauswilke/ggtextures.\n\n\nWilke, Claus O. 2024. cowplot: Streamlined Plot Theme and Plot Annotations for ’ggplot2’. https://wilkelab.org/cowplot/.\n\n\nWilke, Claus O., and Brenton M. Wiernik. 2022. ggtext: Improved Text Rendering Support for ’ggplot2’. https://CRAN.R-project.org/package=ggtext.\n\n\nwww.nobelprize.org. 2024. “Nobel Prize API Version 2.1.” https://api.nobelprize.org/2.1/laureates.\n\n\nYork, Piers. 2023. owidR: Import Data from Our World in Data. https://github.com/piersyork/owidR.\n\n\nYu, Guangchuang. 2023. ggimage: Use Image in ’ggplot2’. https://CRAN.R-project.org/package=ggimage.\n\n\nYutani, Hiroaki. 2023. gghighlight: Highlight Lines and Points in ’ggplot2’. https://CRAN.R-project.org/package=gghighlight.\n\n\nZehr, Sarah M., Richard G. Roach, David Haring, Julie Taylor, Freda H. Cameron, and Anne D. Yoder. 2014. “Life history profiles for 27 strepsirrhine primate taxa generated using captive data from the Duke Lemur Center.” Scientific Data 1 (1). https://doi.org/10.1038/sdata.2014.19.",
    "crumbs": [
      "공간 데이터 시각화"
    ]
  },
  {
    "objectID": "doctors.html",
    "href": "doctors.html",
    "title": "11  전 세계 의사 분포: ggplot2로 지도 만들기",
    "section": "",
    "text": "11.1 데이터\n이 장에서는 공개 데이터 소스를 식별하고, maps 패키지의 데이터를 사용하여 ggplot2로 지도를 만들고, 패싯(facet)을 독창적으로 사용하여 제목 패널을 만드는 방법을 배웁니다.\n이 장을 마치면 다음을 할 수 있습니다:\n이 장에 필요한 패키지를 로드하는 것으로 시작합니다.\n이 장에서는 Chapter 6 에서 소개한 rcartocolor와 유사한 또 다른 색상 팔레트 패키지인 MetBrewer를 소개합니다. 또한 maps 패키지가 설치되어 있는지 확인해야 하지만, ggplot2를 통해 액세스할 것이므로 library()로 명시적으로 로드할 필요는 없습니다.\nOur World in Data 웹사이트(ourworldindata.org) (Our World in Data 2019)의 데이터 세트를 사용하여 인구 1,000명당 의사 수에 대한 데이터를 시각화할 것입니다. 웹사이트에 따르면 Our World in Data의 목표는 세계의 가장 큰 문제에 대한 진전을 이루기 위한 연구와 데이터를 게시하는 것입니다. 에너지와 환경에서 빈곤과 교육에 이르기까지 모든 것에 대한 데이터 세트가 있습니다. 그들의 웹사이트에는 영감을 찾고 있다면 아름답고 효과적인 데이터 시각화의 예가 많이 있습니다.\nourworldindata.org/grapher/physicians-per-1000-people에서 CSV 파일을 수동으로 다운로드하거나 Chapter 6 에서 했던 것처럼 URL을 사용하여 R로 직접 다운로드할 수 있습니다. readr의 read_csv() 함수(또는 선호하는 경우 기본 R의 read.csv())에 URL을 전달하기만 하면 됩니다. Chapter 6 에서와 마찬가지로 나중에 다른 데이터 세트를 더 쉽게 로드할 수 있도록 URL을 기본 URL과 관심 있는 특정 페이지로 분리합니다.\nbase_url &lt;- \"https://ourworldindata.org/grapher/\"\nurl &lt;- paste0(\n  base_url,\n  \"physicians-per-1000-people.csv\"\n)\ndoctors &lt;- read_csv(url)",
    "crumbs": [
      "공간 데이터 시각화",
      "<span class='chapter-number'>11</span>  <span class='chapter-title'>전 세계 의사 분포: **`ggplot2`**로 지도 만들기</span>"
    ]
  },
  {
    "objectID": "doctors.html#데이터",
    "href": "doctors.html#데이터",
    "title": "11  전 세계 의사 분포: ggplot2로 지도 만들기",
    "section": "",
    "text": "Tip 11.1: R을 통해 Our World in Data에 연결하기\n\n\n\nowidapi R 패키지 (Scheuch 2025)는 Our World in Data 웹사이트에 대한 R 인터페이스를 제공하여 웹사이트를 탐색하지 않고도 R에서 데이터를 검색하고 다운로드할 수 있습니다. 그러나 read_csv()에 URL을 전달하는 것보다 훨씬 덜 복잡하지는 않습니다. \n\nlibrary(owidapi)\ndoctors &lt;- owid_get(\"physicians-per-1000-people\")\n\n이전에는 owidR 패키지 (York 2023)도 유사한 인터페이스를 제공했지만, 작성 당시 데이터를 액세스할 때 오류가 발생하는 최신 Our World in Data API를 사용하도록 업데이트되지 않았습니다. \n\n\n\n\n\n\n\n\nTip 11.2: 나중에 사용할 수 있도록 데이터 저장하기\n\n\n\n나중에 사용할 수 있도록 readr의 write.csv() 또는 write_csv()를 사용하여 doctors의 사본을 CSV 파일로 저장할 수 있습니다. 즉, R을 열 때마다 데이터를 다운로드할 필요가 없으며 분석 중간에 데이터가 업데이트되는 것에 대해 걱정할 필요가 없습니다. 그런 다음 나중에 readr의 read.csv 또는 read_csv()로 데이터를 읽을 수 있습니다. \n\n\n\n\n\n\n\n\nTip 11.3: 데이터 소스 찾기\n\n\n\nTidyTuesday (R4DS Online Learning Community 2023)에는 매년 Bring Your Own Data(나만의 데이터 가져오기) 주간이 있어 참가자들이 자신의 데이터를 소싱하도록 권장합니다. 일부는 지난 1년 동안 얼마나 많이 달렸는지 시각화하거나 GitHub 기여 그래프를 다시 만드는 등 자신의 데이터를 사용합니다. 다른 사람들은 다른 공개 데이터 소스를 찾아 시각화하는 것을 선택합니다. 그렇다면 공개적으로 사용 가능한 데이터는 어디에서 찾을 수 있을까요?\n주제, 기간 및 전 세계 지역을 아우르는 많은 공개 데이터 소스가 있습니다. 일부 정부 기관에는 데이터 포털이 있고, 일부 회사에는 액세스할 수 있는 API가 있으며, 일부 학술 논문에는 데이터가 함께 제공되거나 Google 데이터 세트 검색 엔진(datasetsearch.research.google.com)이 관심 있는 데이터를 식별하는 데 도움이 될 수도 있습니다.",
    "crumbs": [
      "공간 데이터 시각화",
      "<span class='chapter-number'>11</span>  <span class='chapter-title'>전 세계 의사 분포: **`ggplot2`**로 지도 만들기</span>"
    ]
  },
  {
    "objectID": "doctors.html#탐색-작업",
    "href": "doctors.html#탐색-작업",
    "title": "11  전 세계 의사 분포: ggplot2로 지도 만들기",
    "section": "\n11.2 탐색 작업",
    "text": "11.2 탐색 작업\n데이터를 탐색하여 시각화할 수 있는 흥미로운 패턴이 있는지 확인하는 것으로 시작하겠습니다.\n\n11.2.1 데이터 탐색\n데이터는 Entity(국가 또는 더 큰 지역을 나타냄), Code(국가 코드), Year(데이터가 관련된 연도) 및 Physicians (per 1,000 people)의 4개 열만 포함하여 합리적으로 작습니다. 4939행의 데이터는 222개의 서로 다른 지역(일부는 다른 지역의 집계)을 다루며 데이터는 62년을 다룹니다.\n\nhead(doctors)\n\n# A tibble: 6 × 4\n  Entity      Code   Year `Physicians (per 1,000 people)`\n  &lt;chr&gt;       &lt;chr&gt; &lt;dbl&gt;                           &lt;dbl&gt;\n1 Afghanistan AFG    1960                           0.035\n2 Afghanistan AFG    1965                           0.063\n3 Afghanistan AFG    1970                           0.065\n4 Afghanistan AFG    1981                           0.077\n5 Afghanistan AFG    1986                           0.183\n6 Afghanistan AFG    1987                           0.179\n\n\n데이터에 시간 구성 요소가 있을 때 고려해야 할 가장 분명한 패턴 중 하나는 다른 변수가 시간이 지남에 따라 어떻게 변하는지입니다. 시계열 데이터를 시각화하는 데는 선형 차트가 아마도 가장 일반적이지만 간단한 산점도도 데이터에 일반적인 추세가 있는지 나타낼 수 있습니다. 때로는 산점도가 선형 차트보다 깔끔해 보이기도 합니다. 이 차트의 각 지역에 대한 선은 Chapter 3 에서 논의한 것처럼 스파게티 차트처럼 보일 것입니다. \n\nplot(\n  x = doctors$Year,\n  y = doctors$`Physicians (per 1,000 people)`,\n  xlab = \"Year\",\n  ylab = \"Physicians per 1,000 people\"\n)\n\n\n\n\n\n\nFigure 11.1: 기본 R로 만든, 시간이 지남에 따라 인구 1,000명당 의사 수가 증가하는 추세를 보여주는 스타일이 지정되지 않은 간단한 산점도.\n\n\n\n\n1960년과 2020년 사이에 전반적으로 증가하는 추세가 있는 것 같습니다. 우리가 탐색하고 싶어 할 수 있는 이 데이터의 또 다른 중요한 구성 요소는 공간적 측면입니다 - 시간뿐만 아니라 공간에 따른 패턴도 있을까요?\n\n11.2.2 탐색적 스케치\n공간 데이터를 시각화하는 가장 일반적인 접근 방식은 물론 지도에 표시하는 것입니다. 목표가 다른 국가(또는 기타 정의된 지역)에 따라 변수가 어떻게 변하는지 보여주는 것이라면 변수 값에 따라 국가의 색상을 지정하는 것이 매우 일반적입니다. 이를 종종 등치 지역도(choropleth maps)라고 합니다.\n\n\n\n\n\nFigure 11.2: 상자 안에 제목이 있고 오른쪽 하단에 범례가 수평으로 배치된 세계 지도의 초기 스케치\n\n\n이 시점은 또한 만들 플롯의 방향과 종횡비에 대해 생각하기 시작하기에 좋은 시기입니다. 이는 플롯이 결국 어디에 위치할지에 따라 많이 달라질 것입니다. 예를 들어, 단일 열 학술 기사의 플롯은 일반적으로 가로형 그래프가 될 것입니다. 방향과 종횡비의 선택은 데이터가 얼마나 명확하게 표시되는지에도 영향을 미칠 수 있습니다. 시계열 데이터에 대해 매우 넓은 플롯을 선택하면 계열이 늘어나 추세의 모양이 사라질 수 있습니다. 지도의 경우 만들고 있는 플롯에 이미 기본 종횡비가 있기 때문에 조금 더 제한적입니다. 이 지도의 경우 6x4 종횡비의 가로 방향이 합리적으로 잘 작동할 것입니다.",
    "crumbs": [
      "공간 데이터 시각화",
      "<span class='chapter-number'>11</span>  <span class='chapter-title'>전 세계 의사 분포: **`ggplot2`**로 지도 만들기</span>"
    ]
  },
  {
    "objectID": "doctors.html#플롯-준비하기",
    "href": "doctors.html#플롯-준비하기",
    "title": "11  전 세계 의사 분포: ggplot2로 지도 만들기",
    "section": "\n11.3 플롯 준비하기",
    "text": "11.3 플롯 준비하기\nFigure 11.2 에 스케치된 지도를 만들려면 두 가지 작업을 수행해야 합니다. (i) 플롯할 데이터 결정: 어떤 지역, 어떤 연도; (ii) 지역 이름과 국가 코드 이상의 공간 데이터 소싱.\n\n11.3.1 데이터 랭글링\n이 데이터는 이미 상당히 깔끔하므로 데이터 랭글링을 많이 할 필요는 없습니다. 우리가 정말로 해야 할 유일한 처리는 필요하지 않은 데이터를 제거하고 작업하기 쉽도록 몇 개의 열 이름을 바꾸는 것입니다. dplyr의 rename() 함수를 사용하여 Entity 열의 이름을 region으로 바꿀 수 있습니다(그 이유는 다음 단락에서 명확해질 것입니다!).. 또한 작업하기 쉽도록 Physicians (per 1,000 people) 열의 이름을 doctors로 바꾸고 일관성을 위해 Year를 year로 바꿉니다. 데이터에는 각 국가에 대해 여러 항목이 있으며 다른 연도에 걸쳐 있습니다. 시간이 지남에 따라 의사 수가 어떻게 변하는지 보여주는 애니메이션 지도를 만들 수도 있지만 지금은 한 시점의 스냅샷을 보여주는 정적 지도로 간단하게 유지하겠습니다. 하지만 약간의 문제가 있습니다. 데이터를 살펴보면 모든 국가에 매년 항목이 있는 것은 아니라는 것을 알 수 있습니다. 각 국가에 대해 가장 최근에 사용 가능한 데이터를 사용해 보겠습니다. 각 region에 대해 {dplyr}의 group_by() 및 slice_max() 조합을 사용하여 가장 최근 연도만 있는 행을 유지합니다.\n\ndoctors &lt;- doctors |&gt;\n  rename(\n    year = Year,\n    region = Entity,\n    doctors = `Physicians (per 1,000 people)`\n  ) |&gt;\n  select(region, year, doctors) |&gt;\n  group_by(region) |&gt;\n  slice_max(year) |&gt;\n  ungroup()\n\n이 데이터를 세계 지도에 플롯하려면 국가 경계 데이터도 필요합니다. 다행히도 ggplot2에 내장된 map_data() 함수가 도움이 될 수 있습니다! 이 함수는 maps 패키지의 데이터를 가져와 ggplot2로 직접 플롯할 수 있는 객체로 변환합니다.\n\nworld &lt;- map_data(\"world\")\n\n물론, 그렇게 간단하지는 않습니다. world 지도 데이터를 doctors 데이터에 결합해야 하며, 그렇게 하려면 두 데이터 세트에 결합할 열이 필요합니다. 우리는 region 열을 사용할 것입니다. region 열을 사용하여 이 두 데이터 세트를 결합하려고 하면 예상치 못한 NA 값이 생기는 것을 알 수 있습니다. 무슨 일일까요?\n\n\n\n\n\n\nTip 11.4: 열 이름 바꾸기\n\n\n\n결합하기 위해 데이터의 열 이름을 바꿀 필요는 없지만, 데이터 세트 간의 일관성을 유지하기 위해 Entity를 region으로 바꾼 후 데이터를 작업하는 것이 더 쉬울 수 있습니다.\n\n\n여기에는 두 가지 문제가 있습니다. 첫째, doctors 데이터보다 world 데이터에 더 많은 지역이 있습니다:\n\nlength(unique(world$region))\n\n[1] 252\n\nlength(unique(doctors$region))\n\n[1] 222\n\n\n이는 부분적으로 doctors 데이터에 암시적으로 누락된 값이 있다는 사실 때문입니다. 지역에 대한 데이터를 사용할 수 없는 경우 해당 지역에 대한 데이터에 행이 존재하지 않습니다. NA 값으로 나열되지 않습니다. doctors에는 world에 존재하지 않는 일부 지역도 있습니다. 예를 들어 \"Upper-middle-income countries\" 엔티티는 doctors 내에 나열됩니다.\n둘째, 지역 이름을 살펴보면 일부 국가의 경우 이름이 다르게 인코딩되어 있음을 알 수 있습니다. 예를 들어 world 데이터에서 미국은 \"USA\"로 나열되고 doctors 데이터에서는 \"United States\"로 나열됩니다. 여기서 가장 쉬운 방법은 데이터 세트 중 하나에서 다른 값을 수동으로 이름을 바꾸는 것입니다. dplyr의 recode() 함수를 사용하여 이를 수행할 수 있습니다. recode()는 old_name = new_name이라는 다소 특이한(tidyverse의 경우) 구문을 가지고 있습니다:\n\nplot_data &lt;- doctors |&gt;\n  mutate(\n    region =\n      recode(region,\n        \"United Kingdom\" = \"UK\",\n        \"United States\" = \"USA\",\n        \"Democratic Republic of Congo\" = \"Democratic Republic of the Congo\",\n        \"Cote d'Ivoire\" = \"Ivory Coast\",\n        \"Congo\" = \"Republic of Congo\",\n        \"Czechia\" = \"Czech Republic\"\n      )\n  )\n\n국가에 해당하지 않는 doctors의 region 열 항목(예: \"Upper-middle-income countries\")은 지도에 필요한 값이 아닙니다. 따라서 left_join()을 수행할 수 있으며, world를 왼쪽에 두고 world에 나열된 모든 국가를 유지하고 doctors에 해당 값이 있는 국가만 결합합니다. doctors에 일치하는 항목이 없는 world의 나머지 국가는 NA 값으로 나열됩니다. \"Antarctica\"에 대한 행은 필터링됩니다. 남극 대륙은 구를 직사각형으로 투영하는 과정에서 종종 세계 지도(적어도 남극 대륙을 중심으로 하지 않는 지도)에서 불균형한 공간을 차지합니다. \n\nmap_data &lt;- left_join(\n  world,\n  plot_data,\n  by = \"region\"\n) |&gt;\n  filter(region != \"Antarctica\")\n\n이제 간단한 지도를 만드는 데 필요한 모든 것이 준비되었습니다.\n\n11.3.2 첫 번째 플롯\n거의 항상 그렇듯이 ggplot() 함수로 시작하고 전체 플롯에 적용될 데이터와 미학적 매핑을 전달합니다. 경도(long)와 위도(lat)는 x 및 y 축에 전달됩니다. 각 국가의 fill 색상은 doctors 열을 기반으로 해야 한다고 지정합니다. 또한 map_id를 지정합니다. 이는 다른 것들만큼 자주 보이지 않는 미학적 매핑입니다. 이것은 geom_map()에 각 지역 폴리곤을 정의하는 열을 알려주는 데 사용됩니다(group 미학과는 다릅니다). 그런 다음 geom_map()을 사용하여 실제로 지도를 그립니다. \n\n\n\n\n\n\nTip 11.5: geom_map()의 대안\n\n\n\ngeom_sf()와 geom_polygon() 모두 ggplot2 내에서 지도를 만들기 위한 geom_map()의 대안으로 사용할 수 있습니다.\n그러나 그들은 다른 형식의 데이터를 기대합니다. geom_sf() 함수는 data.frame 또는 tibble의 열로서의 좌표와 함께 작동하는 geom_map()과 달리 sf 객체를 기대합니다. geom_sf() 사용 예는 Chapter 12 를 참조하십시오. \ngeom_map() 대신 map_data를 플롯하기 위해 geom_polygon()을 사용할 수도 있지만 원하는 방식으로 지도를 투영하는 것이 더 어렵습니다. \n\n\n\nbasic_plot &lt;- ggplot(\n  data = map_data,\n  mapping = aes(\n    x = long,\n    y = lat,\n    map_id = region,\n    fill = doctors\n  )\n) +\n  geom_map(map = map_data)\nbasic_plot\n\n\n\n\n\n\nFigure 11.3: 인구 1,000명당 의사 수에 따라 국가가 색으로 구분된 세계 지도. 지도가 늘어난 것처럼 보입니다.\n\n\n\n\n이제 데이터를 보여주는 간단한 지도가 생겼지만 몇 가지 문제가 있습니다:\n\n지도 투영법이 지정되어 있지 않아 누군가 수직으로 늘린 것처럼 보입니다. 나라는 여전히 알아볼 수 있지만 모양이 딱 맞지는 않습니다.\n색상 팔레트가 이상적이지 않습니다. 적어도 밝은 색상의 배경에서는 더 밝거나 연한 색상이 더 작은 값을 나타내고 어두운 색상이 더 높은 값을 나타내는 것이 더 직관적입니다(Schloss et al. 2019). ggplot2의 기본 그라데이션 색상 스케일은 반대입니다.\n없어야 할 레이블(lat 및 long)이 있고 있어야 할 레이블(예: title 및 subtitle)이 없습니다.\n\n따라서 초기 플롯의 요소를 수정해 보겠습니다.",
    "crumbs": [
      "공간 데이터 시각화",
      "<span class='chapter-number'>11</span>  <span class='chapter-title'>전 세계 의사 분포: **`ggplot2`**로 지도 만들기</span>"
    ]
  },
  {
    "objectID": "doctors.html#고급-스타일링",
    "href": "doctors.html#고급-스타일링",
    "title": "11  전 세계 의사 분포: ggplot2로 지도 만들기",
    "section": "\n11.4 고급 스타일링",
    "text": "11.4 고급 스타일링\n대체 색상 팔레트를 고려한 다음 레이아웃을 마무리하기 전에 어떤 텍스트를 추가해야 할지 생각하는 것으로 시작하겠습니다.\n\n11.4.1 색상\n존재하는 R 패키지에는 정말 많은 색상 팔레트가 있으며 R 생태계 외부에는 더 많이 있습니다. 사실 paletteer 패키지 (Hvitfeldt 2021)는 R의 포괄적인 색상 팔레트 컬렉션에 대한 공통 인터페이스를 제공하도록 설계되었습니다. 인기 있는 색상 팔레트 R 패키지는 MetBrewer (Mills 2022)입니다. 뉴욕 메트로폴리탄 미술관의 예술 작품에서 영감을 얻은 색상 팔레트 컬렉션입니다. 아름다운 팔레트가 많으며 전통적인 데이터 시각화에서도 잘 작동하는 팔레트가 많습니다. display_all(colorblind_only = TRUE)을 사용하여 사용 가능한 모든 팔레트를 볼 수 있습니다. doctors는 연속 변수이므로 순차적 팔레트만 살펴보겠습니다. \nMetBrewer에는 ggplot2와 직접 인터페이스하는 함수(예: scale_fill_met_c())가 있지만 팔레트의 일부 색상을 사용하여 강조 및 텍스트 색상에 대한 변수도 정의할 것입니다. 좋은 색상 범위를 얻기 위해 \"Hokusai2\" 팔레트에서 20가지 색상을 추출합니다. text_col은 18번째 색상이고 highlight_col은 15번째 색상입니다. 배경색을 포함하는 변수 bg_col도 정의됩니다.\n\nlibrary(MetBrewer)\ncol_palette &lt;- met.brewer(\"Hokusai2\", n = 20)\ntext_col &lt;- col_palette[18]\nhighlight_col &lt;- col_palette[15]\nbg_col &lt;- \"#EADEDA\"\n\n이 색상들은 ggplot2의 scale_fill_gradientn()에 전달될 수 있습니다. 색상 스케일의 제한도 설정할 수 있습니다. 범례에 값에 대한 레이블을 추가하는 대신 더 적은 의사(Fewer doctors) 및 더 많은 의사(More doctors)에 대한 텍스트 레이블을 추가할 수 있습니다. 이들은 색상 스케일의 제한에서 0.8인치 위치에 배치됩니다.\n\ncol_plot &lt;- basic_plot +\n  scale_fill_gradientn(\n    colors = col_palette,\n    limits = c(0, 10),\n    breaks = c(0.8, 9.2),\n    labels = c(\"더 적은 의사\", \"더 많은 의사\")\n  )\ncol_plot\n\n\n\n\n\n\nFigure 11.4: 인구 1,000명당 의사 수에 따라 국가가 색으로 구분된 세계 지도, 다른 색상 체계를 보여줍니다.\n\n\n\n\n\n11.4.2 텍스트와 글꼴\n이전 장에서와 마찬가지로 sysfonts 및 showtext 패키지를 사용하여 글꼴을 정의할 수 있습니다. 여기서는 Google Fonts를 통해 Roboto 서체를 로드하여 주요 글꼴로 사용하고, 제목에는 Roboto Slab을 사용합니다. \n\nfont_add_google(name = \"Roboto\")\nfont_add_google(name = \"Roboto Slab\")\nfont_add_google(name = \"Noto Sans KR\", family = \"noto_sans_kr\")\nshowtext_auto()\nshowtext_opts(dpi = 300)\nbody_font &lt;- \"Roboto\"\ntitle_font &lt;- \"Roboto Slab\"\nkorean_font &lt;- \"noto_sans_kr\"\n\n이제 제목, 부제목 및 캡션에 대한 텍스트를 정의할 수 있습니다. 이전 장에서와 마찬가지로 ggtext를 사용하여 서식을 지정하므로 HTML 구문을 사용하여 줄 바꿈을 추가할 수 있습니다.\n\ntitle &lt;- \"전 세계 의사\"\nsubtitle &lt;- \"이 지도는 인구 1,000명당 의사 수를 보여주며, 인구에게 의료 서비스를 제공하는 데 어려움을 겪을 가능성이 더 높은 국가*를 보여줍니다.&lt;br&gt;&lt;br&gt;*각 국가에 대해 가장 최근에 사용 가능한 데이터 사용.\"\n\nChapter 7 에서 설명한 대로 Font Awesome 아이콘을 포함하는 사용자 정의 캡션을 만들어 Chapter 6 에서 정의한 source_caption() 함수에 전달합니다: \n\nsocial &lt;- social_caption(\n  icon_color = highlight_col,\n  font_color = text_col,\n  font_family = body_font\n)\ncaption &lt;- source_caption(\n  source = \"Our World in Data\",\n  sep = \"&lt;br&gt;\",\n  graphic = social\n)\n\n이러한 텍스트 변수는 labs() 함수에 전달될 수 있습니다. \n\ntext_plot &lt;- col_plot +\n  labs(\n    title = title,\n    subtitle = subtitle,\n    caption = caption\n  )\n\n선택한 서체를 플롯에 적용하려면 theme 요소를 조정해야 합니다. \n\n11.4.3 테마 조정\nggplot2의 theme_void()를 추가하는 것으로 시작합니다. theme_void 함수는 그리드 선, 축 레이블 및 배경을 포함한 모든 theme 요소를 제거합니다. 범례와 지정된 제목 및 부제목은 유지됩니다. 이 테마는 축 선, 축 제목 및 그리드 선이 표시되지 않는 것이 더 일반적인 지도에 특히 유용합니다. 다른 기본 제공 테마 옵션과 마찬가지로 base_size 및 base_family를 설정하여 표시되는 텍스트의 기본 크기와 서체를 설정할 수 있습니다. \n또한 plot.title, plot.subtitle 및 plot.caption을 ggtext의 element_textbox_simple을 사용하도록 설정하여 이전 장에서 본 것처럼 마크다운 구문을 허용하고 긴 부제목을 자동으로 줄 바꿈합니다.\n\ntext_plot +\n  theme_void(base_size = 8, base_family = body_font) +\n  theme(\n    plot.margin = margin(10, 10, 10, 10),\n    plot.background = element_rect(\n      fill = bg_col, color = bg_col\n    ),\n    panel.background = element_rect(\n      fill = bg_col, color = bg_col\n    ),\n    plot.title = element_textbox_simple(\n      color = text_col,\n      family = title_font\n    ),\n    plot.subtitle = element_textbox_simple(\n      color = text_col\n    ),\n    plot.caption = element_textbox_simple(\n      hjust = 0,\n      color = text_col\n    )\n  )\n\n\n\n\n\n\nFigure 11.5: 인구 1,000명당 의사 수에 따라 국가가 색으로 구분된 세계 지도. 지도가 늘어난 것처럼 보이고 제목과 부제목의 글꼴이 서로 가깝습니다.\n\n\n\n\n여기서 우리가 만들고 싶어 할 수 있는 미적 디자인 선택 중 하나는 다른 색상의 배경이 있는 배너 안에 제목을 넣는 것입니다. 이것은 꽤 간단한 일처럼 보일 수 있지만 사실 ggplot2로는 그렇게 쉽지 않습니다. cowplot (C. O. Wilke 2024)이나 grid (R Core Team 2024)와 같은 패키지를 사용하여 사각형과 텍스트를 그리는 등 문제에 대한 몇 가지 해결책이 있습니다. 그러나 ggplot2 내에서 이 작업을 수행할 수 있습니다. 즉, 원래 설계되지 않은 방식으로 패싯을 사용하는 것입니다. map_data에 label이라는 추가 열을 추가하여(데이터의 모든 행에 대해) 제목을 포함시키는 것으로 시작하겠습니다: \n\nmap_data$label &lt;- title\n\n\n\n\n\n\n\nTip 11.6: 열 이름 선택\n\n\n\n이 열의 이름은 label일 필요는 없으며 기존 열이 아닌 한 원하는 이름을 사용할 수 있습니다.\n새 열을 만드는 대신 제목을 facet_wrap()에 직접 전달할 수도 있습니다:\n\nfacet_wrap(~\"전 세계 의사\")\n\n\n\n그런 다음 facet_wrap()을 사용하여 label 열 전체에 패싯을 적용할 수 있습니다. 데이터에 label 값이 하나만 있으므로 제목만 플롯 상단에 스트립 텍스트로 추가됩니다. 여기에 있는 동안 지도의 국가 윤곽선을 배경과 같은 색으로 만들고 선을 조금 더 두껍게 만들어 보겠습니다. \n\nstyled_plot &lt;- ggplot(\n  data = map_data,\n  mapping = aes(\n    long,\n    lat,\n    map_id = region,\n    fill = doctors\n  )\n) +\n  geom_map(\n    map = map_data,\n    color = bg_col,\n    linewidth = 0.3\n  ) +\n  scale_fill_gradientn(\n    colors = col_palette,\n    limits = c(0, 10),\n    breaks = c(0.8, 9.2),\n    labels = c(\"더 적은 의사\", \"더 많은 의사\")\n  ) +\n  labs(\n    title = title,\n    subtitle = subtitle,\n    caption = caption\n  ) +\n  facet_wrap(~label) +\n  theme_void(base_size = 7, base_family = body_font) +\n  theme(\n    plot.margin = margin(10, 10, 10, 10),\n    plot.background = element_rect(\n      fill = bg_col, color = bg_col\n    ),\n    panel.background = element_rect(\n      fill = bg_col, color = bg_col\n    ),\n    plot.title = element_textbox_simple(\n      family = korean_font,\n      color = text_col,\n      lineheight = 0.5\n    ),\n    plot.subtitle = element_textbox_simple(\n      family = korean_font,\n      color = text_col,\n      lineheight = 0.5\n    ),\n    plot.caption = element_textbox_simple(\n      family = korean_font,\n      hjust = 0,\n      color = text_col,\n      lineheight = 0.5\n    ),\n    strip.background = element_rect(\n      fill = highlight_col, color = highlight_col\n    )\n  )\nstyled_plot\n\n\n\n\n\n\nFigure 11.6: 패싯 스트립 텍스트에 제목이 복제된 세계 지도, 진한 파란색 배경에 어두운 텍스트.\n\n\n\n\n스트립 텍스트에 제목이 포함되어 있으므로 이 플롯에 몇 가지 문제가 있다는 것은 분명합니다:\n\n\nlabs()를 사용하여 설정한 중복 제목이 있으며 strip.text 제목은 파란색 배경에 비해 너무 어두워서 읽을 수 없습니다.\n부제목이 제목 위에 있습니다.\n지도가 여전히 늘어나 보입니다.\n범례가 꽤 많은 공간을 차지하고 컬러바의 흰색 눈금이 산만합니다.\n\n처음 두 문제를 해결하기 위해 labs()의 title 및 subtitle 인수를 NULL로 설정하여 플롯에서 제거할 수 있습니다. 대신 labs()의 tag 인수를 사용하여 부제목을 설정할 수 있습니다. tag를 사용하는 것의 장점은 theme() 내의 plot.tag.position 인수를 사용하여 텍스트를 플롯의 어느 곳에나 배치할 수 있다는 것입니다. 테마의 strip.text 및 plot.tag 인수도 ggtext의 element_textbox_simple()을 사용하여 설정해야 텍스트의 스타일을 원하는 대로 지정할 수 있습니다. 스트립 텍스트 배너가 플롯의 가장자리까지 가도록 plot.margin을 사용하여 플롯의 위쪽, 왼쪽, 오른쪽 여백을 0으로 설정해야 합니다. \n세 번째 문제인 지도가 늘어나 보이는 문제를 해결하기 위해 WGS84(World Geodetic System 1984) CRS(좌표 참조 시스템)를 적용하는 coord_sf()를 적용할 수 있습니다. Chapter 12 에서는 좌표 참조 시스템에 대해 더 자세히 설명합니다. y 축의 상한도 데이터 범위를 넘어 확장하여 tag를 사용하여 추가된 부제목을 위한 공간을 만들 수 있습니다. \n\nstyled_plot2 &lt;- styled_plot +\n  labs(\n    title = NULL, subtitle = NULL, tag = subtitle\n  ) +\n  # tag(부제목) 텍스트를 위한 공간 추가\n  coord_sf(ylim = c(-60, 140)) +\n  theme(\n    # tag(부제목) 텍스트 이동 및 서식 지정\n    plot.margin = margin(0, 0, 5, 0),\n    plot.tag.position = c(0.015, 0.8),\n    plot.tag = element_textbox_simple(\n      family = korean_font,\n      color = text_col,\n      lineheight = 0.6,\n      hjust = 0,\n      maxwidth = 0.98\n    ),\n    # 캡션 여백 추가\n    plot.caption = element_textbox_simple(\n      hjust = 0,\n      color = text_col,\n      margin = margin(l = 5),\n      lineheight = 0.6\n    ),\n    # 제목 텍스트 색상 변경\n    strip.text = element_textbox_simple(\n      family = korean_font,\n      color = bg_col,\n      margin = margin(7, 5, 7, 5),\n      lineheight = 0.6,\n      size = rel(1.7)\n    )\n  )\n\nplot.tag.position = c(0.015, 0.8)과 strip.text 인수 margin = margin(7, 5, 7, 5)에 사용된 값은 딱 맞게 만들기 위해 많은 시행착오가 필요했다는 점에 유의하십시오! 이 값을 선택하는 데 마법은 없습니다!\n범례 모양의 마지막 문제를 해결하기 위해 theme의 스타일 요소를 편집할 수 있습니다. legend.title은 element_blank()로 빈 요소로 설정하여 제거하고 범례 텍스트 레이블은 element_text()로 스타일을 지정합니다. \n범례의 위치는 legend.position, legend.justification.bottom, legend.margin, legend.direction 인수를 통해 설정됩니다.\n\n\n\n\n\n\nTip 11.7: ggplot2의 스타일링 가이드\n\n\n\nggplot2 버전 3.5.0부터는 guide_*() 함수 내부에서 개별 범례의 theme 스타일을 지정할 수도 있습니다. 버전 3.5.0 이전에는 legend.position을 사용하여 플롯 내부에 범례를 배치한 다음 legend.position.inside 및 legend.justification.bottom이 도입되어 사용자 정의 범례 위치를 더 쉽게 허용했습니다.\n다른 점은 legend.ticks = element_blank()를 사용하여 컬러바 범례 내부의 흰색 눈금을 제거할 수 있다는 것입니다. ggplot2의 이전 버전에서는 대신 guides(fill = guide_colorbar(ticks = FALSE))가 사용되었습니다. \n\n\n범례의 크기는 legend.key.width 및 legend.key.height 인수를 통해 제어됩니다.\n\nstyled_plot2 +\n  theme(\n    # 범례 텍스트\n    legend.title = element_blank(),\n    legend.text = element_text(\n      color = text_col,\n      lineheight = 0.5,\n      hjust = 0.5\n    ),\n    # 범례 크기\n    legend.key.width = unit(1.5, \"cm\"),\n    legend.key.height = unit(0.3, \"cm\"),\n    # 범례 위치\n    legend.position = \"bottom\",\n    legend.justification.bottom = \"right\",\n    legend.margin = margin(-5, 5, 0, 0),\n    legend.direction = \"horizontal\",\n    legend.ticks = element_blank()\n  )\n\n\n\n\n\n\nFigure 11.7: 파란색 배너 안에 제목이 있고 페이지 오른쪽 하단에 수평 컬러바 범례가 있는 세계 지도를 보여주는 최종 스타일 지정된 플롯.\n\n\n\n\n마지막으로 ggsave()를 사용하여 사본을 저장할 수 있습니다: \n\nggsave(\n  filename = \"doctors.png\",\n  width = 5,\n  height = 0.67 * 5\n)",
    "crumbs": [
      "공간 데이터 시각화",
      "<span class='chapter-number'>11</span>  <span class='chapter-title'>전 세계 의사 분포: **`ggplot2`**로 지도 만들기</span>"
    ]
  },
  {
    "objectID": "doctors.html#회고",
    "href": "doctors.html#회고",
    "title": "11  전 세계 의사 분포: ggplot2로 지도 만들기",
    "section": "\n11.5 회고",
    "text": "11.5 회고\nFigure 11.7 의 색상 스케일은 해석하기 꽤 어렵고 값 대신 더 적은 의사 및 더 많은 의사 레이블을 사용하기로 결정했습니다. 기본 데이터가 단순하고 해석하기 쉬울 때 범례에 값을 표시하면 더 유용한 정보가 추가됩니다. 제목도 아마 더 유익한 것으로 변경될 수 있을 것입니다. \n데이터가 처리될 때 가장 최근에 사용 가능한 데이터에 대한 값을 보여주는 지도를 플롯하기로 결정했습니다. 이것은 일부 국가의 경우 데이터가 더 최근(따라서 아마도 더 신뢰할 수 있음)인 반면 다른 국가의 경우 훨씬 더 오래되었다는 것을 의미합니다. 실제로 range(doctors$year)를 실행하면 플롯의 가장 최근 데이터는 2019년의 것이고 가장 오래된 데이터는 1980년의 것으로 거의 40년의 격차가 있음을 알 수 있습니다! 이로 인해 국가 간을 정확하게 비교하기가 훨씬 어렵고 이 지도에는 각 국가에 대해 데이터가 얼마나 최근인지에 대한 표시가 없습니다. 독자는 국가 간의 차이를 보여주는 결론을 도출할 수 있지만 실제로는 시기 간의 차이입니다. 지도에 불확실성을 표시하는 것은 까다롭고 여기에 간단한 해결책은 없습니다. 아마도 값이 평균보다 위인지 아래인지에 따라 이진 스케일로 색상을 설정하고 색상의 강도로 데이터의 최신성을 나타내는 것이 한 가지 접근 방식일 것입니다. 지도에 불확실성을 시각화하는 기능을 제공하는 Vizumap 패키지 (Lucchesi and Kuhnert 2020)를 사용하여 값과 최신성을 모두 보여주는 이변량 지도를 만들 수 있습니다. 또는 적어도 데이터가 관련된 시간 범위에 대한 더 자세한 설명을 부제목에 포함할 수 있습니다.\n이 시각화의 원본 버전을 개발하는 과정에서 생성된 각 플롯은 camcorder를 사용하여 캡처되었으며 아래 gif에 표시됩니다. 데이터 시각화 프로세스에서 camcorder를 사용하는 방법에 대해 자세히 알아보려면 Section 14.1 를 참조하십시오.",
    "crumbs": [
      "공간 데이터 시각화",
      "<span class='chapter-number'>11</span>  <span class='chapter-title'>전 세계 의사 분포: **`ggplot2`**로 지도 만들기</span>"
    ]
  },
  {
    "objectID": "doctors.html#연습-문제",
    "href": "doctors.html#연습-문제",
    "title": "11  전 세계 의사 분포: ggplot2로 지도 만들기",
    "section": "\n11.6 연습 문제",
    "text": "11.6 연습 문제\n\nc(\"France\", \"Spain\", \"Italy\", \"Portugal\", \"Switzerland\") 지역에 대한 지도만 생성하도록 데이터를 부분 집합으로 만드십시오. x축과 y축의 제한을 변경해야 합니까?\n이 지역과 국경을 접하는 국가를 지도에 유지하되 중립적인 회색으로 채울 수 있습니까?\n\n\n\n\n\nAnscombe, F. J. 1973. “Graphs in Statistical Analysis.” The American Statistician 27 (1): 17–21. https://doi.org/10.1080/00031305.1973.10478966.\n\n\nAphalo, Pedro J. 2024. Learn R: As a Language. Second Edition. CRC Press. https://www.learnr-book.info/.\n\n\nAuguie, Baptiste. 2019. egg: Extensions for ’ggplot2’: Custom Geom, Custom Themes, Plot Alignment, Labelled Panels, Symmetric Scales, and Fixed Panel Size. https://CRAN.R-project.org/package=egg.\n\n\nBarthelme, Simon. 2024. imager: Image Processing Library Based on ’CImg’. https://CRAN.R-project.org/package=imager.\n\n\nBrand, Teun van den. 2025. “ggplot2 4.0.0.” https://www.tidyverse.org/blog/2025/09/ggplot2-4-0-0/.\n\n\nBridson, Robert. 2007. “Fast Poisson Disk Sampling in Arbitrary Dimensions.” In ACM SIGGRAPH 2007 Sketches. SIGGRAPH ’07. New York, NY, USA: Association for Computing Machinery. https://doi.org/10.1145/1278780.1278807.\n\n\nBrown, Mark J.F., and Paxton, Robert J. 2009. “The Conservation of Bees: A Global Perspective.” Apidologie 40 (3): 410–16. https://doi.org/10.1051/apido/2009019.\n\n\nCameron, Allan, and Teun van den Brand. 2024. geomtextpath: Curved Text in ’ggplot2’. https://CRAN.R-project.org/package=geomtextpath.\n\n\nCARTO. 2016. ’CARTOColors’ Palettes. https://carto.com/carto-colors/.\n\n\nChang, Winston. 2023. extrafont: Tools for Using Fonts. https://CRAN.R-project.org/package=extrafont.\n\n\nCheung, Foo. 2021. dumbbell: Displaying Changes Between Two Points Using Dumbbell Plots. https://CRAN.R-project.org/package=dumbbell.\n\n\nCowgill, Matt, and John Helveston. 2021. ggannotate: Interactively Annotate ggplot2 Plots. https://github.com/MattCowgill/ggannotate.\n\n\nCsárdi, Gábor, and Jim Hester. 2024. pak: Another Approach to Package Installation. https://CRAN.R-project.org/package=pak.\n\n\nCsárdi, Gábor, Jim Hester, Hadley Wickham, Winston Chang, Martin Morgan, and Dan Tenenbaum. 2024. remotes: R Package Installation from Remote Repositories, Including ’GitHub’. https://CRAN.R-project.org/package=remotes.\n\n\nDomin, Iaroslav. 2024. ggview: ’ggplot2’ Picture Previewer. https://CRAN.R-project.org/package=ggview.\n\n\nEngler, Jan Broder. 2024. “Tidyplots Empowers Life Scientists with Easy Code-Based Data Visualization.” bioRxiv. https://doi.org/10.1101/2024.11.08.621836.\n\n\nFC, Mike, Trevor L. Davis, and ggplot2 authors. 2024. ggpattern: ’ggplot2’ Pattern Geoms. https://CRAN.R-project.org/package=ggpattern.\n\n\nFlaticon.com. 2024. “Wind Power Flaticon.” https://www.flaticon.com/free-icon/wind-power_5670189.\n\n\nFont Awesome. 2024. “Font Awesome 6.” https://fontawesome.com/.\n\n\nFranconeri, Steven L., Lace M. Padilla, Priti Shah, Jeffrey M. Zacks, and Jessica Hullman. 2021. “The Science of Visual Data Communication: What Works.” Psychological Science in the Public Interest 22 (3): 110–61. https://doi.org/10.1177/15291006211051956.\n\n\nGarnier, Simon, Ross, Noam, Rudis, Robert, Camargo, et al. 2024. viridis(Lite) - Colorblind-Friendly Color Maps for R. https://doi.org/10.5281/zenodo.4679423.\n\n\nGohel, David, and Panagiotis Skintzos. 2024. ggiraph: Make ’ggplot2’ Graphics Interactive. https://CRAN.R-project.org/package=ggiraph.\n\n\nGovernment Analysis Function. 2021. “Data Visualisation: Colours.” https://analysisfunction.civilservice.gov.uk/policy-store/data-visualisation-colours-in-charts/.\n\n\nHafen, Ryan. 2023. geofacet: ’ggplot2’ Faceting Utilities for Geographical Data. https://CRAN.R-project.org/package=geofacet.\n\n\nHarmon, Jon. 2024. Web APIs with R. CRC Press. https://wapir.io/.\n\n\nHester, Jim, Florent Angly, Russ Hyde, Michael Chirico, Kun Ren, Alexander Rosenstock, and Indrajeet Patil. 2024. lintr: A ’Linter’ for R Code. https://CRAN.R-project.org/package=lintr.\n\n\nHester, Jim, and Jennifer Bryan. 2024. glue: Interpreted String Literals. https://glue.tidyverse.org/.\n\n\nHughes, Ellis. 2022a. camcorder: Record Your Plot History. https://CRAN.R-project.org/package=camcorder.\n\n\n———. 2022b. tidytuesdayR: Access the Weekly ’TidyTuesday’ Project Dataset. https://CRAN.R-project.org/package=tidytuesdayR.\n\n\nHvitfeldt, Emil. 2021. paletteer: Comprehensive Collection of Color Palettes. https://github.com/EmilHvitfeldt/paletteer.\n\n\n———. 2025. animalshelter: Animal Shelter Data. https://github.com/EmilHvitfeldt/animalshelter.\n\n\nIannone, Richard. 2024. fontawesome: Easily Work with ’Font Awesome’ Icons. https://CRAN.R-project.org/package=fontawesome.\n\n\nInternet Assigned Numbers Authority. 2023. “The tz Database: Time Zone and Daylight Saving Time Data.” Internet Assigned Numbers Authority. https://data.iana.org/time-zones/tz-link.html.\n\n\nJax (@lysrix). 2017. “Lemur.” https://unsplash.com/photos/red-and-white-rodent-h5xrh3CNT-k.\n\n\nKays, R., R. R. Dunn, A. W. Parsons, B. Mcdonald, T. Perkins, S. A. Powers, L. Shell, et al. 2020. “The Small Home Ranges and Large Local Ecological Impacts of Pet Cats.” Animal Conservation 23 (5): 516–23. https://doi.org/10.1111/acv.12563.\n\n\nKeyes, David. 2024. R for the Rest of Us: A Statistics-Free Introduction. No Starch Press. https://book.rfortherestofus.com/.\n\n\nLong Beach Animal Shelter. 2025. “Animal Shelter Data.” City of Long Beach Animal Care Services. https://data.longbeach.gov/explore/dataset/animal-shelter-intakes-and-outcomes/information/.\n\n\nLucchesi, Lydia, and Petra Kuhnert. 2020. Vizumap: Visualizing Uncertainty in Spatial Data. https://github.com/lydialucchesi/Vizumap.\n\n\nMapping Museums. 2021. “Mapping Museums Data.” www.mappingmuseums.org.\n\n\nMassicotte, Philippe, and Andy South. 2023. rnaturalearth: World Map Data from Natural Earth. https://docs.ropensci.org/rnaturalearth/.\n\n\nMatejka, Justin, and George Fitzmaurice. 2017. “Same Stats, Different Graphs: Generating Datasets with Varied Appearance and Identical Statistics Through Simulated Annealing.” In, 1290–94. https://doi.org/10.1145/3025453.3025912.\n\n\nMcDonald, J. L., and H. Cole. 2020. “Data from: The Small Home Ranges and Large Local Ecological Impacts of Pet Cats [United Kingdom].” Movebank data repository. https://doi.org/doi:10.5441/001/1.pf315732.\n\n\nMcWhite, Claire D., and Claus O. Wilke. 2024. colorblindr: Simulate colorblindness in R figures. https://github.com/clauswilke/colorblindr.\n\n\nMid-Atlantic Apiculture Research and Extension Consortium. 2024. “Seasonal Cycles of Activities in Colonies.” https://canr.udel.edu/maarec/honey-bee-biology/seasonal-cycles-of-activities-in-colonies/.\n\n\nmikefc. 2024. poissoned: Tileable Poisson Disc Sampling. https://github.com/coolbutuseless/poissoned.\n\n\nMills, Blake Robert. 2022. MetBrewer: Color Palettes Inspired by Works at the Metropolitan Museum of Art. https://CRAN.R-project.org/package=MetBrewer.\n\n\nMIT Election Data and Science Lab. 2017. “U.S. House 1976–2022.” Harvard Dataverse. https://doi.org/10.7910/DVN/IG0UN2.\n\n\nMüller, Kirill, and Lorenz Walthert. 2023. styler: Non-Invasive Pretty Printing of R Code. https://CRAN.R-project.org/package=styler.\n\n\nMüller, Kirill, and Hadley Wickham. 2023. tibble: Simple Data Frames. https://CRAN.R-project.org/package=tibble.\n\n\nMuth, Lisa. 2018. “An Alternative to Pink & Blue: Colors for Gender Data.” https://blog.datawrapper.de/gendercolor/.\n\n\nNatural Resources Canada. 2021. “Canadian Wind Turbine Database.” Natural Resources Canada (Government of Canada). https://open.canada.ca/data/en/dataset/79fdad93-9025-49ad-ba16-c26d718cc070.\n\n\nNoblet, Guillaume. 2025. ggbranding: Add Personal Branding to ’ggplot2’ Charts. https://github.com/gnoblet/ggbranding.\n\n\nNowosad, Jakub. 2018. ’CARTOColors’ Palettes. https://jakubnowosad.com/rcartocolor/.\n\n\nOoms, Jeroen. 2024. magick: Advanced Graphics and Image-Processing in R. https://CRAN.R-project.org/package=magick.\n\n\nOur World in Data. 2019. “Medical Doctors Per 1,000 People.” https://ourworldindata.org/grapher/physicians-per-1000-people.\n\n\nPebesma, Edzer. 2018. “Simple Features for R: Standardized Support for Spatial Vector Data.” The R Journal 10 (1): 439–46. https://doi.org/10.32614/RJ-2018-009.\n\n\nPedersen, Thomas Lin. 2022. ggforce: Accelerating ’ggplot2’. https://CRAN.R-project.org/package=ggforce.\n\n\n———. 2024. patchwork: The Composer of Plots. https://CRAN.R-project.org/package=patchwork.\n\n\n———. 2025. “Fonts in R.” https://www.tidyverse.org/blog/2025/05/fonts-in-r/.\n\n\nPedersen, Thomas Lin, and Martin Mitáš. 2024. marquee: Markdown Parser and Renderer for R Graphics. https://CRAN.R-project.org/package=marquee.\n\n\nPedersen, Thomas Lin, Jeroen Ooms, and Devon Govett. 2024. systemfonts: System Native Font Finding. https://CRAN.R-project.org/package=systemfonts.\n\n\nPedersen, Thomas Lin, and Maxim Shemanarev. 2023. ragg: Graphic Devices Based on AGG. https://CRAN.R-project.org/package=ragg.\n\n\nPLDB contributors. 2022. “PLDB: A Programming Language Database.” PLDB. https://pldb.com.\n\n\nQiu, Yixuan. 2022. sysfonts: Loading Fonts into R. https://CRAN.R-project.org/package=sysfonts.\n\n\n———. 2023. showtext: Using Fonts More Easily in R Graphs. https://CRAN.R-project.org/package=showtext.\n\n\nR Core Team. 2024. R: A Language and Environment for Statistical Computing. Vienna, Austria: R Foundation for Statistical Computing. https://www.R-project.org/.\n\n\nR4DS Online Learning Community. 2023. “Tidy Tuesday: A Weekly Social Data Project.” https://github.com/rfordatascience/tidytuesday.\n\n\nRennie, Nicola. 2023a. “Adding Social Media Icons to Charts with ggplot2.” https://nrennie.rbind.io/blog/adding-social-media-icons-ggplot2/.\n\n\n———. 2023b. “Creating Template Files with R.” https://nrennie.rbind.io/blog/script-templates-r/.\n\n\n———. 2023c. “Four Ways to Streamline Your R Workflows.” https://nrennie.rbind.io/blog/four-ways-streamline-r-workflows/.\n\n\n———. 2024a. ggtextcircle: Circular Text in ’ggplot2’. https://github.com/nrennie/ggtextcircle.\n\n\n———. 2024b. nobel: Access data from the Nobel Prize API via R. https://github.com/nrennie/nobel.\n\n\n———. 2024c. “tidytuesday.” GitHub Repository. GitHub. https://github.com/nrennie/tidytuesday.\n\n\nRennie, Nicola, and Andreas Krause. 2024. “Presenting data the Significance way - Part 1.” Significance 21 (3): 36–39. https://doi.org/10.1093/jrssig/qmae045.\n\n\nReynolds, Gina. 2025. “Everyday ggplot2 extension.” https://evamaerey.github.io/everyday_ggplot2_extension/.\n\n\nRStudio. 2018a. “forcats Hex Sticker.” https://github.com/rstudio/hex-stickers/blob/main/PNG/forcats.png.\n\n\n———. 2018b. “ggplot2 Hex Sticker.” https://github.com/rstudio/hex-stickers/blob/main/PNG/ggplot2.png.\n\n\n———. 2018c. “purrr Hex Sticker.” https://github.com/rstudio/hex-stickers/blob/main/PNG/purrr.png.\n\n\n———. 2018d. “readr Hex Sticker.” https://github.com/rstudio/hex-stickers/blob/main/PNG/readr.png.\n\n\n———. 2018e. “tibble Hex Sticker.” https://github.com/rstudio/hex-stickers/blob/main/PNG/tibble.png.\n\n\n———. 2020a. “dplyr Hex Sticker.” https://github.com/rstudio/hex-stickers/blob/main/PNG/dplyr.png.\n\n\n———. 2020b. “stringr Hex Sticker.” https://github.com/rstudio/hex-stickers/blob/main/PNG/stringr.png.\n\n\n———. 2020c. “tidyr Hex Sticker.” https://github.com/rstudio/hex-stickers/blob/main/PNG/tidyr.png.\n\n\nRudis, Bob, Ben Bolker, and Jan Schulz. 2017. ggalt: Extra Coordinate Systems, ’Geoms’, Statistical Transformations, Scales and Fonts for ’ggplot2’. https://CRAN.R-project.org/package=ggalt.\n\n\nRudis, Bob, and Dave Gandy. 2023. waffle: Create Waffle Chart Visualizations. https://CRAN.R-project.org/package=waffle.\n\n\nSarkar, Deepayan. 2008. Lattice: Multivariate Data Visualization with r. New York: Springer. http://lmdvr.r-forge.r-project.org.\n\n\nSchauberger, Philipp, and Alexander Walker. 2023. openxlsx: Read, Write and Edit xlsx Files. https://CRAN.R-project.org/package=openxlsx.\n\n\nScheuch, Christoph. 2025. owidapi: Access the Our World in Data Chart API. https://doi.org/10.32614/CRAN.package.owidapi.\n\n\nSchloerke, Barret, Di Cook, Joseph Larmarange, Francois Briatte, Moritz Marbach, Edwin Thoen, Amos Elberg, and Jason Crowley. 2024. GGally: Extension to ’ggplot2’. https://CRAN.R-project.org/package=GGally.\n\n\nSchloss, Karen B., Connor C. Gramazio, Allison T. Silverman, Madeline L. Parker, and Audrey S. Wang. 2019. “Mapping Color to Meaning in Colormap Data Visualizations.” IEEE Transactions on Visualization and Computer Graphics 25 (1): 810–19. https://doi.org/10.1109/TVCG.2018.2865147.\n\n\nShalloway, Bryan. 2023. funspotr: Spot R Functions & Packages. https://CRAN.R-project.org/package=funspotr.\n\n\nSievert, Carson. 2020. Interactive Web-Based Data Visualization with r, Plotly, and Shiny. Chapman; Hall/CRC. https://plotly-r.com.\n\n\nSlowikowski, Kamil. 2024. ggrepel: Automatically Position Non-Overlapping Text Labels with ’ggplot2’. https://CRAN.R-project.org/package=ggrepel.\n\n\nTierney, Nicholas. 2017. “visdat: Visualising Whole Data Frames.” JOSS 2 (16): 355. https://doi.org/10.21105/joss.00355.\n\n\nTierney, Nicholas, and Dianne Cook. 2023. “Expanding Tidy Data Principles to Facilitate Missing Data Exploration, Visualization and Assessment of Imputations.” Journal of Statistical Software 105 (7): 1–31. https://doi.org/10.18637/jss.v105.i07.\n\n\nTol, Paul. 2021. “Paul Tol’s Notes: Colour schemes and templates.” https://sronpersonalpages.nl/~pault/.\n\n\nUnited States Census Bureau. 2021a. “Historical Population Change Data (1910-2020).” https://www.census.gov/data/tables/time-series/dec/popchange-data-text.html.\n\n\n———. 2021b. “State Area Measurements and Internal Point Coordinates.” https://www.census.gov/geographies/reference-files/2010/geo/state-area.html.\n\n\nUnited States Department of Agriculture: Economics, Statistics and Market Information System. 2022. “Honey Bee Colonies.” USDA Economics, Statistics and Market Information System. https://usda.library.cornell.edu/concern/publications/rn301137d.\n\n\nWalker, Kyle. 2022. crsuggest: Obtain Suggested Coordinate Reference System Information for Spatial Data. https://CRAN.R-project.org/package=crsuggest.\n\n\nWanzer, Dana Linnell, Tarek Azzam, Natalie D. Jones, and Darrel Skousen. 2021. “The Role of Titles in Enhancing Data Visualization.” Evaluation and Program Planning 84: 101896. https://doi.org/10.1016/j.evalprogplan.2020.101896.\n\n\nWickham, Hadley. 2016. ggplot2: Elegant Graphics for Data Analysis. Springer-Verlag New York. https://ggplot2.tidyverse.org.\n\n\n———. 2023a. forcats: Tools for Working with Categorical Variables (Factors). https://doi.org/10.32614/CRAN.package.forcats.\n\n\n———. 2023b. stringr: Simple, Consistent Wrappers for Common String Operations. https://CRAN.R-project.org/package=stringr.\n\n\nWickham, Hadley, Mara Averick, Jennifer Bryan, Winston Chang, Lucy D’Agostino McGowan, Romain François, Garrett Grolemund, et al. 2019. “Welcome to the tidyverse.” Journal of Open Source Software 4 (43): 1686. https://doi.org/10.21105/joss.01686.\n\n\nWickham, Hadley, and Jennifer Bryan. 2023. readxl: Read Excel Files. https://CRAN.R-project.org/package=readxl.\n\n\nWickham, Hadley, Mine Çetinkaya-Rundel, and Garrett Grolemund. 2023. R for Data Science. Second Edition. O-Reilly. https://r4ds.hadley.nz.\n\n\nWickham, Hadley, Romain François, Lionel Henry, Kirill Müller, and Davis Vaughan. 2023. dplyr: A Grammar of Data Manipulation. https://CRAN.R-project.org/package=dplyr.\n\n\nWickham, Hadley, and Lionel Henry. 2023. purrr: Functional Programming Tools. https://CRAN.R-project.org/package=purrr.\n\n\nWickham, Hadley, Jim Hester, and Jennifer Bryan. 2024. readr: Read Rectangular Text Data. https://CRAN.R-project.org/package=readr.\n\n\nWickham, Hadley, Thomas Lin Pedersen, and Dana Seidel. 2023. scales: Scale Functions for Visualization. https://CRAN.R-project.org/package=scales.\n\n\nWickham, Hadley, Davis Vaughan, and Maximilian Girlich. 2024. tidyr: Tidy Messy Data. https://CRAN.R-project.org/package=tidyr.\n\n\nWilke, Claus. 2022. ggtextures: Drawing Textured Rectangles and Bars with grid and ggplot2. https://github.com/clauswilke/ggtextures.\n\n\nWilke, Claus O. 2024. cowplot: Streamlined Plot Theme and Plot Annotations for ’ggplot2’. https://wilkelab.org/cowplot/.\n\n\nWilke, Claus O., and Brenton M. Wiernik. 2022. ggtext: Improved Text Rendering Support for ’ggplot2’. https://CRAN.R-project.org/package=ggtext.\n\n\nwww.nobelprize.org. 2024. “Nobel Prize API Version 2.1.” https://api.nobelprize.org/2.1/laureates.\n\n\nYork, Piers. 2023. owidR: Import Data from Our World in Data. https://github.com/piersyork/owidR.\n\n\nYu, Guangchuang. 2023. ggimage: Use Image in ’ggplot2’. https://CRAN.R-project.org/package=ggimage.\n\n\nYutani, Hiroaki. 2023. gghighlight: Highlight Lines and Points in ’ggplot2’. https://CRAN.R-project.org/package=gghighlight.\n\n\nZehr, Sarah M., Richard G. Roach, David Haring, Julie Taylor, Freda H. Cameron, and Anne D. Yoder. 2014. “Life history profiles for 27 strepsirrhine primate taxa generated using captive data from the Duke Lemur Center.” Scientific Data 1 (1). https://doi.org/10.1038/sdata.2014.19.",
    "crumbs": [
      "공간 데이터 시각화",
      "<span class='chapter-number'>11</span>  <span class='chapter-title'>전 세계 의사 분포: **`ggplot2`**로 지도 만들기</span>"
    ]
  },
  {
    "objectID": "time-zones.html",
    "href": "time-zones.html",
    "title": "12  시간대: sf를 사용한 공간 데이터 및 매핑",
    "section": "",
    "text": "12.1 데이터\n이 장에서는 rnaturalearth를 사용하여 지도 데이터를 얻고, sf를 사용하여 공간 데이터를 조작하고 ggplot2로 플롯하며, 세계 지도에 사용자 정의 막대 차트 범례를 추가하는 방법을 배웁니다.\n이 장을 마치면 다음을 할 수 있습니다:\n이 장에 필요한 패키지를 로드하는 것으로 시작합니다.\n이 장에서는 몇 가지 새로운 패키지가 사용됩니다:\nIANA(Internet Assigned Numbers Authority) tz 데이터베이스에는 전 세계 여러 지역의 현지 시간 역사에 대한 데이터가 포함되어 있습니다 (Internet Assigned Numbers Authority 2023). 웹사이트에는 “데이터베이스의 각 기본 항목은 1970년 이후 모두 합의된 일련의 시민용 시간 시계에 대한 시간대를 나타냅니다.”라고 명시되어 있습니다. 많은 웹사이트가 IANA tz 데이터베이스의 데이터를 사용하여 운영됩니다.\n시간대 데이터는 2023년 3월 TidyTuesday 데이터 세트로 사용되었으며, 여기서 데이터 랭글링 코드는 Davis Vaughan의 코드에서 수정되었습니다. 실제로는 4개의 데이터 세트가 포함되어 있지만 지금은 timezones 데이터에 초점을 맞출 것입니다. tidytuesdayR 패키지 (Hughes 2022b)의 tt_load() 함수를 사용하여 데이터를 R로 로드할 수 있습니다:\ntuesdata &lt;- tt_load(\"2023-03-28\")\ntimezones &lt;- tuesdata$timezones\n데이터에는 337개의 시간대에 대한 4개의 다른 변수에 대한 정보가 포함되어 있습니다. zone 열에는 시간대 이름이 포함되어 있습니다. latitude 및 longitude 열에는 시간대의 주요 위치(예: 가장 큰 도시)에 대한 좌표가 포함되어 있습니다. comments 열에는 원래 시간대 정의 파일의 주석이 포함되어 있습니다.",
    "crumbs": [
      "공간 데이터 시각화",
      "<span class='chapter-number'>12</span>  <span class='chapter-title'>시간대: **`sf`**를 사용한 공간 데이터 및 매핑</span>"
    ]
  },
  {
    "objectID": "time-zones.html#탐색-작업",
    "href": "time-zones.html#탐색-작업",
    "title": "12  시간대: sf를 사용한 공간 데이터 및 매핑",
    "section": "\n12.2 탐색 작업",
    "text": "12.2 탐색 작업\ntimezones 데이터가 어떻게 생겼는지 살펴보는 것으로 시작하겠습니다!\n\n12.2.1 데이터 탐색\nhead()를 사용하여 데이터의 처음 몇 행을 검사해 봅시다: \n\nhead(timezones)\n\n# A tibble: 6 × 4\n  zone              latitude longitude comments      \n  &lt;chr&gt;                &lt;dbl&gt;     &lt;dbl&gt; &lt;chr&gt;         \n1 Africa/Abidjan        5.32     -4.03 &lt;NA&gt;          \n2 Africa/Algiers       36.8       3.05 &lt;NA&gt;          \n3 Africa/Bissau        11.8     -15.6  &lt;NA&gt;          \n4 Africa/Cairo         30.0      31.2  &lt;NA&gt;          \n5 Africa/Casablanca    33.6      -7.58 &lt;NA&gt;          \n6 Africa/Ceuta         35.9      -5.32 Ceuta, Melilla\n\n\n가장 먼저 눈에 띄는 것은 누락된 데이터가 많은 것으로 보이는 comments 열입니다. is.na() 함수를 사용하여 누락된 데이터와 누락되지 않은 데이터의 수만 플롯하여 확인해 봅시다: \n\nbarplot(table(is.na(timezones$comments)))\n\n\n\n\n\n\nFigure 12.1: comments 열의 결측값 수에 대한 막대 차트(TRUE는 결측을 나타냄).\n\n\n\n\n시간대의 거의 40%에는 관련된 주석이 없습니다. 데이터를 더 자세히 조사하면 이러한 주석이 일반적으로 시간대 이름에 대한 설명이나 대안을 제공한다는 것을 알 수 있습니다. 이러한 주석의 존재 여부가 전 세계적으로 어떻게 달라지는지 탐구할 수도 있지만, 데이터에서 플롯하기에 가장 흥미로운 것은 아니므로 dplyr의 select()를 사용하여 당분간 comments 열을 삭제하겠습니다.\n첫 번째 열인 zone에는 시간대 이름에 대한 정보가 포함되어 있으며 일반적으로 \"대륙/도시\" 형식입니다. 대륙별 시간대 분포를 탐색하려면 이 변수를 두 개로 분할해야 합니다(또는 시간대 이름에서 대륙 이름만 추출). tidyr의 separate_wider_delim()을 사용하여 / 문자로 분항하여 zone 열에서 두 개의 새 열을 만들 수 있습니다. 일부 시간대 이름에는 이름에 두 개의 /가 있습니다(예: \"America/North_Dakota/New_Salem\"). 즉, 두 열에 대해 너무 많은 조각이 있습니다. 위치를 고유하게 지정하므로 separate_wider_delim()에 마지막 조각을 병합하도록 지시할 수 있습니다. \n\ntimezones_data &lt;- timezones |&gt;\n  select(-comments) |&gt;\n  separate_wider_delim(\n    cols = zone,\n    delim = \"/\",\n    names = c(\"continent\", \"place\"),\n    too_many = \"merge\"\n  )\n\n이제 barplot() 함수를 다시 사용하여 대륙당 시간대가 얼마나 많은지 탐색할 수 있습니다. Figure 12.2 에서 시간대 이름의 첫 부분이 대륙과 정확히 일치하지 않는데 9개의 값이 있기 때문입니다. 하지만 넓은 지리적 지역으로 매핑됩니다. \n\nbarplot(table(timezones_data$continent))\n\n\n\n\n\n\nFigure 12.2: 9개 지리적 지역 각각에 정의된 시간대 수에 대한 막대 차트.\n\n\n\n\n물론 좌표 데이터가 있을 때 할 수 있는 가장 분명한 일은 지도에 좌표를 그리는 것입니다!\n\n12.2.2 탐색적 스케치\n각 시간대 내의 주요 위치(보통 가장 큰 도시)에 대한 위도 및 경도 데이터가 있다는 점을 감안할 때 가장 먼저 떠오르는 지도 아이디어는 시간대 위치가 점으로 표시된 세계 지도입니다.\n\n\n\n\n\nFigure 12.3: 세계 지도에 점으로 표시된 시간대 위치의 초기 스케치.\n\n\n점이 속한 지리적 지역(대륙)에 따라 점의 색상을 지정할 수 있습니다. 이미 보았듯이 ggplot2에서 변수를 기반으로 색상을 지정하면 차트에 범례가 자동으로 추가됩니다. 범주 레이블 옆에 색상 사각형을 사용하는 기존 범례 대신 막대 차트를 사용하여 사용자 정의 범례를 추가할 수 있습니다. 막대는 지역별 시간대 수를 표시하고 지도의 점과 동일한 방식으로 색상이 지정됩니다. 지도 아래에 있는 이 막대 차트 범례는 기존 범례보다 더 많은 공간을 차지하지 않지만 정보를 추가합니다(또는 최소한 기존 정보를 더 빠르고 쉽게 처리할 수 있도록 합니다).\n\n\n\n\n\nFigure 12.4: 왼쪽 하단 모서리에 텍스트가 있고 오른쪽 하단에 범례로 막대 차트가 있는 세계 지도의 점에 대한 초기 스케치.\n\n\n지도 아래, 막대 차트 옆에 제목과 부제목을 추가할 수 있습니다. 텍스트를 (차트 상단에 긴 텍스트 문자열이 아닌) 더 정사각형 레이아웃으로 배치하면 읽기 쉽고 시각화가 매우 넓고 짧아지는 것을 방지할 수 있습니다.",
    "crumbs": [
      "공간 데이터 시각화",
      "<span class='chapter-number'>12</span>  <span class='chapter-title'>시간대: **`sf`**를 사용한 공간 데이터 및 매핑</span>"
    ]
  },
  {
    "objectID": "time-zones.html#플롯-준비하기",
    "href": "time-zones.html#플롯-준비하기",
    "title": "12  시간대: sf를 사용한 공간 데이터 및 매핑",
    "section": "\n12.3 플롯 준비하기",
    "text": "12.3 플롯 준비하기\n플롯을 만들려면 배경 지도 데이터를 얻고 한 번에 여러 공간 데이터 파일을 사용하는 방법을 이해해야 합니다.\n\n12.3.1 rnaturalearth로 만든 지도\n지도에 점을 그리기 시작하기 전에 기본 국가를 표시하는 배경으로 사용할 수 있는 세계 지도가 필요합니다. Chapter 11 에서는 ggplot2의 map_data를 사용했습니다. 여기서는 rnaturalearth 패키지 (Massicotte and South 2023)를 사용하는 대안을 살펴보겠습니다.\nrnaturalearth 패키지를 사용하면 Natural Earth 지도 데이터와 상호 작용할 수 있습니다. ne_countries() 함수를 사용하여 다양한 지리적 지역에 대한 다각형을 다운로드할 수 있습니다. 기본값은 모든 국가에 대한 데이터를 다운로드하는 것입니다. \n\nworld &lt;- ne_countries()\n\n\n\n\n\n\n\nTip 12.1: rnaturalearth로 특정 국가의 다각형 가져오기\n\n\n\n특정 국가나 지역에 대한 다각형만 원하는 경우 country 인수를 지정할 수 있습니다.\n\nuk &lt;- ne_countries(\n  country = \"united kingdom\"\n)\n\n지정된 국가의 경우 ne_states() 함수는 행정 레벨 1 다각형(예: 주(state)와 같은 주요 국가 내 지역)을 제공합니다.\n\n\nne_countries() 함수의 기본 출력은 sf 객체입니다. 여기서 sf는 Simple Features를 나타냅니다. Simple Features는 공간 데이터베이스 및 지리 정보 시스템(GIS)에서 점, 선 및 다각형과 같은 기하학적 객체를 표현하기 위한 표준화된 모델입니다. sf 패키지 (Pebesma 2018)는 R에서 simple features를 구현하여 data.frame(또는 tibble)으로 표현할 수 있도록 합니다. \nR의 sf 객체는 화려한 data.frame으로 생각할 수 있으므로 ggplot2를 사용하여 플롯할 수 있습니다. 사실 ggplot2에는 geom_sf() 함수를 통해 sf 객체를 플로팅하는 기능이 내장되어 있습니다. 즉, 다른 유형의 차트를 만드는 것과 같은 방식으로 sf 객체에서 지도를 만들 수 있습니다. ggplot() 함수로 시작한 다음 geom_sf() 지오메트리를 레이어링합니다. \n\nbg_map &lt;- ggplot() +\n  geom_sf(data = world)\nbg_map\n\n\n\n\n\n\nFigure 12.5: 기본 회색 배경으로 국가 윤곽선을 보여주는 세계 지도.\n\n\n\n\n한 가지 주요 차이점이 있음을 알 수 있습니다. aes() 함수를 사용하는 미적 매핑이 없습니다. 공간 좌표는 sf 객체 내에 포함되어 있으므로 x 및 y 변수를 명시적으로 매핑할 필요가 없습니다. geom_sf() 함수는 플로팅을 위해 포함된 좌표를 직접 추출하고 사용할 수 있습니다.\n\n12.3.2 sf를 사용한 공간 객체\ngeom_sf()를 geom_point()와 같은 다른 함수 및 비 sf 데이터와 결합할 수 있지만, 먼저 다른 데이터를 sf 객체로 변환하는 것이 더 쉬운 경우가 많습니다. 주된 이유는 좌표 참조 시스템(CRS)이 두 지오메트리에 대해 동일하도록 하기 위해서입니다. 좌표 참조 시스템은 지구의 3차원 표면이 3차원 좌표계(예: 위도 및 경도) 또는 2차원 투영 지도로 표현되는 방식을 정의합니다. 전 세계의 다양한 지역에 일반적으로 사용되는 다양한 좌표 참조 시스템이 있습니다. 여러 공간 객체를 결합하는 경우 서로 다른 좌표 참조 시스템을 가질 수 있습니다. 예를 들어, 영국 국립 그리드(BNG) CRS를 사용하면 런던의 좌표는 X = 492983 및 Y = 188837입니다. 세계 측지 시스템 1984(WGS84) CRS에서 런던의 좌표는 경도 (X) = 1.200235W 및 위도 (Y) = 53.870659N입니다. 이 두 좌표를 먼저 변환하지 않고는 같은 지도에 그릴 수 없다는 것을 상상할 수 있을 것입니다.\nR에서는 sf 패키지를 사용하여 서로 다른 좌표 참조 시스템 간에 설정하거나 변환할 수 있습니다. 가장 쉬운 방법은 특정 좌표 참조 시스템에 할당된 숫자 식별자인 EPSG 코드를 사용하는 것입니다. WGS84는 EPSG 코드 4326을 사용합니다. 이것은 배경 지도에 사용하고 있는 world 데이터에 사용된 좌표 참조 시스템입니다. 객체에서 CRS를 검색하는 sf의 st_crs() 함수를 사용하여 확인할 수 있습니다: \n\nst_crs(world)\n\nCoordinate Reference System:\n  User input: WGS 84 \n  wkt:\nGEOGCRS[\"WGS 84\",\n    DATUM[\"World Geodetic System 1984\",\n        ELLIPSOID[\"WGS 84\",6378137,298.257223563,\n            LENGTHUNIT[\"metre\",1]]],\n    PRIMEM[\"Greenwich\",0,\n        ANGLEUNIT[\"degree\",0.0174532925199433]],\n    CS[ellipsoidal,2],\n        AXIS[\"latitude\",north,\n            ORDER[1],\n            ANGLEUNIT[\"degree\",0.0174532925199433]],\n        AXIS[\"longitude\",east,\n            ORDER[2],\n            ANGLEUNIT[\"degree\",0.0174532925199433]],\n    ID[\"EPSG\",4326]]\n\n\ntimezones 데이터의 CRS가 world 데이터의 CRS와 일치하는지 확인하기 위해 timezones 데이터의 CRS를 4326으로 설정할 수 있습니다. 현재 timezones 데이터는 공간 객체가 아닙니다. 위도 및 경도 정보가 포함된 두 개의 열이 있는 단순한 data.frame일 뿐입니다. 먼저 좌표 데이터와 관련된 열 이름도 지정하여 sf의 st_as_sf() 함수를 사용하여 sf 객체로 변환해야 합니다. \ntimezones 데이터에 제공된 위도 및 경도 좌표는 EPSG:4326 CRS에 있으므로 CRS를 변환할 필요가 없고 설정하기만 하면 됩니다. 데이터와 함께 이 정보가 제공되었으므로 EPSG:4326에 있다는 것을 알고 있으며 st_as_sf()의 crs 인수를 사용하여 설정할 수 있습니다. \n\ntimezones_sf &lt;- timezones_data |&gt;\n  st_as_sf(\n    coords = c(\"longitude\", \"latitude\"),\n    crs = 4326\n  )\n\n\n\n\n\n\n\nTip 12.2: 알 수 없는 CRS 처리\n\n\n\n좌표가 어떤 CRS에 있는지 모르는 경우 가장 좋은 방법은 데이터 소스로 돌아가서 해당 정보를 찾을 수 있는지 확인하는 것입니다. 그렇지 않으면 CRS가 정의되지 않은 시스템에 대한 잠재적 좌표 참조 시스템을 추측하는 crsuggest (Walker 2022)의 guess_crs() 함수를 사용해 볼 수 있습니다. \n그런 다음 st_set_crs() 함수를 사용하여 좌표 참조 시스템을 설정할 수 있습니다. .\n\n\n\n12.3.3 첫 번째 플롯\n시간대 좌표가 이제 sf 객체로 저장되었으므로 world 데이터와 같은 방식으로 플롯할 수 있습니다. timezones_sf 객체를 data 인수에 전달하고 aes() 함수 내부의 color 인수에 전달하여 continent 열을 기반으로 점의 색상을 지정하도록 지정합니다: \n\nbasic_map &lt;- bg_map +\n  geom_sf(\n    data = timezones_sf,\n    mapping = aes(color = continent)\n  )\nbasic_map\n\n\n\n\n\n\nFigure 12.6: 세계 지도에 다른 시간대 위치를 나타내는 점으로, 점은 대륙별로 색상이 지정되어 있고 지도 오른쪽에 색상 매핑을 나타내는 범례가 있습니다.\n\n\n\n\n이제 지역별로 색상이 지정된 점이 있는 기본 지도와 오른쪽에 추가된 기본 범례가 있습니다. 더 나은 사용자 정의 범례를 만들어 봅시다.\n지도의 새로운 범례를 만들기 전에 범례(및 플롯의 나머지 부분)에서 사용할 색상을 정의해야 합니다.\n\n12.3.4 색상\n이전 장에서 했던 것처럼 텍스트 색상, 강조 색상 및 배경색을 변수로 정의하는 것으로 시작합니다. \n\ntext_col &lt;- \"#2F4F4F\"\nhighlight_col &lt;- \"#508080\"\nbg_col &lt;- \"#F0F5F5\"\n\n그런 다음 지역 이름을 다른 16진수 코드로 매핑하여 명명된 색상 벡터를 정의합니다. 각 9개 지역에 대해 하나씩 충분한 색상이 있으면서도 색맹에 안전한 정성적 색상 팔레트를 찾기는 어려울 수 있습니다. Paul Tol은 그의 Colour schemes and templates 블로그 게시물 (Tol 2021)에서 정성적 팔레트에 대한 몇 가지 옵션을 논의합니다. 여기서는 10가지 색상(누락된 데이터에 대한 옅은 회색 포함)이 있고 색맹에 안전한 음소거된 정성적 색상 구성표(muted qualitative color scheme) 팔레트 (Tol 2021)를 사용합니다: \n\ncol_palette &lt;- c(\n  \"#CC6677\", \"#332288\", \"#DDCC77\",\n  \"#117733\", \"#88CCEE\", \"#882255\",\n  \"#44AA99\", \"#999933\", \"#AA4499\"\n)\nnames(col_palette) &lt;- unique(timezones_sf$continent)\n\n\n12.3.5 글꼴\n마찬가지로 사용하려는 서체도 로드합니다. 다시 말하지만, 이 시각화를 위해 Google Fonts를 사용하므로 sysfonts의 font_add_google() 함수를 사용할 수 있습니다. 제목에는 20세기 서체에서 영감을 받은 구식 세리프 서체인 Fraunces를 사용합니다. 본문 텍스트에는 산세리프 서체인 Commissioner를 사용합니다. 이전 장에서 했던 것처럼 showtext_auto()를 사용하여 플로팅 글꼴에 showtext를 자동으로 사용하고 showtext_opts()를 사용하여 dpi를 설정하여 원하는 해상도를 설정합니다. \n\nfont_add_google(name = \"Commissioner\")\nfont_add_google(name = \"Fraunces\")\nfont_add_google(name = \"Noto Sans KR\", family = \"noto_sans_kr\")\nshowtext_auto()\nshowtext_opts(dpi = 300)\nbody_font &lt;- \"Commissioner\"\ntitle_font &lt;- \"Fraunces\"\nkorean_font &lt;- \"noto_sans_kr\"\n\n\n12.3.6 사용자 정의 막대 차트 범례 만들기\nggplot2에서 막대 차트를 만드는 방법은 여러 가지가 있습니다. 가장 자주 사용되는 두 가지는 geom_bar()와 geom_col()입니다. 차이점은 무엇일까요? geom_bar()는 기본적으로 각 범주의 관측치 수를 계산해 주는 geom_col()의 특수 버전입니다. 이 시각화에서는 막대의 높이를 정의하는 것 외에 다른 목적으로 범주 수를 사용할 것이므로 직접 계산하고 대신 geom_col()을 사용합니다. \ndplyr의 count() 함수를 사용하여 continent 열에 각 지리적 지역의 관측치가 얼마나 있는지 계산합니다. 여기서 timezones_sf 데이터 또는 timezones_data를 입력 데이터로 사용할 수 있습니다. 두 가지를 모두 시도하면 예상대로 개수 열(n)은 두 경우 모두 동일하지만 두 출력이 동일하지 않다는 것을 알 수 있습니다! count(timezones_data, continent)를 실행하면 2열 data.frame을 얻습니다. count(timezones_sf, continent)를 실행하면 sf 객체로 유지되는 3열 data.frame을 얻습니다. 이는 sf의 geometry 열이 끈적한(sticky) 것으로 설명될 수 있기 때문입니다. 종종(항상 그런 것은 아니지만) 작업 후에도 sf 클래스가 보존되기를 원합니다. sf의 st_drop_geometry() 함수를 사용하여 제거할 수 있습니다: \n\nbar_data &lt;- timezones_sf |&gt;\n  count(continent) |&gt;\n  st_drop_geometry()\n\n새 bar_data 객체를 ggplot() 함수에 전달하여(항상 그렇듯이) 기본 막대 차트를 플롯해 봅시다. 또한 aes() 함수를 통해 미적 매핑을 추가하고 x축에 continent를, y축에 개수(n)를 배치합니다. 그런 다음 geom_col()을 사용하여 막대 차트의 열을 그립니다: \n\nggplot(\n  data = bar_data,\n  mapping = aes(x = continent, y = n)\n) +\n  geom_col()\n\n\n\n\n\n\nFigure 12.7: 각 대륙의 시간대 위치 수를 보여주는 막대 차트.\n\n\n\n\n전설(범례)로 효과적으로 작동하게 하려면 두 가지 작업을 수행해야 합니다:\n\n\ncontinent 열을 기준으로 막대 색상을 지정합니다.\n대신 막대에 직접 레이블을 추가하고 x축 레이블과 범례를 제거합니다.\n\n\n\n\n\n\n\nTip 12.3: 막대 차트에 색상 추가\n\n\n\n일반 막대 차트(범례로 사용되지 않음)를 만드는 경우 막대에 색상을 추가하면 플롯이 더 밝게 보일 수 있지만 추가 정보는 추가되지 않습니다. 범주는 x축의 레이블로 이미 구별할 수 있습니다.\n\n\n이번에는 미적 매핑에서 fill과 label을 continent 열에 매핑하여 막대 차트를 다시 만들어 봅시다. ggplot()의 미적 매핑에 label을 추가해도 geom_text()를 (아직) 추가하지 않기 때문에 막대 차트에는 아무런 영향을 미치지 않지만 어쨌든 전역 미적 매핑으로 추가해도 해가 되지는 않습니다. 또한 scale_fill_manual()을 사용하여 이전에 만든 col_palette 벡터에 정의된 색상으로 설정합니다. \n\nbar_plot &lt;-\n  ggplot(\n    data = bar_data,\n    mapping = aes(\n      x = continent, y = n,\n      fill = continent, label = continent\n    )\n  ) +\n  geom_col() +\n  scale_fill_manual(\n    values = col_palette\n  )\nbar_plot\n\n\n\n\n\n\nFigure 12.8: 각 지리적 지역의 시간대 위치 수를 보여주는 막대 차트로, 각 지역마다 다른 색상이 사용됩니다.\n\n\n\n\n이제 막대에 텍스트 레이블을 직접 추가할 수 있습니다. 하지만 어디에 넣어야 할까요? 막대 끝에 맞춰 범주 레이블을 추가하는 것이 꽤 일반적이지만 여기서는 잘 작동하지 않을 수 있습니다. 막대 안에 레이블을 추가하면 막대가 짧은 시간대가 적은 지역의 경우 텍스트가 매우 찌그러집니다. 막대 바깥에 레이블을 추가하면 막대가 긴 시간대가 많은 지역의 경우 텍스트가 그래프 밖으로 나가거나 시각화의 높이가 늘어납니다. 어느 것도 이상적이지 않습니다. 하지만 두 가지 장점을 모두 누릴 수도 있습니다. 다음 조건에서 레이블을 추가하려고 합니다:\n막대가 길 때 텍스트는:\n\n막대 안에 나타나고 오른쪽 정렬되어야 합니다;\n어두운 막대 배경과 대조되도록 밝은 색상이어야 합니다;\n\n반대로 막대가 짧을 때 텍스트는:\n\n막대 바깥에 나타나고 왼쪽 정렬되어야 합니다;\n밝은 플롯 배경과 대조되도록 어두운 색상이어야 합니다;\n\n막대를 짧거나 긴 것으로 정의하는 값을 찾는 데 약간의 시행착오가 필요할 수 있습니다. 여기서는 45를 사용합니다. 지역에 45개 이상의 시간대가 있으면 긴 막대로 분류됩니다. 그렇지 않으면 짧습니다.\n텍스트의 정렬과 색상을 데이터 세트의 n 열(의 변환)에 매핑하려고 합니다. 이것은 aes() 함수의 미적 매핑에 들어가야 할 것 같습니다. 우리는 이미 color 인수를 사용하여 텍스트 색상을 매핑할 수 있다는 것을 알고 있습니다. hjust 및 vjust 인수는 텍스트의 수평 및 수직 위치 지정에 사용됩니다. 불행히도 geom_text() 함수 내에서는 hjust나 vjust 모두 aes() 함수 내에서 사용할 수 없습니다. \n다행히 ggtext 패키지가 다시 구조해 줍니다! geom_text() 대신 ggtext의 geom_textbox() 함수를 사용할 수 있습니다. geom_text()와 매우 유사하게 작동하지만 변수를 hjust 및 vjust에 매핑할 수 있습니다. \ndplyr의 case_when()을 사용하여 n 값에 따라 hjust 인수에 대한 설정을 지정합니다. n이 45보다 크면 hjust는 오른쪽 정렬을 사용하려면 1이어야 하고 그렇지 않으면 왼쪽 정렬을 사용하려면 0이어야 합니다. 원하는 경우 aes() 함수 내에서 직접 case_when()을 사용하는 대신 데이터에 새 열을 만들 수 있습니다. \ngeom_textbox()는 상자를 그리기 때문에 hjust를 사용하여 좌표에 대한 상자 정렬과 halign을 사용하여 상자 내 텍스트 정렬을 모두 제어해야 합니다. geom_textbox() 내에서도 orientation = \"left-rotated\"를 사용하여 텍스트를 시계 반대 방향으로 90도 회전합니다(geom_text()에서 angle = 90을 사용하는 것과 유사). fill = NA 및 box.color = NA로 설정하여 배경 채우기 색상과 상자 윤곽선을 제거하고 size 및 family 인수를 사용하여 크기 및 글꼴 모음 옵션을 설정할 수 있습니다(여기서는 이전에 정의한 body_font 변수를 전달).\n\n\n\n\n\n\nTip 12.4: 텍스트 정렬\n\n\n\nggplot2에서 hjust(및 halign)는 수평 정렬을 제어하고 vjust(및 valign)는 수직 정렬을 제어합니다. 텍스트가 회전되면 회전되지 않은 정렬 인수를 사용해야 합니다. 예를 들어 텍스트를 위아래로 이동하더라도 hjust를 사용하여 텍스트를 정렬합니다.\n\n\n텍스트 색상을 설정하는 데에도 비슷한 프로세스를 사용합니다. case_when()을 사용하여 45보다 큰지 여부에 따라 텍스트가 bg_col 또는 text_col 색상을 사용해야 하는지 지정합니다. 매핑할 변수로 처리하는 대신 이러한 변수를 있는 그대로 사용하기 위해 I() 함수 내에 bg_col 및 text_col 변수를 래핑합니다. \n마지막으로 theme_void()를 사용하여 모든 기존 테마 요소를 제거하고 theme(legend.position = \"none\")를 사용하여 범례를 제거할 수 있습니다. \n\nlegend_plot &lt;- bar_plot +\n  geom_textbox(\n    mapping = aes(\n      hjust = case_when(\n        n &gt; 45 ~ 1,\n        TRUE ~ 0\n      ),\n      halign = case_when(\n        n &gt; 45 ~ 1,\n        TRUE ~ 0\n      ),\n      color = case_when(\n        n &gt; 45 ~ I(bg_col),\n        TRUE ~ I(text_col)\n      )\n    ),\n    family = body_font,\n    size = 2.5,\n    fill = NA,\n    box.color = NA,\n    orientation = \"left-rotated\"\n  ) +\n  theme_void() +\n  theme(\n    legend.position = \"none\"\n  )\nlegend_plot\n\n\n\n\n\n\nFigure 12.9: 각 대륙의 시간대 위치 수를 보여주는 최소한의 막대 차트로, 각 막대에 대륙 이름을 지정하는 레이블이 있습니다.\n\n\n\n\n이제 훨씬 더 멋진 사용자 정의 범례가 생겼습니다. 두 가지를 결합하기 전에 기본 지도에 더 멋진 스타일을 적용할 수 있습니다!",
    "crumbs": [
      "공간 데이터 시각화",
      "<span class='chapter-number'>12</span>  <span class='chapter-title'>시간대: **`sf`**를 사용한 공간 데이터 및 매핑</span>"
    ]
  },
  {
    "objectID": "time-zones.html#고급-스타일링",
    "href": "time-zones.html#고급-스타일링",
    "title": "12  시간대: sf를 사용한 공간 데이터 및 매핑",
    "section": "\n12.4 고급 스타일링",
    "text": "12.4 고급 스타일링\n개선해야 할 플롯의 여러 요소가 있습니다:\n\n배경 지도는 기본값 대신 정의된 색상을 사용해야 합니다;\n점도 정의된 색상을 사용해야 합니다;\n정의된 서체를 사용하여 제목과 부제목을 추가해야 합니다;\n\n\n12.4.1 색상 적용\n테두리 색상으로 text_col을 사용하고 채우기 색상으로 highlight_col의 반투명 버전을 사용하여 배경 지도를 다시 그리는 것부터 시작하겠습니다. ggplot2의 alpha() 함수를 사용하여 투명도를 30%(0.3)로 설정할 수 있습니다. \n약간의 조정을 통해 점도 다시 그립니다. 점에 사용되는 모양을 변경해 보겠습니다. pch(또는 shape) 인수를 사용하여 모양을 설정할 수 있습니다. pch에 사용할 수 있는 25가지 옵션이 있으며 숫자 1에서 25를 사용하여 지정할 수 있습니다. 여기서 사용할 모양은 가운데에 점이 있는 원입니다. 불행히도 25가지 옵션 중 하나가 아니므로 직접 만들어야 합니다. 기본 모양을 사용하되 조금 더 작게 만들어 가운데에 점을 그릴 수 있습니다. pch = 21(모양의 fill과 color를 모두 제어할 수 있음)을 선택하고 투명한 채우기로 조금 더 크게 만들어 원을 추가할 수 있습니다. \n\nbasic_map &lt;- ggplot() +\n  # 배경 지도에 색상 적용\n  geom_sf(\n    data = world,\n    color = text_col,\n    fill = alpha(highlight_col, 0.3)\n  ) +\n  # Draw points for time zone locations\n  geom_sf(\n    data = timezones_sf,\n    mapping = aes(color = continent),\n    size = 0.4,\n  ) +\n  # Draw outer circle\n  geom_sf(\n    data = timezones_sf,\n    mapping = aes(color = continent),\n    size = 1.6,\n    pch = 21,\n    fill = \"transparent\"\n  )\nbasic_map\n\n\n\n\n\n\nFigure 12.10: 세계 지도에 다른 시간대 위치를 나타내는 점으로, 점은 지리적 지역별로 색상이 지정되어 있습니다. 기본 범례는 오른쪽에 표시됩니다.\n\n\n\n\n막대 차트에했던 것과 동일한 색상을 (두) 점 모두에 적용합니다 (scale_fill_manual() 대신 점의 경우 scale_color_manual()을 사용해야 함). \n\ncol_map &lt;- basic_map +\n  scale_color_manual(values = col_palette)\n\n\n12.4.2 축 편집\n제목과 부제목 텍스트를 추가하기 전에 공간(및 나중에 추가할 범례)을 만들어야 합니다. scale_x_continuous() 및 scale_y_continuous()를 사용하여 x축과 y축의 제한을 설정해 봅시다. y축의 하한을 데이터 범위를 넘어 확장하여 텍스트를 겹쳐 놓을 수 있는 아래쪽 빈 공간을 남겨 둡니다. 또한 x축 스케일의 breaks를 조정하여 그리드 선을 더 가깝게 만듭니다. 15 x 값마다 그리드 선을 선택한 것이 이상해 보일 수 있지만 경도(x축)의 15도 차이는 약 1시간의 시차입니다(지구는 24시간 동안 360도, 즉 시간당 15도 회전하기 때문입니다)! \ny축을 얼마나 확장해야 하는지 정확히 알아내려면 약간의(아마도 많은) 시행착오가 필요할 것입니다. 여기서는 빈 공간의 높이가 지도 영역 높이의 약 절반 정도가 되기를 원합니다. st_bbox(world)를 사용하여 world 지도 데이터의 경계 상자를 반환하면 세계 지도의 y축 범위가 -90에서 +83.6 사이임을 알 수 있습니다. 즉, y축을 약 80 또는 90 정도 확장하는 것이 좋은 시작점입니다. 또한 coord_sf() 내부에서 expand = FALSE를 설정하여 측면 주변의 여분의 패딩을 제거합니다. \n\naxes_map &lt;- col_map +\n  scale_x_continuous(\n    breaks = seq(-180, 180, by = 15),\n    limits = c(-190, 190)\n  ) +\n  scale_y_continuous(\n    limits = c(-170, 100)\n  ) +\n  coord_sf(expand = FALSE)\naxes_map\n\n\n\n\n\n\nFigure 12.11: 세계 지도에 다른 시간대 위치를 나타내는 점으로, 점은 지리적 지역별로 색상이 지정되어 있습니다. 기본 범례는 오른쪽에 표시되며 세계 지도 아래에 큰 빈 공간이 있습니다.\n\n\n\n\n\n12.4.3 텍스트 추가\nChapter 7 에서 설명한 대로 사용자 정의 Font Awesome 아이콘 캡션을 만들어 나중에 시각화 상단에 추가할 수 있습니다: \n\nsocial &lt;- social_caption(\n  icon_color = highlight_col,\n  font_color = text_col,\n  font_family = body_font\n)\n\nChapter 6 및 Chapter 7 에서 했던 것처럼 범주를 나타내기 위해 부제목 내에 색상이 있는 텍스트를 추가할 수도 있습니다. 사용자 정의 막대 차트 범례가 있으므로 이 시각화에는 불필요할 수 있지만 색상 매핑을 강화하는 것은 나쁘지 않습니다. 여기서는 Chapter 7 에서 했던 것처럼 ggtext를 사용합니다(원하는 경우 Chapter 6 에서 했던 것처럼 marquee를 사용할 수도 있음). 즉, HTML &lt;span&gt;&lt;/span&gt; 태그를 작성하고 glue()를 사용하여 col_palette 벡터의 색상을 전달합니다. 여기서는 인덱스 대신 각 벡터 요소 이름을 사용하여 변수를 호출하는 약간 다른 접근 방식을 취합니다. 이 접근 방식은 조금 더 수동적이지만 작성된 텍스트가 범주 이름과 약간 다르게 하려는 경우 유용할 수 있습니다. 코드도 종종 읽기가 조금 더 명확합니다! 이전 장에서 했던 것처럼 source_caption() 함수를 사용하는 대신 소스에 대한 정보를 부제목 텍스트에 직접 추가합니다. \n\nsubtitle &lt;- glue(\"Time zones tend to follow the boundaries between countries and their subdivisions instead of strictly following longitude. For every one-hour time, a point on the earth moves through 15 degrees of longitude. Each point relates to one of 337 time zones listed in the IANA time zone database. The colors show which time zones are in\n&lt;span style='color:{col_palette[\\\"Africa\\\"]};'&gt;Africa &lt;/span&gt;,\n&lt;span style='color:{col_palette[\\\"America\\\"]};'&gt;America &lt;/span&gt;,\n&lt;span style='color:{col_palette[\\\"Antarctica\\\"]};'&gt;Antarctica &lt;/span&gt;,\n&lt;span style='color:{col_palette[\\\"Asia\\\"]};'&gt;Asia &lt;/span&gt;,\n&lt;span style='color:{col_palette[\\\"Atlantic\\\"]};'&gt;Atlantic &lt;/span&gt;,\n&lt;span style='color:{col_palette[\\\"Australia\\\"]};'&gt;Australia &lt;/span&gt;,\n&lt;span style='color:{col_palette[\\\"Europe\\\"]};'&gt;Europe &lt;/span&gt;,\n&lt;span style='color:{col_palette[\\\"Indian\\\"]};'&gt;Indian &lt;/span&gt;, and\n&lt;span style='color:{col_palette[\\\"Pacific\\\"]};'&gt;Pacific &lt;/span&gt; zones.&lt;br&gt;**Data**: IANA tz database&lt;br&gt;\")\n\n시각화 제목에 대한 텍스트도 지정합니다. 제목과 부제목을 결합하여 하나의 텍스트 객체로 플롯할 것이므로 HTML &lt;span&gt;&lt;/span&gt; 태그를 사용하여 제목의 글꼴 크기, 패밀리 및 색상을 설정합니다.\n\ntitle &lt;- glue(\"&lt;span style='font-size:12pt; font-family:{title_font}; color:{text_col};'&gt;Time Zones of the World&lt;/span&gt;&lt;br&gt;\")\ntitle_text &lt;- glue(\"{title}{subtitle}\")\n\nChapter 11 에서 했던 것처럼 labs() 함수의 tag 옵션을 사용하여 지도에 social 캡션을 추가합니다. 마지막 단계에서 theme 요소를 편집할 때 태그의 위치를 지정합니다. \n불행히도 두 개의 tag를 가질 수 없으며 제목/부제목 텍스트 객체에 대해서도 비표준 위치를 원하므로 대신 geom_textbox()를 사용하여 추가합니다. 텍스트 상자가 갈 위치의 x 및 y 좌표를 지정하고(다시 말하지만 많은 시행착오가 필요함!) 레이블에 social 객체를 전달합니다. 또한 geom_textbox()의 다른 인수를 사용하여 글꼴 size 및 family를 설정하고 텍스트 및 상자의 정렬을 지정합니다(앞서 막대 차트를 만들 때 했던 것과 마찬가지로). 상자 채우기 및 윤곽선 색상은 인수를 NA로 설정하여 제거합니다. \n\ntext_map &lt;- axes_map +\n  # add social icons\n  geom_textbox(\n    data = data.frame(x = 0, y = 93, label = social),\n    mapping = aes(x = x, y = y, label = label),\n    family = body_font,\n    size = 2.3,\n    fill = NA,\n    box.color = NA,\n    halign = 0.5,\n    hjust = 0.5,\n    valign = 0\n  ) +\n  # add title and subtitle\n  labs(tag = title_text)\n\n\n12.4.4 테마 조정\n마지막 단계는 ggplot2 테마를 몇 가지 작게 변경하는 것입니다. theme_void()를 사용하여 모든 테마 요소를 제거하고 텍스트에 대해 base_family 및 base_size를 설정하는 것으로 시작합니다. theme() 함수로 제어되는 시각화에 텍스트 요소가 많지는 않지만 tag 텍스트에는 여전히 영향을 미칩니다. \ntheme() 함수를 사용하여 기본 범례를 제거하고, 배경색을 bg_col 변수로 변경하고, 거의 투명한 text_col 색상으로 그리드 선을 다시 추가하기 위해 몇 가지 추가 편집을 수행합니다. tag 텍스트의 위치는 plot.tag.position 인수를 사용하여 플롯의 왼쪽 하단에 배치하도록 설정할 수 있습니다. 또한 tag에 HTML &lt;span&gt;&lt;/span&gt; 태그가 포함되어 있으므로 ggtext의 element_textbox_simple()을 사용하여 텍스트 서식을 지정합니다. element_textbox_simple() 내에서 maxwidth 인수는 텍스트 상자의 너비를 설정하는 데 사용되어 하단 빈 공간의 왼쪽만 차지하도록 합니다. 막대 차트 범례는 반대쪽에 들어갑니다. \n\nstyled_map &lt;- text_map +\n  theme_void(base_size = 6, base_family = body_font) +\n  theme(\n    legend.position = \"none\",\n    plot.background = element_rect(\n      fill = bg_col,\n      color = bg_col,\n    ),\n    panel.grid.major = element_line(\n      color = alpha(text_col, 0.1)\n    ),\n    # add and position text\n    plot.tag.position = c(-0.01, 0.12),\n    plot.tag = element_textbox_simple(\n      family = korean_font,\n      color = text_col,\n      hjust = 0,\n      maxwidth = unit(200, \"pt\"),\n      margin = margin(\n        l = 15, t = 5, b = 10\n      )\n    )\n  )\nstyled_map\n\n\n\n\n\n\nFigure 12.12: 세계 지도에 다른 시간대 위치를 나타내는 점으로, 점은 지리적 지역별로 색상이 지정되어 있습니다. 제목과 부제목은 왼쪽 하단에 표시됩니다.\n\n\n\n\n\n12.4.5 patchwork로 플롯 결합하기\n마지막으로 범례 막대 차트를 메인 플롯에 결합해야 합니다. 이를 위해 patchwork (Pedersen 2024)를 사용합니다. patchwork 패키지를 사용하면 여러 시각화(ggplot2 그래픽, 기본 R 플롯 또는 gt 테이블 포함)를 단일 레이아웃으로 결합할 수 있습니다. 매우 유연하며 플롯을 간단한 행이나 열로 쉽게 정렬하거나 중첩된 플롯이 많은 매우 복잡한 레이아웃을 만들 수 있습니다. patchwork 패키지를 사용하면 삽입 플롯(inset plot), 즉 더 큰 플롯 내에 배치된 더 작은 플롯을 추가하여 추가 세부 정보를 제공할 수도 있습니다.\n\n\n\n\n\n\nTip 12.5: patchwork로 플롯 정렬하기\n\n\n\n이 책에는 여러 플롯을 나란히 배열하는 예제는 포함되어 있지 않지만 patchwork를 사용하면 매우 쉽게 할 수 있습니다. 두 개의 플롯 g1과 g2가 있는 경우 g1 + g2를 실행하기만 하면 나란히 배열할 수 있습니다. 어떤 플롯을 어디에 배치할지 그리드를 지정하여 더 복잡한 레이아웃을 얻을 수 있습니다. patchwork 패키지에는 멀티플롯 주석 또는 제목 추가, 모든 서브플롯에 걸친 일관된 테마, 여러 페이지에 걸친 플롯 정렬 정의를 위한 추가 함수도 포함되어 있습니다. 예제는 패키지 문서 patchwork.data-imaginist.com를 참조하십시오.\n\n\n이 시각화에서는 플롯을 나란히 배열하는 전통적인 접근 방식보다는 한 플롯(막대 차트)을 다른 플롯(메인 지도) 위에 배치하려고 합니다. styled_map으로 시작하여 inset_element() 함수를 사용하여 legend_plot을 위에 추가합니다. inset_element() 함수에 제공된 4개의 위치는 삽입 플롯의 왼쪽, 아래쪽, 오른쪽 및 위쪽 외부 경계입니다. 기본 단위는 npc(정규화된 부모 좌표)입니다. 이 설정에서 왼쪽 하단은 (0, 0)이고 오른쪽 상단은 (1, 1)입니다. 즉, left 외부 경계를 0.55로 지정하면 patchwork가 메인 플롯의 왼쪽에서 55% 들어간 지점에서 삽입 플롯의 왼쪽을 시작하도록 지시합니다. \n또한 theme() 함수를 사용하고 모든 여백을 0으로 설정하여 플롯 가장자리 주변의 추가 여백을 제거합니다. theme()을 patchwork 객체와 결합할 때는 + 대신 & 연산자를 사용하여 추가된다는 점을 기억하십시오. \n\nstyled_map + inset_element(legend_plot, 0.55, 0, 1, 0.3) &\n  theme(plot.margin = margin(0, 0, 0, 0))\n\n\n\n\n\n\nFigure 12.13: 세계 지도에 다른 시간대 위치를 나타내는 점으로, 점은 지리적 지역별로 색상이 지정되어 있습니다. 제목과 부제목은 왼쪽 하단에 표시되며, 범례로 사용되는 삽입 막대 차트는 오른쪽 하단에 표시됩니다.\n\n\n\n\n이제 지도가 완성되었으므로 ggsave()로 저장할 수 있습니다! \n\nggsave(\n  filename = \"time-zones.png\",\n  width = 5,\n  height = 0.92 * 5\n)",
    "crumbs": [
      "공간 데이터 시각화",
      "<span class='chapter-number'>12</span>  <span class='chapter-title'>시간대: **`sf`**를 사용한 공간 데이터 및 매핑</span>"
    ]
  },
  {
    "objectID": "time-zones.html#회고",
    "href": "time-zones.html#회고",
    "title": "12  시간대: sf를 사용한 공간 데이터 및 매핑",
    "section": "\n12.5 회고",
    "text": "12.5 회고\n이 플롯에서 무엇을 더 개선할 수 있을까요?\n막대 차트 범례는 지루하고 전통적인 범례보다는 개선되었지만 추가적인 개선이 필요할 수 있습니다. 예를 들어 막대 차트가 무엇을 보여주는지 바로 명확하지 않습니다. 시간이 조금 걸리면 독자들은 아마도 점의 수와 막대의 높이를 연결하겠지만 더 명확할 수 있습니다. 막대 차트에 숫자를 추가하면 가독성도 향상됩니다. 이것은 전통적인 y축을 사용하거나 더 유익한 레이블을 사용할 수 있습니다. 예를 들어 \"Africa\"라고 읽는 레이블 대신 \"Africa (18 time zones)\"라고 읽을 수 있습니다.\n막대 차트의 가독성을 향상시키는 것에 대해 이야기한다면 쉬운 조치는 막대(및 텍스트)를 수평으로 만드는 것입니다. 올바른 방향으로 된 텍스트를 읽는 것이 훨씬 쉽습니다!\n이 시각화의 원본 버전을 개발하는 과정에서 생성된 각 플롯은 camcorder를 사용하여 캡처되었으며 아래 gif에 표시됩니다. 데이터 시각화 프로세스에서 camcorder를 사용하는 방법에 대해 자세히 알아보려면 Section 14.1 를 참조하십시오.",
    "crumbs": [
      "공간 데이터 시각화",
      "<span class='chapter-number'>12</span>  <span class='chapter-title'>시간대: **`sf`**를 사용한 공간 데이터 및 매핑</span>"
    ]
  },
  {
    "objectID": "time-zones.html#연습-문제",
    "href": "time-zones.html#연습-문제",
    "title": "12  시간대: sf를 사용한 공간 데이터 및 매핑",
    "section": "\n12.6 연습 문제",
    "text": "12.6 연습 문제\n\n각 지리적 지역의 시간대 수에 대한 정보를 포함하도록 막대 차트 범례를 편집하십시오.\n수직 막대 대신 수평 막대를 갖도록 막대 차트를 편집하십시오.\n업데이트된 막대 차트 범례가 어디에 위치할지 고려하십시오. 막대가 수평인 경우 오른쪽 하단 모서리가 여전히 좋은 위치입니까? 다른 곳으로 옮겨 보십시오.\n\n\n\n\n\nAnscombe, F. J. 1973. “Graphs in Statistical Analysis.” The American Statistician 27 (1): 17–21. https://doi.org/10.1080/00031305.1973.10478966.\n\n\nAphalo, Pedro J. 2024. Learn R: As a Language. Second Edition. CRC Press. https://www.learnr-book.info/.\n\n\nAuguie, Baptiste. 2019. egg: Extensions for ’ggplot2’: Custom Geom, Custom Themes, Plot Alignment, Labelled Panels, Symmetric Scales, and Fixed Panel Size. https://CRAN.R-project.org/package=egg.\n\n\nBarthelme, Simon. 2024. imager: Image Processing Library Based on ’CImg’. https://CRAN.R-project.org/package=imager.\n\n\nBrand, Teun van den. 2025. “ggplot2 4.0.0.” https://www.tidyverse.org/blog/2025/09/ggplot2-4-0-0/.\n\n\nBridson, Robert. 2007. “Fast Poisson Disk Sampling in Arbitrary Dimensions.” In ACM SIGGRAPH 2007 Sketches. SIGGRAPH ’07. New York, NY, USA: Association for Computing Machinery. https://doi.org/10.1145/1278780.1278807.\n\n\nBrown, Mark J.F., and Paxton, Robert J. 2009. “The Conservation of Bees: A Global Perspective.” Apidologie 40 (3): 410–16. https://doi.org/10.1051/apido/2009019.\n\n\nCameron, Allan, and Teun van den Brand. 2024. geomtextpath: Curved Text in ’ggplot2’. https://CRAN.R-project.org/package=geomtextpath.\n\n\nCARTO. 2016. ’CARTOColors’ Palettes. https://carto.com/carto-colors/.\n\n\nChang, Winston. 2023. extrafont: Tools for Using Fonts. https://CRAN.R-project.org/package=extrafont.\n\n\nCheung, Foo. 2021. dumbbell: Displaying Changes Between Two Points Using Dumbbell Plots. https://CRAN.R-project.org/package=dumbbell.\n\n\nCowgill, Matt, and John Helveston. 2021. ggannotate: Interactively Annotate ggplot2 Plots. https://github.com/MattCowgill/ggannotate.\n\n\nCsárdi, Gábor, and Jim Hester. 2024. pak: Another Approach to Package Installation. https://CRAN.R-project.org/package=pak.\n\n\nCsárdi, Gábor, Jim Hester, Hadley Wickham, Winston Chang, Martin Morgan, and Dan Tenenbaum. 2024. remotes: R Package Installation from Remote Repositories, Including ’GitHub’. https://CRAN.R-project.org/package=remotes.\n\n\nDomin, Iaroslav. 2024. ggview: ’ggplot2’ Picture Previewer. https://CRAN.R-project.org/package=ggview.\n\n\nEngler, Jan Broder. 2024. “Tidyplots Empowers Life Scientists with Easy Code-Based Data Visualization.” bioRxiv. https://doi.org/10.1101/2024.11.08.621836.\n\n\nFC, Mike, Trevor L. Davis, and ggplot2 authors. 2024. ggpattern: ’ggplot2’ Pattern Geoms. https://CRAN.R-project.org/package=ggpattern.\n\n\nFlaticon.com. 2024. “Wind Power Flaticon.” https://www.flaticon.com/free-icon/wind-power_5670189.\n\n\nFont Awesome. 2024. “Font Awesome 6.” https://fontawesome.com/.\n\n\nFranconeri, Steven L., Lace M. Padilla, Priti Shah, Jeffrey M. Zacks, and Jessica Hullman. 2021. “The Science of Visual Data Communication: What Works.” Psychological Science in the Public Interest 22 (3): 110–61. https://doi.org/10.1177/15291006211051956.\n\n\nGarnier, Simon, Ross, Noam, Rudis, Robert, Camargo, et al. 2024. viridis(Lite) - Colorblind-Friendly Color Maps for R. https://doi.org/10.5281/zenodo.4679423.\n\n\nGohel, David, and Panagiotis Skintzos. 2024. ggiraph: Make ’ggplot2’ Graphics Interactive. https://CRAN.R-project.org/package=ggiraph.\n\n\nGovernment Analysis Function. 2021. “Data Visualisation: Colours.” https://analysisfunction.civilservice.gov.uk/policy-store/data-visualisation-colours-in-charts/.\n\n\nHafen, Ryan. 2023. geofacet: ’ggplot2’ Faceting Utilities for Geographical Data. https://CRAN.R-project.org/package=geofacet.\n\n\nHarmon, Jon. 2024. Web APIs with R. CRC Press. https://wapir.io/.\n\n\nHester, Jim, Florent Angly, Russ Hyde, Michael Chirico, Kun Ren, Alexander Rosenstock, and Indrajeet Patil. 2024. lintr: A ’Linter’ for R Code. https://CRAN.R-project.org/package=lintr.\n\n\nHester, Jim, and Jennifer Bryan. 2024. glue: Interpreted String Literals. https://glue.tidyverse.org/.\n\n\nHughes, Ellis. 2022a. camcorder: Record Your Plot History. https://CRAN.R-project.org/package=camcorder.\n\n\n———. 2022b. tidytuesdayR: Access the Weekly ’TidyTuesday’ Project Dataset. https://CRAN.R-project.org/package=tidytuesdayR.\n\n\nHvitfeldt, Emil. 2021. paletteer: Comprehensive Collection of Color Palettes. https://github.com/EmilHvitfeldt/paletteer.\n\n\n———. 2025. animalshelter: Animal Shelter Data. https://github.com/EmilHvitfeldt/animalshelter.\n\n\nIannone, Richard. 2024. fontawesome: Easily Work with ’Font Awesome’ Icons. https://CRAN.R-project.org/package=fontawesome.\n\n\nInternet Assigned Numbers Authority. 2023. “The tz Database: Time Zone and Daylight Saving Time Data.” Internet Assigned Numbers Authority. https://data.iana.org/time-zones/tz-link.html.\n\n\nJax (@lysrix). 2017. “Lemur.” https://unsplash.com/photos/red-and-white-rodent-h5xrh3CNT-k.\n\n\nKays, R., R. R. Dunn, A. W. Parsons, B. Mcdonald, T. Perkins, S. A. Powers, L. Shell, et al. 2020. “The Small Home Ranges and Large Local Ecological Impacts of Pet Cats.” Animal Conservation 23 (5): 516–23. https://doi.org/10.1111/acv.12563.\n\n\nKeyes, David. 2024. R for the Rest of Us: A Statistics-Free Introduction. No Starch Press. https://book.rfortherestofus.com/.\n\n\nLong Beach Animal Shelter. 2025. “Animal Shelter Data.” City of Long Beach Animal Care Services. https://data.longbeach.gov/explore/dataset/animal-shelter-intakes-and-outcomes/information/.\n\n\nLucchesi, Lydia, and Petra Kuhnert. 2020. Vizumap: Visualizing Uncertainty in Spatial Data. https://github.com/lydialucchesi/Vizumap.\n\n\nMapping Museums. 2021. “Mapping Museums Data.” www.mappingmuseums.org.\n\n\nMassicotte, Philippe, and Andy South. 2023. rnaturalearth: World Map Data from Natural Earth. https://docs.ropensci.org/rnaturalearth/.\n\n\nMatejka, Justin, and George Fitzmaurice. 2017. “Same Stats, Different Graphs: Generating Datasets with Varied Appearance and Identical Statistics Through Simulated Annealing.” In, 1290–94. https://doi.org/10.1145/3025453.3025912.\n\n\nMcDonald, J. L., and H. Cole. 2020. “Data from: The Small Home Ranges and Large Local Ecological Impacts of Pet Cats [United Kingdom].” Movebank data repository. https://doi.org/doi:10.5441/001/1.pf315732.\n\n\nMcWhite, Claire D., and Claus O. Wilke. 2024. colorblindr: Simulate colorblindness in R figures. https://github.com/clauswilke/colorblindr.\n\n\nMid-Atlantic Apiculture Research and Extension Consortium. 2024. “Seasonal Cycles of Activities in Colonies.” https://canr.udel.edu/maarec/honey-bee-biology/seasonal-cycles-of-activities-in-colonies/.\n\n\nmikefc. 2024. poissoned: Tileable Poisson Disc Sampling. https://github.com/coolbutuseless/poissoned.\n\n\nMills, Blake Robert. 2022. MetBrewer: Color Palettes Inspired by Works at the Metropolitan Museum of Art. https://CRAN.R-project.org/package=MetBrewer.\n\n\nMIT Election Data and Science Lab. 2017. “U.S. House 1976–2022.” Harvard Dataverse. https://doi.org/10.7910/DVN/IG0UN2.\n\n\nMüller, Kirill, and Lorenz Walthert. 2023. styler: Non-Invasive Pretty Printing of R Code. https://CRAN.R-project.org/package=styler.\n\n\nMüller, Kirill, and Hadley Wickham. 2023. tibble: Simple Data Frames. https://CRAN.R-project.org/package=tibble.\n\n\nMuth, Lisa. 2018. “An Alternative to Pink & Blue: Colors for Gender Data.” https://blog.datawrapper.de/gendercolor/.\n\n\nNatural Resources Canada. 2021. “Canadian Wind Turbine Database.” Natural Resources Canada (Government of Canada). https://open.canada.ca/data/en/dataset/79fdad93-9025-49ad-ba16-c26d718cc070.\n\n\nNoblet, Guillaume. 2025. ggbranding: Add Personal Branding to ’ggplot2’ Charts. https://github.com/gnoblet/ggbranding.\n\n\nNowosad, Jakub. 2018. ’CARTOColors’ Palettes. https://jakubnowosad.com/rcartocolor/.\n\n\nOoms, Jeroen. 2024. magick: Advanced Graphics and Image-Processing in R. https://CRAN.R-project.org/package=magick.\n\n\nOur World in Data. 2019. “Medical Doctors Per 1,000 People.” https://ourworldindata.org/grapher/physicians-per-1000-people.\n\n\nPebesma, Edzer. 2018. “Simple Features for R: Standardized Support for Spatial Vector Data.” The R Journal 10 (1): 439–46. https://doi.org/10.32614/RJ-2018-009.\n\n\nPedersen, Thomas Lin. 2022. ggforce: Accelerating ’ggplot2’. https://CRAN.R-project.org/package=ggforce.\n\n\n———. 2024. patchwork: The Composer of Plots. https://CRAN.R-project.org/package=patchwork.\n\n\n———. 2025. “Fonts in R.” https://www.tidyverse.org/blog/2025/05/fonts-in-r/.\n\n\nPedersen, Thomas Lin, and Martin Mitáš. 2024. marquee: Markdown Parser and Renderer for R Graphics. https://CRAN.R-project.org/package=marquee.\n\n\nPedersen, Thomas Lin, Jeroen Ooms, and Devon Govett. 2024. systemfonts: System Native Font Finding. https://CRAN.R-project.org/package=systemfonts.\n\n\nPedersen, Thomas Lin, and Maxim Shemanarev. 2023. ragg: Graphic Devices Based on AGG. https://CRAN.R-project.org/package=ragg.\n\n\nPLDB contributors. 2022. “PLDB: A Programming Language Database.” PLDB. https://pldb.com.\n\n\nQiu, Yixuan. 2022. sysfonts: Loading Fonts into R. https://CRAN.R-project.org/package=sysfonts.\n\n\n———. 2023. showtext: Using Fonts More Easily in R Graphs. https://CRAN.R-project.org/package=showtext.\n\n\nR Core Team. 2024. R: A Language and Environment for Statistical Computing. Vienna, Austria: R Foundation for Statistical Computing. https://www.R-project.org/.\n\n\nR4DS Online Learning Community. 2023. “Tidy Tuesday: A Weekly Social Data Project.” https://github.com/rfordatascience/tidytuesday.\n\n\nRennie, Nicola. 2023a. “Adding Social Media Icons to Charts with ggplot2.” https://nrennie.rbind.io/blog/adding-social-media-icons-ggplot2/.\n\n\n———. 2023b. “Creating Template Files with R.” https://nrennie.rbind.io/blog/script-templates-r/.\n\n\n———. 2023c. “Four Ways to Streamline Your R Workflows.” https://nrennie.rbind.io/blog/four-ways-streamline-r-workflows/.\n\n\n———. 2024a. ggtextcircle: Circular Text in ’ggplot2’. https://github.com/nrennie/ggtextcircle.\n\n\n———. 2024b. nobel: Access data from the Nobel Prize API via R. https://github.com/nrennie/nobel.\n\n\n———. 2024c. “tidytuesday.” GitHub Repository. GitHub. https://github.com/nrennie/tidytuesday.\n\n\nRennie, Nicola, and Andreas Krause. 2024. “Presenting data the Significance way - Part 1.” Significance 21 (3): 36–39. https://doi.org/10.1093/jrssig/qmae045.\n\n\nReynolds, Gina. 2025. “Everyday ggplot2 extension.” https://evamaerey.github.io/everyday_ggplot2_extension/.\n\n\nRStudio. 2018a. “forcats Hex Sticker.” https://github.com/rstudio/hex-stickers/blob/main/PNG/forcats.png.\n\n\n———. 2018b. “ggplot2 Hex Sticker.” https://github.com/rstudio/hex-stickers/blob/main/PNG/ggplot2.png.\n\n\n———. 2018c. “purrr Hex Sticker.” https://github.com/rstudio/hex-stickers/blob/main/PNG/purrr.png.\n\n\n———. 2018d. “readr Hex Sticker.” https://github.com/rstudio/hex-stickers/blob/main/PNG/readr.png.\n\n\n———. 2018e. “tibble Hex Sticker.” https://github.com/rstudio/hex-stickers/blob/main/PNG/tibble.png.\n\n\n———. 2020a. “dplyr Hex Sticker.” https://github.com/rstudio/hex-stickers/blob/main/PNG/dplyr.png.\n\n\n———. 2020b. “stringr Hex Sticker.” https://github.com/rstudio/hex-stickers/blob/main/PNG/stringr.png.\n\n\n———. 2020c. “tidyr Hex Sticker.” https://github.com/rstudio/hex-stickers/blob/main/PNG/tidyr.png.\n\n\nRudis, Bob, Ben Bolker, and Jan Schulz. 2017. ggalt: Extra Coordinate Systems, ’Geoms’, Statistical Transformations, Scales and Fonts for ’ggplot2’. https://CRAN.R-project.org/package=ggalt.\n\n\nRudis, Bob, and Dave Gandy. 2023. waffle: Create Waffle Chart Visualizations. https://CRAN.R-project.org/package=waffle.\n\n\nSarkar, Deepayan. 2008. Lattice: Multivariate Data Visualization with r. New York: Springer. http://lmdvr.r-forge.r-project.org.\n\n\nSchauberger, Philipp, and Alexander Walker. 2023. openxlsx: Read, Write and Edit xlsx Files. https://CRAN.R-project.org/package=openxlsx.\n\n\nScheuch, Christoph. 2025. owidapi: Access the Our World in Data Chart API. https://doi.org/10.32614/CRAN.package.owidapi.\n\n\nSchloerke, Barret, Di Cook, Joseph Larmarange, Francois Briatte, Moritz Marbach, Edwin Thoen, Amos Elberg, and Jason Crowley. 2024. GGally: Extension to ’ggplot2’. https://CRAN.R-project.org/package=GGally.\n\n\nSchloss, Karen B., Connor C. Gramazio, Allison T. Silverman, Madeline L. Parker, and Audrey S. Wang. 2019. “Mapping Color to Meaning in Colormap Data Visualizations.” IEEE Transactions on Visualization and Computer Graphics 25 (1): 810–19. https://doi.org/10.1109/TVCG.2018.2865147.\n\n\nShalloway, Bryan. 2023. funspotr: Spot R Functions & Packages. https://CRAN.R-project.org/package=funspotr.\n\n\nSievert, Carson. 2020. Interactive Web-Based Data Visualization with r, Plotly, and Shiny. Chapman; Hall/CRC. https://plotly-r.com.\n\n\nSlowikowski, Kamil. 2024. ggrepel: Automatically Position Non-Overlapping Text Labels with ’ggplot2’. https://CRAN.R-project.org/package=ggrepel.\n\n\nTierney, Nicholas. 2017. “visdat: Visualising Whole Data Frames.” JOSS 2 (16): 355. https://doi.org/10.21105/joss.00355.\n\n\nTierney, Nicholas, and Dianne Cook. 2023. “Expanding Tidy Data Principles to Facilitate Missing Data Exploration, Visualization and Assessment of Imputations.” Journal of Statistical Software 105 (7): 1–31. https://doi.org/10.18637/jss.v105.i07.\n\n\nTol, Paul. 2021. “Paul Tol’s Notes: Colour schemes and templates.” https://sronpersonalpages.nl/~pault/.\n\n\nUnited States Census Bureau. 2021a. “Historical Population Change Data (1910-2020).” https://www.census.gov/data/tables/time-series/dec/popchange-data-text.html.\n\n\n———. 2021b. “State Area Measurements and Internal Point Coordinates.” https://www.census.gov/geographies/reference-files/2010/geo/state-area.html.\n\n\nUnited States Department of Agriculture: Economics, Statistics and Market Information System. 2022. “Honey Bee Colonies.” USDA Economics, Statistics and Market Information System. https://usda.library.cornell.edu/concern/publications/rn301137d.\n\n\nWalker, Kyle. 2022. crsuggest: Obtain Suggested Coordinate Reference System Information for Spatial Data. https://CRAN.R-project.org/package=crsuggest.\n\n\nWanzer, Dana Linnell, Tarek Azzam, Natalie D. Jones, and Darrel Skousen. 2021. “The Role of Titles in Enhancing Data Visualization.” Evaluation and Program Planning 84: 101896. https://doi.org/10.1016/j.evalprogplan.2020.101896.\n\n\nWickham, Hadley. 2016. ggplot2: Elegant Graphics for Data Analysis. Springer-Verlag New York. https://ggplot2.tidyverse.org.\n\n\n———. 2023a. forcats: Tools for Working with Categorical Variables (Factors). https://doi.org/10.32614/CRAN.package.forcats.\n\n\n———. 2023b. stringr: Simple, Consistent Wrappers for Common String Operations. https://CRAN.R-project.org/package=stringr.\n\n\nWickham, Hadley, Mara Averick, Jennifer Bryan, Winston Chang, Lucy D’Agostino McGowan, Romain François, Garrett Grolemund, et al. 2019. “Welcome to the tidyverse.” Journal of Open Source Software 4 (43): 1686. https://doi.org/10.21105/joss.01686.\n\n\nWickham, Hadley, and Jennifer Bryan. 2023. readxl: Read Excel Files. https://CRAN.R-project.org/package=readxl.\n\n\nWickham, Hadley, Mine Çetinkaya-Rundel, and Garrett Grolemund. 2023. R for Data Science. Second Edition. O-Reilly. https://r4ds.hadley.nz.\n\n\nWickham, Hadley, Romain François, Lionel Henry, Kirill Müller, and Davis Vaughan. 2023. dplyr: A Grammar of Data Manipulation. https://CRAN.R-project.org/package=dplyr.\n\n\nWickham, Hadley, and Lionel Henry. 2023. purrr: Functional Programming Tools. https://CRAN.R-project.org/package=purrr.\n\n\nWickham, Hadley, Jim Hester, and Jennifer Bryan. 2024. readr: Read Rectangular Text Data. https://CRAN.R-project.org/package=readr.\n\n\nWickham, Hadley, Thomas Lin Pedersen, and Dana Seidel. 2023. scales: Scale Functions for Visualization. https://CRAN.R-project.org/package=scales.\n\n\nWickham, Hadley, Davis Vaughan, and Maximilian Girlich. 2024. tidyr: Tidy Messy Data. https://CRAN.R-project.org/package=tidyr.\n\n\nWilke, Claus. 2022. ggtextures: Drawing Textured Rectangles and Bars with grid and ggplot2. https://github.com/clauswilke/ggtextures.\n\n\nWilke, Claus O. 2024. cowplot: Streamlined Plot Theme and Plot Annotations for ’ggplot2’. https://wilkelab.org/cowplot/.\n\n\nWilke, Claus O., and Brenton M. Wiernik. 2022. ggtext: Improved Text Rendering Support for ’ggplot2’. https://CRAN.R-project.org/package=ggtext.\n\n\nwww.nobelprize.org. 2024. “Nobel Prize API Version 2.1.” https://api.nobelprize.org/2.1/laureates.\n\n\nYork, Piers. 2023. owidR: Import Data from Our World in Data. https://github.com/piersyork/owidR.\n\n\nYu, Guangchuang. 2023. ggimage: Use Image in ’ggplot2’. https://CRAN.R-project.org/package=ggimage.\n\n\nYutani, Hiroaki. 2023. gghighlight: Highlight Lines and Points in ’ggplot2’. https://CRAN.R-project.org/package=gghighlight.\n\n\nZehr, Sarah M., Richard G. Roach, David Haring, Julie Taylor, Freda H. Cameron, and Anne D. Yoder. 2014. “Life history profiles for 27 strepsirrhine primate taxa generated using captive data from the Duke Lemur Center.” Scientific Data 1 (1). https://doi.org/10.1038/sdata.2014.19.",
    "crumbs": [
      "공간 데이터 시각화",
      "<span class='chapter-number'>12</span>  <span class='chapter-title'>시간대: **`sf`**를 사용한 공간 데이터 및 매핑</span>"
    ]
  },
  {
    "objectID": "us-elections.html",
    "href": "us-elections.html",
    "title": "13  미국 하원 선거: geofacet을 이용한 그리드 위의 지리",
    "section": "",
    "text": "13.1 데이터\n이 장에서는 geofacet을 사용하여 지리적 영역과 유사한 그리드에 패싯 플롯을 배열하는 방법을 배우고, 사용자 정의 범례를 만드는 또 다른 접근 방식을 살펴봅니다.\n이 장을 마치면 다음을 할 수 있습니다:\n이 장에서 필요한 패키지를 로드하는 것으로 시작합니다.\n이 장에서는 지리적 영역의 모양으로 플롯 그리드를 배열하는 데 사용되는 geofacet이라는 새로운 패키지를 하나만 소개합니다. 이 패키지에는 다양한 국가 및 지역에 대한 미리 정의된 그리드가 많이 포함되어 있지만 자신만의 사용자 정의 그리드를 만들 수도 있습니다.\nMIT Election Data and Science Lab은 미국 민주주의를 개선하기 위해 미국 선거에 대한 데이터와 결과를 수집, 분석 및 공유합니다. 여기에는 선거구 수준의 미국 하원 선거에 대한 데이터가 포함됩니다 (MIT Election Data and Science Lab 2017). 데이터는 정기적으로 업데이트되며, 1976년부터 2022년까지의 선거 정보가 포함된 이 데이터 세트 버전은 2023년 11월 TidyTuesday 데이터 세트로 사용되었습니다. tidytuesdayR의 tt_load() 함수를 사용하여 데이터를 다시 로드할 수 있습니다:\ntuesdata &lt;- tt_load(\"2023-11-07\")\nhouse &lt;- tuesdata$house\n데이터에는 32452개의 행과 20개의 열이 있습니다. head()(또는 선호하는 경우 View())를 사용하여 데이터의 처음 몇 행을 살펴봅시다:\nhead(house)\n\n# A tibble: 6 × 20\n   year state  state_po state_fips state_cen state_ic office\n  &lt;dbl&gt; &lt;chr&gt;  &lt;chr&gt;         &lt;dbl&gt;     &lt;dbl&gt;    &lt;dbl&gt; &lt;chr&gt; \n1  1976 ALABA… AL                1        63       41 US HO…\n2  1976 ALABA… AL                1        63       41 US HO…\n3  1976 ALABA… AL                1        63       41 US HO…\n4  1976 ALABA… AL                1        63       41 US HO…\n5  1976 ALABA… AL                1        63       41 US HO…\n6  1976 ALABA… AL                1        63       41 US HO…\n# ℹ 13 more variables: district &lt;chr&gt;, stage &lt;chr&gt;,\n#   runoff &lt;lgl&gt;, special &lt;lgl&gt;, candidate &lt;chr&gt;,\n#   party &lt;chr&gt;, writein &lt;lgl&gt;, mode &lt;chr&gt;,\n#   candidatevotes &lt;dbl&gt;, totalvotes &lt;dbl&gt;,\n#   unofficial &lt;lgl&gt;, version &lt;dbl&gt;, fusion_ticket &lt;lgl&gt;\n많은 state 열이 있으며, 본질적으로 다른 형식으로 유사한 정보를 제공합니다. 예를 들어 state 열은 주 이름을 제공하고 state_po 열은 주의 두 글자 약어를 제공합니다. 또한 주 내의 선거구(지구)를 식별하는 열도 있습니다. 데이터는 후보자에 대한 정보(이름, 소속 정당, 출마한 선거에서 받은 득표 수)를 제공합니다. 다른 열은 총 투표 수, 선거 단계, 재보궐 선거 여부, 결선 투표 여부 등 선거에 대한 정보를 제공합니다. version 열에는 데이터의 릴리스 버전을 식별하는 데이터가 포함되어 있습니다.",
    "crumbs": [
      "공간 데이터 시각화",
      "<span class='chapter-number'>13</span>  <span class='chapter-title'>미국 하원 선거: **`geofacet`**을 이용한 그리드 위의 지리</span>"
    ]
  },
  {
    "objectID": "us-elections.html#탐색-작업",
    "href": "us-elections.html#탐색-작업",
    "title": "13  미국 하원 선거: geofacet을 이용한 그리드 위의 지리",
    "section": "\n13.2 탐색 작업",
    "text": "13.2 탐색 작업\nhouse 데이터는 매우 세분화되어 있어 하나의 차트에 모든 정보를 시각화하기는 어렵습니다. 따라서 데이터를 하위 집합화하거나 집계하는 다양한 방법을 생각해 볼 수 있습니다. 다음에 초점을 맞출 수 있습니다:\n\n주: 특정 주 내의 투표 패턴을 살펴보거나 선거구 수준 대신 주 수준 데이터를 살펴보도록 집계할 수 있습니다.\n정당: 후보자가 여러 정당을 대변하는 퓨전 티켓(fusion tickets)에 대한 데이터를 포함하여 각 후보자가 어느 정당에 출마했는지에 대한 정보가 있습니다.\n시간: 데이터는 1976년부터 2022년까지 제공되며, 시간 경과에 따른 득표율 또는 득표 수 추세를 살펴볼 수 있습니다.\n\n\n13.2.1 데이터 탐색\n시간이 지남에 따라 투표 수가 변경되었는지 여부를 간략하게 살펴보는 것으로 시작하겠습니다. 데이터는 1976년으로 거슬러 올라가며 미국의 인구는 1970년과 2020년 인구 조사 사이에 150% 이상 증가했으므로 (United States Census Bureau 2021a) 투표 수에서도 비슷한 증가를 예상할 수 있을까요? plot()으로 만든 빠른 산점도로 시간 경과에 따른 후보자 투표 수를 살펴보는 것으로 시작하겠습니다:\n\nplot(\n  x = house$year,\n  y = house$candidatevotes,\n  xlab = \"\",\n  ylab = \"후보자 득표 수\"\n)\n\n\n\n\n\n\nFigure 13.1: 시간에 따른 후보자 득표 수를 보여주는 산점도로, 선거가 2년마다 실시되며 시간이 지나도 큰 변화가 없음을 분명히 알 수 있습니다.\n\n\n\n\nFigure 13.1 의 시간 경과에 따른 투표 수에는 적어도 언뜻 보기에는 특별히 흥미로운 패턴이 없는 것 같습니다. 그러나 잠재적인 데이터 문제를 강조했습니다. 대부분의 연도에서 가장 높은 값은 약 300,000이지만 2022년에는 1,000,000이 넘는 두 개의 관측치가 있습니다. Chapter 4 에서도 비슷한 문제가 있었는데, 일부 관측치가 다른 관측치의 합계였습니다. 여기서는 그런 것 같지 않습니다. 지금은 이들을 제외하고 후보자 투표 수가 600,000 미만인 데이터를 살펴봅시다.\n또한 정당별로 후보자 투표 수가 어떻게 다른지 관심이 있을 수 있으며 boxplot() 함수를 사용하여 큰 차이가 있는지 알아볼 수 있습니다: \n\nboxplot(\n  candidatevotes ~ party,\n  data = house[house$candidatevotes &lt; 600000, ],\n  horizontal = TRUE,\n  las = 1,\n  xlab = \"후보자 득표 수\",\n  ylab = NULL\n)\n\n\n\n\n\n\nFigure 13.2: 각 정당의 후보자 득표 수를 보여주는 상자 그림으로, 고유한 정당 수가 많기 때문에(득표 수가 적음) 많은 정당 레이블이 숨겨져 있습니다.\n\n\n\n\nFigure 13.2 에는 주목할 만한 몇 가지 흥미로운 점이 있습니다. 첫째, 모든 무소속 후보가 다른 정당 이름으로 나열되기 때문에 고유한 party 이름이 매우 많습니다. 즉, 모든 정당 이름을 차트에서 실제로 읽을 수는 없습니다. 둘째, 데이터에 표시된 이상값이 많아 데이터가 매우 치우쳐 있습니다. 마지막으로, 다른 정당보다 득표 수가 훨씬 많은 두 정당이 있습니다. 데이터를 조사하면 짐작할 수 있듯이 민주당과 공화당임을 알 수 있습니다.\n\n13.2.2 탐색적 스케치\n이 기간 동안 민주당과 공화당이 선거를 지배했습니다. 숫자가 너무 적기 때문에 개별 무소속 후보에 대한 신뢰할 수 있는 통찰력을 도출할 수 없을 것이므로 다른 모든 정당 후보를 기타(other) 범주로 묶어 봅시다. Figure 13.1 과 Figure 13.2 을 결합하고 각 주에 대한 정보와 함께 시간과 공간에 따른 주요 정당의 득표율 변화 패턴이 있는지 살펴볼 수 있습니다.\n민주당, 공화당 및 기타 정당의 득표율을 보여주는 주별로 패싯된 영역 차트(area chart)를 만드는 것을 고려할 수 있습니다. 지리적으로 가까운 주는 유사한 패턴을 보일 가능성이 더 큽니다. 패싯된 영역 차트를 직사각형 그리드에 배열하는 대신 지리적 위치를 기반으로 배열하는 것이 더 합리적일 것입니다. 이렇게 하면 주 간의 패턴을 더 쉽게 비교할 수 있습니다. Figure 13.3 는 이것이 어떤 모습일지 보여주는 예입니다:\n\n\n\n\n\nFigure 13.3: 미국 모양의 그리드에 배열된 패싯 영역 차트의 초기 스케치.\n\n\n종종 패싯 차트에서는 x축과 y축이 여러 번 표시됩니다. 이로 인해 차트가 특히 이러한 지리적 레이아웃을 사용할 때 지나치게 복잡해(busy) 보일 수 있습니다. Chapter 6 및 Chapter 9 에서 했던 것처럼 매우 미니멀한 패싯 차트 세트를 만들고 색상 텍스트를 범례로 사용할 수 있습니다. 미니멀한 접근 방식이 더 깔끔해 보일 수 있지만 차트에 무엇이 표시되어 있는지 명확하지 않을 수도 있습니다. 패싯 플롯 중 하나의 확대 버전으로 만든 이 차트를 읽는 방법 설명자를 범례로 추가해 봅시다: \n\n\n\n\n\nFigure 13.4: 미국 모양의 그리드에 배열된 패싯 영역 차트의 초기 스케치. 영역 차트 하나의 확대 버전이 왼쪽의 범례로 사용됩니다.",
    "crumbs": [
      "공간 데이터 시각화",
      "<span class='chapter-number'>13</span>  <span class='chapter-title'>미국 하원 선거: **`geofacet`**을 이용한 그리드 위의 지리</span>"
    ]
  },
  {
    "objectID": "us-elections.html#플롯-준비",
    "href": "us-elections.html#플롯-준비",
    "title": "13  미국 하원 선거: geofacet을 이용한 그리드 위의 지리",
    "section": "\n13.3 플롯 준비",
    "text": "13.3 플롯 준비\nFigure 13.4 를 구현하려면 기타 정당을 집계하고 정당, 연도 및 주별로 투표 수를 계산하는 것으로 시작해야 합니다.\n\n13.3.1 데이터 랭글링\n기타 정당을 집계하기 위해 dplyr의 mutate()를 사용하여 기존 party 열을 업데이트합니다. case_when()을 사용하여 새로운 정당 범주를 만들고 두 주요 정당에 대해 약간 더 나은 대체 레이블을 제공할 기회를 잡습니다. \nstage 열에는 선거가 총선(\"GEN\")인지 예비 선거(\"PRI\")인지에 대한 정보가 포함되어 있습니다. 내용을 단순하게 유지하기 위해 dplyr의 filter()를 사용하여 데이터를 총선으로만 제한합니다. 그런 다음 group_by() 및 summarise()를 사용하여 각 연도, 주 및 정당 범주의 투표 수를 합산합니다. 마지막에는 데이터의 그룹 해제(ungroup())를 기억하십시오! \n\nhouse_data &lt;- house |&gt;\n  mutate(party = case_when(\n    party == \"REPUBLICAN\" ~ \"공화당\",\n    party == \"DEMOCRAT\" ~ \"민주당\",\n    TRUE ~ \"기타\"\n  )) |&gt;\n  filter(stage == \"GEN\") |&gt;\n  group_by(year, state_po, party) |&gt;\n  summarise(votes = sum(candidatevotes)) |&gt;\n  ungroup()\n\n일부 주에서는 \"other\" 후보가 없는 연도가 있으므로 이러한 값에 대한 행이 없습니다. 즉, 암시적으로 누락된 것입니다. Chapter 10 에서 보았듯이 이로 인해 오해의 소지가 있는 영역 차트가 생성되고 ggplot2에서 경고가 발생할 수 있습니다. Chapter 10 에서와 같이 이러한 누락된 값은 실제로 누락된 것이 아니라 단순히 0입니다. 이전에 했던 것처럼 tidyr의 complete()를 사용하여 year, state_po 및 party의 모든 조합이 데이터에 존재하도록 하고 누락된 조합을 명시적으로 0으로 설정합니다. \n\nplot_data &lt;- house_data |&gt;\n  complete(\n    year, state_po, party,\n    fill = list(votes = 0)\n  )\n\n\n13.3.2 첫 번째 플롯\nChapter 2, Chapter 3, 및 Chapter 5 에서 했던 것처럼 다시 패싯 플롯을 만들 것입니다. 이 플롯에는 두 가지 주요 차이점이 있습니다:\n\n플롯을 지정된 수의 행과 열이 있는 직사각형 모양으로 배열하는 대신 기본 지리(geography)와 유사한 방식으로 플롯을 배열하려고 합니다.\n이전에 만든 플롯(대부분 10개 미만)에 비해 훨씬 더 많은 패싯(50개 이상)이 있습니다. 때로는 많은 수의 패싯을 만드는 것이 느릴 수 있습니다.\n\n두 번째 문제 때문에 패싯 플롯을 개발할 때, 특히 대규모 데이터나 복잡한 시각화를 사용할 때 단일 플롯을 먼저 만드는 것이 유용할 수 있습니다. 즉, 데이터를 필터링하고 패싯 범주의 한 수준에 대해서만 차트를 만듭니다. 이렇게 하면 패싯 레이아웃에 대해 걱정하기 전에 차트의 기본 사항을 올바르게 설정할 수 있습니다.\n캘리포니아로만 데이터를 하위 집합화하는 dplyr의 filter() 함수로 감싼 plot_data를 ggplot()의 data 인수에 전달하는 것으로 시작합니다. 정당별로 나누어 x축에는 연도를, y축에는 득표 수를 플롯하도록 미적 매핑을 설정합니다. \nChapter 3 및 Chapter 10 에서 영역 차트를 만드는 예를 이미 보았지만 이 장에서는 약간의 변경을 줄 것입니다. 주(각각 인구 규모가 매우 다르므로 득표 수가 매우 다름)를 비교할 것이므로 득표 수의 영역 차트를 고려하는 대신 각 정당의 비율을 살펴볼 것입니다. 다행히도 geom_area() 내부에서 position = \"fill\"을 설정하면 이 작업이 수행되므로 이러한 백분율을 직접 계산할 필요가 없습니다. \n\nbasic_plot &lt;- ggplot(\n  data = filter(plot_data, state_po == \"CA\")\n) +\n  geom_area(\n    mapping = aes(\n      x = year, y = votes, fill = party\n    ),\n    position = \"fill\"\n  )\nbasic_plot\n\n\n\n\n\n\nFigure 13.5: 캘리포니아의 다양한 정당 범주에 대한 득표율을 보여주는 영역 차트. 기본 색상, 스타일 및 범례가 적용되었습니다.\n\n\n\n\n이제 패싯 값 중 하나에 대한 기본 플롯이 생겼습니다.\n\n\n\n\n\n\nTip 13.1: 데이터를 ggplot()으로 파이핑하기\n\n\n\nggplot의 첫 번째 인수는 data이므로 데이터를 첫 번째 인수로 명시적으로 명시하는 대신 ggplot() 함수로 파이핑할 수 있다는 의미입니다. 예를 들어 위의 코드는 다음과 같이 다시 쓸 수 있습니다:\n\nplot_data |&gt;\n  filter(state_po == \"CA\") |&gt;\n  ggplot() +\n  geom_area(\n    mapping = aes(\n      x = year, y = votes, fill = party\n    ),\n    position = \"fill\"\n  )\n\n이것은 ggplot() 내부에 filter()를 중첩하는 것보다 더 깔끔해 보일 수 있지만, 두 가지 이유로 ggplot()으로 파이핑하는 다른 예를 볼 가능성은 낮습니다:\n\n\n+와 |&gt;의 조합은 이상하게 보이며, 파이핑으로 인한 깔끔함보다 더 큽니다(개인적인 의견).\n매우 길고 복잡한 코드로 끝나는 것이 더 쉬워집니다. 데이터 랭글링과 플롯 코드를 분리하는 것이 종종 더 합리적입니다.\n\n\n\n이제 전체 데이터를 ggplot()에 전달(캘리포니아 하위 집합이 아님)하고 facet_wrap()을 추가하여 state_po의 각 값에 대한 영역 차트를 만들 수 있습니다. \n\nbasic_plot &lt;- ggplot(\n  data = plot_data\n) +\n  geom_area(\n    mapping = aes(\n      x = year, y = votes, fill = party\n    ),\n    position = \"fill\"\n  )\nbasic_plot +\n  facet_wrap(~state_po)\n\n\n\n\n\n\nFigure 13.6: 직사각형 그리드 모양으로 배열된 패싯 영역 차트로, 시간 경과에 따른 정당별 득표율을 보여줍니다. 패싯 레이블의 크기로 인해 영역 차트를 볼 수 없습니다.\n\n\n\n\nFigure 13.6 에서는 실제로 영역 차트를 볼 수 없고 패싯 레이블만 볼 수 있습니다. 이는 패싯 범주의 수가 많고 차트 크기가 작을 때 매우 일반적인 문제입니다. 플롯 테마를 조정할 때 이 문제를 조금 더 다룰 것입니다.\n\n13.3.3 geofacet으로 패싯하기\n패싯 플롯을 기본 지리와 유사한 그리드로 배열하기 위해 geofacet 패키 (Hafen 2023)를 사용합니다. geofacet 패키지를 사용하면 패싯을 지도 모양으로 쉽게 배열할 수 있습니다. 이를 통해 주나 국가와 같은 지역의 데이터를 그리드 형식으로 더 쉽게 비교할 수 있습니다. 미국을 위한 여러 그리드를 포함하여 다양한 지리적 지역에 대한 내장 그리드가 많이 있습니다. 그러나 다른 레이아웃을 선호하거나 플롯하려는 지역에 대한 그리드가 없는 경우 자신만의 사용자 정의 패싯 그리드를 만들 수도 있습니다.\ngeofacet으로 패싯을 수행하려면 facet_wrap() 대신 facet_geo()를 사용합니다. 기본적으로 같은 방식으로 작동하며 ~를 사용하여 패싯 컬럼을 지정하는 것으로 시작합니다. 그러나 약간 다른 점이 두 가지 있습니다: \n\n어떤 그리드 레이아웃을 사용할지 지정해야 합니다. geofacet의 get_grid_names() 함수를 사용하여 유효한 모든 그리드 이름 목록을 얻을 수 있습니다. 그리드 이름은 그리드가 어떤 지역에 대한 것인지에 따라 합리적으로 지정됩니다. 예를 들어 \"us_state_grid1\" 및 \"eu_grid1\"입니다. 여기서는 \"us_state_grid2\"를 사용합니다.\n데이터를 그리드의 올바른 패싯 위치에 매핑하려면 데이터의 열 중 하나가 선택한 그리드의 code 열에 있는 값과 일치해야 합니다. \"us_state_grid2\" 그리드에서 code 열에는 데이터의 state_po 열과 일치하는 두 글자 주 약어가 포함되어 있습니다. 두 글자 약어가 없는 경우 이를 첨부하기 위해 데이터 결합을 수행해야 할 수도 있습니다.\n\n추가 주(예: 푸에르토리코는 주가 아니더라도 미국 주 열에 나열될 수 있음)가 있거나 일부 주가 누락된 경우에도 facet_geo()를 사용할 수 있습니다. 그러나 패싯 그리드에 나열된 주만 플롯하고 경고 메시지를 받을 수 있습니다.\n\nmap_plot &lt;- basic_plot +\n  facet_geo(\n    ~state_po,\n    grid = \"us_state_grid2\"\n  )\nmap_plot\n\n\n\n\n\n\nFigure 13.7: 미국 모양의 그리드에 배열된 패싯 영역 차트로, 시간 경과에 따른 정당별 득표율을 보여줍니다. 패싯 레이블의 크기로 인해 영역 차트를 볼 수 없습니다.\n\n\n\n\n여전히 차트의 세부 정보를 볼 수 없다는 동일한 문제가 있지만 패싯 제목만 봐도 플롯이 이제 미국과 유사한 그리드에 배열되어 있음을 알 수 있습니다.",
    "crumbs": [
      "공간 데이터 시각화",
      "<span class='chapter-number'>13</span>  <span class='chapter-title'>미국 하원 선거: **`geofacet`**을 이용한 그리드 위의 지리</span>"
    ]
  },
  {
    "objectID": "us-elections.html#고급-스타일링",
    "href": "us-elections.html#고급-스타일링",
    "title": "13  미국 하원 선거: geofacet을 이용한 그리드 위의 지리",
    "section": "\n13.4 고급 스타일링",
    "text": "13.4 고급 스타일링\n이제 더 직관적인 색상을 적용하고, 차트를 더 쉽게 볼 수 있도록 패싯 레이블을 조정하고, 이 차트를 읽는 방법을 설명하는 사용자 정의 범례를 만들도록 차트 스타일을 지정합니다.\n\n13.4.1 색상\n미국에서 공화당은 빨간색으로, 민주당은 파란색으로 표시됩니다. Chapter 9 에서 논의했듯이 잘 알려진 범주에 사용할 색상을 선택할 때 부정적인 고정 관념(예: 여자는 분홍색)을 재생산하지 않는 것이 중요합니다. 그러나 직관적인 것을 사용하는 것도 중요합니다. 이들은 정당이 자신을 나타내기 위해 선택한 색상이고 매우 잘 알려져 있으므로 빨간색과 파란색을 고수할 것입니다. \n시각화가 이미 꽤 복잡하므로 배경색을 매우 단순하게 유지하여 흑백만 사용합니다.\n\nblue_col &lt;- \"#0015BC\"\nred_col &lt;- \"#C41E3A\"\nother_col &lt;- \"#AAAAAA\"\ntext_col &lt;- \"black\"\nbg_col &lt;- \"white\"\n\n그런 다음 scale_fill_manual()을 사용하여 플롯에 색상을 적용하고 values의 관련 정당 레이블에 각 색상을 할당할 수 있습니다. 나중에 자체 범례를 만들 것이므로 guide = \"none\"을 설정하여 기본 범례를 제거합니다. \n\ncol_plot &lt;- map_plot +\n  scale_fill_manual(\n    values = c(\n      \"민주당\" = blue_col,\n      \"공화당\" = red_col,\n      \"기타\" = other_col\n    ),\n    guide = \"none\"\n  )\n\n\n13.4.2 텍스트 및 글꼴\n이전 장에서와 같이 sysfonts 및 showtext 패키지를 사용하여 서체를 정의할 수 있습니다. 기본 글꼴의 경우 Chapter 11 에서 했던 것처럼 Roboto 서체를 사용합니다. 제목 텍스트의 경우 20세기 중반 광고에 사용된 서체에서 영감을 받은 Vernon Adams가 디자인한 디스플레이 글꼴인 Carter One을 사용합니다. 시각화 제목에 잘 어울리는 굵은 서체입니다. \n\nfont_add_google(name = \"Roboto\")\nfont_add_google(\n  name = \"Carter One\", family = \"Carter\"\n)\nfont_add_google(name = \"Noto Sans KR\", family = \"noto_sans_kr\")\nshowtext_auto()\nshowtext_opts(dpi = 300)\nbody_font &lt;- \"Roboto\"\ntitle_font &lt;- \"Carter\"\nkorean_font &lt;- \"noto_sans_kr\"\n\nChapter 7 와 Chapter 9 에서 했던 것처럼 색상 텍스트에 HTML 스타일링을 추가하기 위해 glue()를 사용하여 부제목에 대한 텍스트를 작성합니다. 색상 텍스트는 범례 역할을 하며(나중에 우리만의 사용자 정의 범례도 추가할 예정이지만), 부제목 텍스트는 차트가 보여주는 내용에 대한 정보를 제공합니다. 색상 텍스트는 읽기 쉽도록 굵은 텍스트로 서식을 지정합니다. Chapter 12 에서와 같이 데이터 소스에 대한 정보를 캡션이 아닌 부제목 끝줄에 추가합니다. 또한 Chapter 12 에서 했던 것처럼 텍스트 배치를 용이하게 하기 위해 제목 텍스트를 부제목 변수에 직접 추가합니다. \n\nst &lt;- glue(\"&lt;span style='font-size:10pt; font-family:{title_font}; color:{text_col};'&gt;미국 하원 선거 득표 현황&lt;/span&gt;&lt;br&gt;영역 차트는 1976년부터 2022년까지의 총선에서 &lt;span style='color:{blue_col};'&gt;**민주당**&lt;/span&gt;, &lt;span style='color:{red_col};'&gt;**공화당**&lt;/span&gt;, 및 &lt;span style='color:#aaaaaa;'&gt;**기타**&lt;/span&gt; 정당의 득표율을 나타냅니다.&lt;br&gt;&lt;br&gt;**데이터**: 미국 하원 1976–2022. MIT Election Data and Science Lab.\")\n\nChapter 7 에서 정의한 social_caption() 함수도 사용하며, 나중에 플롯 캡션으로 추가할 것입니다: \n\nsocial &lt;- social_caption(\n  icon_color = blue_col,\n  font_color = text_col,\n  font_family = body_font\n)\n\n그런 다음 부제목과 캡션 텍스트를 labs() 함수에 전달하여 플롯에 추가합니다. 부제목 텍스트를 일반적이지 않은 위치에 배치하려고 하므로 Chapter 12 에서 했던 것과 유사하게 subtitle보다는 tag 인수를 사용합니다. \n\ntext_plot &lt;- col_plot +\n  labs(\n    tag = st,\n    caption = social\n  )\n\n\n13.4.3 테마 조정\nFigure 13.7 에서 볼 수 있듯이 패싯 레이블이 너무 크고 현재 시각화를 지배하고 있다는 것을 알고 있습니다. 이에 대한 몇 가지 해결책이 있습니다:\n\n패싯 레이블을 훨씬 작게 만듭니다. 그러나 이렇게 하면 읽기 어렵고 레이블이 다소 무의미해질 수 있습니다.\n차트의 크기를 늘립니다. 여기서는 플롯의 물리적 너비에 제약을 받으므로 더 넓게 만들 수 없습니다. 플롯을 더 높게 만들 수는 있지만 단순히 레이블을 위해 꽤 많은 추가 공간을 추가하게 됩니다.\n우리만의 사용자 정의 패싯 레이블을 만듭니다.\n\n여기서는 세 번째 옵션을 선택하겠습니다. 나중에 theme() 함수를 사용하여 기본 패싯 레이블을 제거할 것입니다. 지금은 어떤 레이블을 추가할지 생각해 봅시다. 플롯의 공간을 절약하는 가장 쉬운 방법은 내부 패싯 레이블을 사용하는 것입니다(주 레이블을 영역 차트 내부에 배치). 이는 데이터의 일부를 숨기는 단점이 있습니다. 그러나 텍스트를 반투명하게 만들어 주 레이블과 뒤에 있는 영역 차트를 모두 볼 수 있도록 할 수 있습니다.\ngeom_text()로 텍스트 레이블을 추가합니다. 텍스트의 x 좌표 위치는 차트 중간에 자동으로 배치되도록 전체 plot_data 데이터의 연도 평균으로 설정됩니다. y 좌표 위치는 0.5로 설정됩니다. 즉, position = \"fill\" 인수가 y축을 0과 1 사이로 조정하므로 역시 차트의 중간입니다. alpha() 함수는 텍스트 색상의 투명도를 제어하는 데 사용됩니다. \n여기서 alpha()에 평소보다 훨씬 작은 값을 사용한다는 점에 유의하십시오. 이는 실제로 각 연도 및 정당 조합에 대해 하나씩, 여러 레이블이 서로 겹쳐서 그려지기 때문입니다. 이것이 반드시 문제는 아니지만 반투명 레이블을 만들려는 경우 동일한 반투명 레이블을 여러 장 겹쳐 놓으면 꽤 불투명한 레이블이 됩니다. 데이터 하나만 필터링하여 한 연도와 정당만 고려할 수도 있지만 geofacet 패키지는 때때로 이 접근 방식으로 레이블을 올바르게 렌더링하는 데 문제가 있습니다.\n\nstyled_plot_1 &lt;- text_plot +\n  geom_text(\n    mapping = aes(\n      x = mean(range(plot_data$year)),\n      y = 0.5,\n      label = state_po\n    ),\n    family = title_font,\n    color = alpha(bg_col, 0.02),\n    size = 2.5\n  )\n\n이전 장에서 했던 것처럼 coord_cartesian() 내부에서 expand = FALSE를 설정하여 각 플롯 패널 주변의 추가 공간을 제거합니다. 또한 미니멀한 모양을 목표로 하고 있으며 나중에 독자에게 일반적으로 축 레이블과 제목으로 전달되는 모든 정보를 제공하는 사용자 정의 범례를 디자인할 것이므로 theme_void()를 사용하여 추가 플롯 요소를 제거합니다. \n이전 장에서와 같이 element_rect() 함수를 사용하여 plot.background를 미리 정의된 배경색 변수로 설정합니다. 또한 plot.margin을 사용하여 플롯 여백을 조정합니다. 여기서는 왼쪽 플롯 여백을 매우 크게 만드는데, 여기에 사용자 정의 범례를 배치할 것이기 때문입니다. Chapter 9 에서 이 접근 방식의 장단점에 대해 논의했습니다. \nhjust에 음수 값을 선택하여 제목 텍스트를 플롯의 왼쪽, 넓은 여백에 배치할 수 있습니다. 0은 왼쪽 정렬을 의미하고 1은 오른쪽 정렬을 의미한다는 것을 기억하십시오. 음수 값은 본질적으로 매우 왼쪽 정렬을 의미합니다! 제목이 한 줄의 텍스트이기 때문에 여기서는 잘 작동하지만 여러 줄의 텍스트의 경우 텍스트 정렬이 이상하게 보일 수 있습니다. 즉, 부제목 텍스트(짧은 단락)의 경우 subtitle 대신 tag 텍스트를 사용합니다. plot.tag.position을 사용하면 텍스트가 표시될 좌표 벡터를 지정할 수 있으며 음수 x 좌표를 사용하여 텍스트를 넓어진 플롯 여백에 배치할 수도 있습니다. title과 tag 텍스트가 서로 정렬되도록 하려면 약간의 시행착오가 필요합니다. 플롯 tag 텍스트에 대한 자동 텍스트 줄 바꿈을 활성화하고 아이콘이 올바르게 렌더링되도록 캡션에 대해 element_textbox_simple()을 다시 사용합니다. \nstrip.background 및 strip.text 인수를 모두 element_blank()로 설정하여 모든 기본 패싯 레이블을 제거하고 panel.spacing을 사용하여 패싯 사이의 간격을 제어하고 더 가깝게 이동합니다. \n\nstyled_plot_2 &lt;- styled_plot_1 +\n  coord_cartesian(expand = FALSE) +\n  theme_void(base_size = 6, base_family = body_font) +\n  theme(\n    # Background elements\n    plot.background = element_rect(\n      fill = bg_col,\n      color = bg_col\n    ),\n    plot.margin = margin(5, 5, 5, 125),\n    plot.tag = element_textbox_simple(\n      family = korean_font,\n      hjust = 0,\n      color = text_col,\n      maxwidth = 0.65,\n      lineheight = 0.6,\n      size = rel(1.0)\n    ),\n    plot.caption = element_textbox_simple(\n      family = korean_font,\n      hjust = 1,\n      halign = 1,\n      color = text_col,\n      maxwidth = 0.65,\n      margin = margin(b = 0, t = 10)\n    ),\n    plot.tag.position = c(-0.50, 0.77),\n    # Facet arguments\n    strip.background = element_blank(),\n    strip.text = element_blank(),\n    panel.spacing = unit(0.05, \"lines\")\n  )\nstyled_plot_2\n\n\n\n\n\n\nFigure 13.8: 미국 모양의 그리드에 배열된 패싯 영역 차트로, 시간 경과에 따른 정당별 득표율을 보여줍니다. 왼쪽에 큰 빈 공간이 나타나며 여기에 나중에 범례가 배치됩니다.\n\n\n\n\n\n13.4.4 사용자 정의 범례 개발\nChapter 12 에서 했던 것처럼 사용자 정의 범례를 디자인할 것입니다. Chapter 12 에서는 막대 차트를 범례로 사용했는데, 이는 시각화의 또 다른 정보 소스 역할도 했습니다. 이 장에서 사용자 정의 범례는 그 대신 이 차트를 읽는 방법 설명자 역할을 할 것입니다. \n패싯 중 하나를 가져와 확대하고 차트에 어떤 데이터가 표시되는지 설명하는 주석을 추가할 수 있습니다. 메인 차트를 깔끔하게 유지하기 위해 현재 축 제목이나 레이블이 없습니다. 예를 들어 데이터가 어떤 연도를 다루는지 바로 알 수 없습니다. 이것을 모든 차트에 추가할 필요는 없지만 범례에는 주석으로 달아야 합니다. Chapter 9 에서 논의한 것처럼 색상에만 의존하지 않도록 차트의 접근성을 높이기 위해 차트의 민주당(Democratic Party) 및 공화당(Republican Party) 영역을 식별하는 직접 레이블도 추가할 것입니다.\n단일 주만 선택하도록 데이터를 필터링하는 것으로 시작하겠습니다. 어느 주를 선택하든 상관없지만 차트에 정당 레이블을 직접 추가할 수 있도록 충분한 공간이 있는 주가 이상적입니다. 여기서는 범례 플롯으로 캘리포니아(\"CA\")를 사용합니다. \n\nca_data &lt;- filter(plot_data, state_po == \"CA\")\n\n그런 다음 메인 플롯을 위해 작성된 코드를 재사용하여 ca_data를 ggplot() 함수에 전달한 다음 미적 매핑과 geom_area()로 영역 차트를 추가합니다. 색상과 사용자 정의 주(패싯) 레이블은 이 장의 앞부분에서 설명한 대로 scale_fill_manual() 및 geom_text()로 추가됩니다. \n\nca_plot &lt;- ggplot(data = ca_data) +\n  geom_area(\n    mapping = aes(\n      x = year,\n      y = votes,\n      fill = party\n    ),\n    position = \"fill\"\n  ) +\n  # label for state\n  geom_text(\n    mapping = aes(\n      x = mean(range(year)),\n      y = 0.5,\n      label = state_po\n    ),\n    family = title_font,\n    color = alpha(bg_col, 0.3),\n    size = 4\n  ) +\n  # colors\n  scale_fill_manual(\n    values = c(\n      \"민주당\" = blue_col,\n      \"공화당\" = red_col,\n      \"기타\" = other_col\n    ),\n    guide = \"none\"\n  )\n\n그런 다음 annotate() 함수를 사용하여 다음을 추가합니다: \n\n데이터의 시작 연도와 끝 연도에 대한 두 개의 레이블. 이것들을 플롯의 경계 내에 유지하기 위해 시작 레이블은 왼쪽 정렬하고 끝 레이블은 오른쪽 정렬합니다.\n공화당과 민주당에 대한 두 개의 레이블. 기타 범주는 매우 작고 남은 유일한 범주임이 분명하므로 레이블을 지정하지 않은 상태로 둡니다.\n\n메인 플롯에서와 같이 coord_cartesian() 내부에 expand = FALSE를 설정하여 가장자리 주변의 추가 공간을 제거합니다. 또한 주석이 필요한 모든 정보를 전달하므로 theme_void()를 사용하여 추가 차트 요소를 제거합니다. \n\np_inset &lt;- ca_plot +\n  # year labels\n  annotate(\n    geom = \"text\",\n    x = min(ca_data$year),\n    y = 0.05,\n    label = min(ca_data$year),\n    family = korean_font,\n    color = bg_col,\n    size = 3,\n    hjust = 0\n  ) +\n  annotate(\n    geom = \"text\",\n    x = max(ca_data$year),\n    y = 0.05,\n    label = max(ca_data$year),\n    family = korean_font,\n    color = bg_col,\n    size = 3,\n    hjust = 1\n  ) +\n  # Party labels\n  annotate(\n    geom = \"text\",\n    x = mean(range(ca_data$year)),\n    y = 0.8,\n    label = \"민주당\",\n    family = korean_font,\n    color = bg_col,\n    size = 3.5\n  ) +\n  annotate(\n    geom = \"text\",\n    x = mean(range(ca_data$year)),\n    y = 0.2,\n    label = \"공화당\",\n    family = korean_font,\n    color = bg_col,\n    size = 3.5\n  ) +\n  coord_cartesian(expand = FALSE) +\n  theme_void()\np_inset\n\n\n\n\n\n\nFigure 13.9: 캘리포니아 패싯의 확대 버전으로 구성된 사용자 정의 범례 플롯으로, 기간과 색상으로 표시된 범주를 나타내는 추가 주석이 있습니다.\n\n\n\n\n이제 사용자 정의 범례를 Figure 13.8 에 추가할 준비가 되었습니다.\n\n13.4.5 patchwork로 결합하기\n이제 마지막 단계는 사용자 정의 범례를 메인 플롯과 결합하는 것입니다. 이미 메인 플롯에 범례가 들어갈 빈 공간을 남겨 두었으므로 Chapter 12 에서 했던 것처럼 patchwork (Pedersen 2024)의 inset_element() 함수를 사용합니다. left, right, top, bottom 인수를 사용하여 메인 플롯과 관련하여 범례의 모서리가 나타날 위치를 선택합니다. 이 값을 올바르게 얻으려면 약간의 시행착오가 필요합니다! align_to = \"full\"을 설정하면 기본 설정에 따른 패널 영역만이 아니라 전체 차트 영역을 기준으로 좌표를 선택할 수 있습니다. \n\nfinal_plot &lt;- styled_plot_2 + inset_element(\n  p = p_inset,\n  left = 0.035,\n  bottom = 0.087,\n  right = 0.295,\n  top = 0.55,\n  align_to = \"full\"\n)\nfinal_plot\n\n\n\n\n\n\nFigure 13.10: 미국 모양의 그리드에 배열된 패싯 영역 차트로, 시간 경과에 따른 정당별 득표율을 보여줍니다. 캘리포니아의 영역 차트 확대 버전이 왼쪽의 범례로 사용됩니다.\n\n\n\n\n그런 다음 ggsave()로 파일에 저장할 수 있습니다! \n\nggsave(\n  filename = \"us-elections.png\",\n  plot = final_plot,\n  width = 5,\n  height = 0.5 * 5\n)",
    "crumbs": [
      "공간 데이터 시각화",
      "<span class='chapter-number'>13</span>  <span class='chapter-title'>미국 하원 선거: **`geofacet`**을 이용한 그리드 위의 지리</span>"
    ]
  },
  {
    "objectID": "us-elections.html#회고",
    "href": "us-elections.html#회고",
    "title": "13  미국 하원 선거: geofacet을 이용한 그리드 위의 지리",
    "section": "\n13.5 회고",
    "text": "13.5 회고\n이 시각화는 방대한 양의 복잡한 정보를 꽤 직관적인 방식으로 요약합니다. 색상은 인식 가능한 정당 색상과 일치하고, 그리드는 즉시 인식 가능한 모양으로 배열되며, 영역 차트는 시간 경과에 따른 득표율을 명확하게 나타냅니다. 그러나 몇 가지 더 개선할 수 있는 부분과 고려해야 할 다른 요소가 있습니다.\n주 두 글자 약어를 사용하면 공간을 절약하고 과도한 텍스트를 피할 수 있지만 독자가 특히 미국 지리에 익숙하지 않은 경우 관심 있는 주를 쉽게 찾기가 더 어렵습니다. 약어 아래에 작은 텍스트를 추가하거나 마우스를 갖다 대면 주 이름을 제공하는 대화형 버전을 만들면 더 쉬울 것입니다.\n\n\n\n\n\n\nTip 13.2: {ggplot2}를 이용한 인터랙티브 차트\n\n\n\n이 책은 정적 시각화를 만드는 데 중점을 두지만 웹 기반 결과물에 사용할 대화형 차트를 개발하는 데에도 관심이 있을 수 있습니다. R에는 대화형 시각화를 만들 수 있는 많은 패키지가 있으며 ggplot2 사용자에게 특히 유용한 몇 가지 패키지가 있습니다: \n\nplotly (Sievert 2020): plotly.js 자바스크립트 라이브러리를 사용하여 대화형 그래픽을 구축할 수 있습니다. ggplotly() 함수는 ggplot2 플롯을 plotly 플롯으로 변환하여 대화형 그래픽을 만드는 빠른 방법입니다.\nggiraph (Gohel and Skintzos 2024): ggplot2 그래픽에 툴팁, 확대/축소 및 클릭 가능한 요소를 추가할 수 있습니다.\n\n\n\n색상은 직관적이지만 강도가 비슷하기 때문에 가장 접근하기 쉬운 것은 아닙니다. Chapter 5 에서 했던 것처럼 colorblindr의 cvd_grid() 함수를 사용한다면 이 색상들이 훨씬 덜 구별되어 보일 수 있습니다. 밝은 파란색과 밝은 빨간색의 조합을 선택하거나 밝은 빨간색과 밝은 파란색의 조합을 선택하면 색상의 직관성은 유지되지만 접근성은 향상될 것입니다. \n득표율은 본질적으로 선거를 결정하는 것이므로 백분율을 표시하기 위해 영역 차트를 사용하는 것은 직관적이고 합리적입니다. 그러나 득표 수의 합계를 보는 것도 흥미로울 것입니다. 특히 주는 인구가 매우 다를 수 있기 때문입니다. 인구가 많은 주에서 백분율이 조금만 변경되어도 득표 수가 크게 변할 수 있지만, 이 시각화 버전에서는 이를 볼 수 없습니다.\n이 시각화의 원본 버전을 개발하는 과정에서 생성된 각 플롯은 camcorder를 사용하여 캡처되었으며 아래 gif에 표시됩니다. 데이터 시각화 프로세스에서 camcorder를 사용하는 방법에 대해 자세히 알아보려면 Section 14.1 를 참조하십시오.",
    "crumbs": [
      "공간 데이터 시각화",
      "<span class='chapter-number'>13</span>  <span class='chapter-title'>미국 하원 선거: **`geofacet`**을 이용한 그리드 위의 지리</span>"
    ]
  },
  {
    "objectID": "us-elections.html#연습-문제",
    "href": "us-elections.html#연습-문제",
    "title": "13  미국 하원 선거: geofacet을 이용한 그리드 위의 지리",
    "section": "\n13.6 연습 문제",
    "text": "13.6 연습 문제\n\n사용자 정의 범례 플롯으로 캘리포니아를 사용하는 대신 모든 주의 전체 투표율을 보여주는 플롯을 만드십시오. 차트를 해석하는 방법을 설명하기 위해 텍스트를 업데이트해야 합니까?\n득표율 대신 총 투표 수를 표시하도록 시각화를 편집하십시오. 비슷한 패턴이 보입니까? 자동화된 방식으로 주에 대한 패싯 레이블 위치를 어떻게 선택할 수 있습니까?\n\n\n\n\n\nAnscombe, F. J. 1973. “Graphs in Statistical Analysis.” The American Statistician 27 (1): 17–21. https://doi.org/10.1080/00031305.1973.10478966.\n\n\nAphalo, Pedro J. 2024. Learn R: As a Language. Second Edition. CRC Press. https://www.learnr-book.info/.\n\n\nAuguie, Baptiste. 2019. egg: Extensions for ’ggplot2’: Custom Geom, Custom Themes, Plot Alignment, Labelled Panels, Symmetric Scales, and Fixed Panel Size. https://CRAN.R-project.org/package=egg.\n\n\nBarthelme, Simon. 2024. imager: Image Processing Library Based on ’CImg’. https://CRAN.R-project.org/package=imager.\n\n\nBrand, Teun van den. 2025. “ggplot2 4.0.0.” https://www.tidyverse.org/blog/2025/09/ggplot2-4-0-0/.\n\n\nBridson, Robert. 2007. “Fast Poisson Disk Sampling in Arbitrary Dimensions.” In ACM SIGGRAPH 2007 Sketches. SIGGRAPH ’07. New York, NY, USA: Association for Computing Machinery. https://doi.org/10.1145/1278780.1278807.\n\n\nBrown, Mark J.F., and Paxton, Robert J. 2009. “The Conservation of Bees: A Global Perspective.” Apidologie 40 (3): 410–16. https://doi.org/10.1051/apido/2009019.\n\n\nCameron, Allan, and Teun van den Brand. 2024. geomtextpath: Curved Text in ’ggplot2’. https://CRAN.R-project.org/package=geomtextpath.\n\n\nCARTO. 2016. ’CARTOColors’ Palettes. https://carto.com/carto-colors/.\n\n\nChang, Winston. 2023. extrafont: Tools for Using Fonts. https://CRAN.R-project.org/package=extrafont.\n\n\nCheung, Foo. 2021. dumbbell: Displaying Changes Between Two Points Using Dumbbell Plots. https://CRAN.R-project.org/package=dumbbell.\n\n\nCowgill, Matt, and John Helveston. 2021. ggannotate: Interactively Annotate ggplot2 Plots. https://github.com/MattCowgill/ggannotate.\n\n\nCsárdi, Gábor, and Jim Hester. 2024. pak: Another Approach to Package Installation. https://CRAN.R-project.org/package=pak.\n\n\nCsárdi, Gábor, Jim Hester, Hadley Wickham, Winston Chang, Martin Morgan, and Dan Tenenbaum. 2024. remotes: R Package Installation from Remote Repositories, Including ’GitHub’. https://CRAN.R-project.org/package=remotes.\n\n\nDomin, Iaroslav. 2024. ggview: ’ggplot2’ Picture Previewer. https://CRAN.R-project.org/package=ggview.\n\n\nEngler, Jan Broder. 2024. “Tidyplots Empowers Life Scientists with Easy Code-Based Data Visualization.” bioRxiv. https://doi.org/10.1101/2024.11.08.621836.\n\n\nFC, Mike, Trevor L. Davis, and ggplot2 authors. 2024. ggpattern: ’ggplot2’ Pattern Geoms. https://CRAN.R-project.org/package=ggpattern.\n\n\nFlaticon.com. 2024. “Wind Power Flaticon.” https://www.flaticon.com/free-icon/wind-power_5670189.\n\n\nFont Awesome. 2024. “Font Awesome 6.” https://fontawesome.com/.\n\n\nFranconeri, Steven L., Lace M. Padilla, Priti Shah, Jeffrey M. Zacks, and Jessica Hullman. 2021. “The Science of Visual Data Communication: What Works.” Psychological Science in the Public Interest 22 (3): 110–61. https://doi.org/10.1177/15291006211051956.\n\n\nGarnier, Simon, Ross, Noam, Rudis, Robert, Camargo, et al. 2024. viridis(Lite) - Colorblind-Friendly Color Maps for R. https://doi.org/10.5281/zenodo.4679423.\n\n\nGohel, David, and Panagiotis Skintzos. 2024. ggiraph: Make ’ggplot2’ Graphics Interactive. https://CRAN.R-project.org/package=ggiraph.\n\n\nGovernment Analysis Function. 2021. “Data Visualisation: Colours.” https://analysisfunction.civilservice.gov.uk/policy-store/data-visualisation-colours-in-charts/.\n\n\nHafen, Ryan. 2023. geofacet: ’ggplot2’ Faceting Utilities for Geographical Data. https://CRAN.R-project.org/package=geofacet.\n\n\nHarmon, Jon. 2024. Web APIs with R. CRC Press. https://wapir.io/.\n\n\nHester, Jim, Florent Angly, Russ Hyde, Michael Chirico, Kun Ren, Alexander Rosenstock, and Indrajeet Patil. 2024. lintr: A ’Linter’ for R Code. https://CRAN.R-project.org/package=lintr.\n\n\nHester, Jim, and Jennifer Bryan. 2024. glue: Interpreted String Literals. https://glue.tidyverse.org/.\n\n\nHughes, Ellis. 2022a. camcorder: Record Your Plot History. https://CRAN.R-project.org/package=camcorder.\n\n\n———. 2022b. tidytuesdayR: Access the Weekly ’TidyTuesday’ Project Dataset. https://CRAN.R-project.org/package=tidytuesdayR.\n\n\nHvitfeldt, Emil. 2021. paletteer: Comprehensive Collection of Color Palettes. https://github.com/EmilHvitfeldt/paletteer.\n\n\n———. 2025. animalshelter: Animal Shelter Data. https://github.com/EmilHvitfeldt/animalshelter.\n\n\nIannone, Richard. 2024. fontawesome: Easily Work with ’Font Awesome’ Icons. https://CRAN.R-project.org/package=fontawesome.\n\n\nInternet Assigned Numbers Authority. 2023. “The tz Database: Time Zone and Daylight Saving Time Data.” Internet Assigned Numbers Authority. https://data.iana.org/time-zones/tz-link.html.\n\n\nJax (@lysrix). 2017. “Lemur.” https://unsplash.com/photos/red-and-white-rodent-h5xrh3CNT-k.\n\n\nKays, R., R. R. Dunn, A. W. Parsons, B. Mcdonald, T. Perkins, S. A. Powers, L. Shell, et al. 2020. “The Small Home Ranges and Large Local Ecological Impacts of Pet Cats.” Animal Conservation 23 (5): 516–23. https://doi.org/10.1111/acv.12563.\n\n\nKeyes, David. 2024. R for the Rest of Us: A Statistics-Free Introduction. No Starch Press. https://book.rfortherestofus.com/.\n\n\nLong Beach Animal Shelter. 2025. “Animal Shelter Data.” City of Long Beach Animal Care Services. https://data.longbeach.gov/explore/dataset/animal-shelter-intakes-and-outcomes/information/.\n\n\nLucchesi, Lydia, and Petra Kuhnert. 2020. Vizumap: Visualizing Uncertainty in Spatial Data. https://github.com/lydialucchesi/Vizumap.\n\n\nMapping Museums. 2021. “Mapping Museums Data.” www.mappingmuseums.org.\n\n\nMassicotte, Philippe, and Andy South. 2023. rnaturalearth: World Map Data from Natural Earth. https://docs.ropensci.org/rnaturalearth/.\n\n\nMatejka, Justin, and George Fitzmaurice. 2017. “Same Stats, Different Graphs: Generating Datasets with Varied Appearance and Identical Statistics Through Simulated Annealing.” In, 1290–94. https://doi.org/10.1145/3025453.3025912.\n\n\nMcDonald, J. L., and H. Cole. 2020. “Data from: The Small Home Ranges and Large Local Ecological Impacts of Pet Cats [United Kingdom].” Movebank data repository. https://doi.org/doi:10.5441/001/1.pf315732.\n\n\nMcWhite, Claire D., and Claus O. Wilke. 2024. colorblindr: Simulate colorblindness in R figures. https://github.com/clauswilke/colorblindr.\n\n\nMid-Atlantic Apiculture Research and Extension Consortium. 2024. “Seasonal Cycles of Activities in Colonies.” https://canr.udel.edu/maarec/honey-bee-biology/seasonal-cycles-of-activities-in-colonies/.\n\n\nmikefc. 2024. poissoned: Tileable Poisson Disc Sampling. https://github.com/coolbutuseless/poissoned.\n\n\nMills, Blake Robert. 2022. MetBrewer: Color Palettes Inspired by Works at the Metropolitan Museum of Art. https://CRAN.R-project.org/package=MetBrewer.\n\n\nMIT Election Data and Science Lab. 2017. “U.S. House 1976–2022.” Harvard Dataverse. https://doi.org/10.7910/DVN/IG0UN2.\n\n\nMüller, Kirill, and Lorenz Walthert. 2023. styler: Non-Invasive Pretty Printing of R Code. https://CRAN.R-project.org/package=styler.\n\n\nMüller, Kirill, and Hadley Wickham. 2023. tibble: Simple Data Frames. https://CRAN.R-project.org/package=tibble.\n\n\nMuth, Lisa. 2018. “An Alternative to Pink & Blue: Colors for Gender Data.” https://blog.datawrapper.de/gendercolor/.\n\n\nNatural Resources Canada. 2021. “Canadian Wind Turbine Database.” Natural Resources Canada (Government of Canada). https://open.canada.ca/data/en/dataset/79fdad93-9025-49ad-ba16-c26d718cc070.\n\n\nNoblet, Guillaume. 2025. ggbranding: Add Personal Branding to ’ggplot2’ Charts. https://github.com/gnoblet/ggbranding.\n\n\nNowosad, Jakub. 2018. ’CARTOColors’ Palettes. https://jakubnowosad.com/rcartocolor/.\n\n\nOoms, Jeroen. 2024. magick: Advanced Graphics and Image-Processing in R. https://CRAN.R-project.org/package=magick.\n\n\nOur World in Data. 2019. “Medical Doctors Per 1,000 People.” https://ourworldindata.org/grapher/physicians-per-1000-people.\n\n\nPebesma, Edzer. 2018. “Simple Features for R: Standardized Support for Spatial Vector Data.” The R Journal 10 (1): 439–46. https://doi.org/10.32614/RJ-2018-009.\n\n\nPedersen, Thomas Lin. 2022. ggforce: Accelerating ’ggplot2’. https://CRAN.R-project.org/package=ggforce.\n\n\n———. 2024. patchwork: The Composer of Plots. https://CRAN.R-project.org/package=patchwork.\n\n\n———. 2025. “Fonts in R.” https://www.tidyverse.org/blog/2025/05/fonts-in-r/.\n\n\nPedersen, Thomas Lin, and Martin Mitáš. 2024. marquee: Markdown Parser and Renderer for R Graphics. https://CRAN.R-project.org/package=marquee.\n\n\nPedersen, Thomas Lin, Jeroen Ooms, and Devon Govett. 2024. systemfonts: System Native Font Finding. https://CRAN.R-project.org/package=systemfonts.\n\n\nPedersen, Thomas Lin, and Maxim Shemanarev. 2023. ragg: Graphic Devices Based on AGG. https://CRAN.R-project.org/package=ragg.\n\n\nPLDB contributors. 2022. “PLDB: A Programming Language Database.” PLDB. https://pldb.com.\n\n\nQiu, Yixuan. 2022. sysfonts: Loading Fonts into R. https://CRAN.R-project.org/package=sysfonts.\n\n\n———. 2023. showtext: Using Fonts More Easily in R Graphs. https://CRAN.R-project.org/package=showtext.\n\n\nR Core Team. 2024. R: A Language and Environment for Statistical Computing. Vienna, Austria: R Foundation for Statistical Computing. https://www.R-project.org/.\n\n\nR4DS Online Learning Community. 2023. “Tidy Tuesday: A Weekly Social Data Project.” https://github.com/rfordatascience/tidytuesday.\n\n\nRennie, Nicola. 2023a. “Adding Social Media Icons to Charts with ggplot2.” https://nrennie.rbind.io/blog/adding-social-media-icons-ggplot2/.\n\n\n———. 2023b. “Creating Template Files with R.” https://nrennie.rbind.io/blog/script-templates-r/.\n\n\n———. 2023c. “Four Ways to Streamline Your R Workflows.” https://nrennie.rbind.io/blog/four-ways-streamline-r-workflows/.\n\n\n———. 2024a. ggtextcircle: Circular Text in ’ggplot2’. https://github.com/nrennie/ggtextcircle.\n\n\n———. 2024b. nobel: Access data from the Nobel Prize API via R. https://github.com/nrennie/nobel.\n\n\n———. 2024c. “tidytuesday.” GitHub Repository. GitHub. https://github.com/nrennie/tidytuesday.\n\n\nRennie, Nicola, and Andreas Krause. 2024. “Presenting data the Significance way - Part 1.” Significance 21 (3): 36–39. https://doi.org/10.1093/jrssig/qmae045.\n\n\nReynolds, Gina. 2025. “Everyday ggplot2 extension.” https://evamaerey.github.io/everyday_ggplot2_extension/.\n\n\nRStudio. 2018a. “forcats Hex Sticker.” https://github.com/rstudio/hex-stickers/blob/main/PNG/forcats.png.\n\n\n———. 2018b. “ggplot2 Hex Sticker.” https://github.com/rstudio/hex-stickers/blob/main/PNG/ggplot2.png.\n\n\n———. 2018c. “purrr Hex Sticker.” https://github.com/rstudio/hex-stickers/blob/main/PNG/purrr.png.\n\n\n———. 2018d. “readr Hex Sticker.” https://github.com/rstudio/hex-stickers/blob/main/PNG/readr.png.\n\n\n———. 2018e. “tibble Hex Sticker.” https://github.com/rstudio/hex-stickers/blob/main/PNG/tibble.png.\n\n\n———. 2020a. “dplyr Hex Sticker.” https://github.com/rstudio/hex-stickers/blob/main/PNG/dplyr.png.\n\n\n———. 2020b. “stringr Hex Sticker.” https://github.com/rstudio/hex-stickers/blob/main/PNG/stringr.png.\n\n\n———. 2020c. “tidyr Hex Sticker.” https://github.com/rstudio/hex-stickers/blob/main/PNG/tidyr.png.\n\n\nRudis, Bob, Ben Bolker, and Jan Schulz. 2017. ggalt: Extra Coordinate Systems, ’Geoms’, Statistical Transformations, Scales and Fonts for ’ggplot2’. https://CRAN.R-project.org/package=ggalt.\n\n\nRudis, Bob, and Dave Gandy. 2023. waffle: Create Waffle Chart Visualizations. https://CRAN.R-project.org/package=waffle.\n\n\nSarkar, Deepayan. 2008. Lattice: Multivariate Data Visualization with r. New York: Springer. http://lmdvr.r-forge.r-project.org.\n\n\nSchauberger, Philipp, and Alexander Walker. 2023. openxlsx: Read, Write and Edit xlsx Files. https://CRAN.R-project.org/package=openxlsx.\n\n\nScheuch, Christoph. 2025. owidapi: Access the Our World in Data Chart API. https://doi.org/10.32614/CRAN.package.owidapi.\n\n\nSchloerke, Barret, Di Cook, Joseph Larmarange, Francois Briatte, Moritz Marbach, Edwin Thoen, Amos Elberg, and Jason Crowley. 2024. GGally: Extension to ’ggplot2’. https://CRAN.R-project.org/package=GGally.\n\n\nSchloss, Karen B., Connor C. Gramazio, Allison T. Silverman, Madeline L. Parker, and Audrey S. Wang. 2019. “Mapping Color to Meaning in Colormap Data Visualizations.” IEEE Transactions on Visualization and Computer Graphics 25 (1): 810–19. https://doi.org/10.1109/TVCG.2018.2865147.\n\n\nShalloway, Bryan. 2023. funspotr: Spot R Functions & Packages. https://CRAN.R-project.org/package=funspotr.\n\n\nSievert, Carson. 2020. Interactive Web-Based Data Visualization with r, Plotly, and Shiny. Chapman; Hall/CRC. https://plotly-r.com.\n\n\nSlowikowski, Kamil. 2024. ggrepel: Automatically Position Non-Overlapping Text Labels with ’ggplot2’. https://CRAN.R-project.org/package=ggrepel.\n\n\nTierney, Nicholas. 2017. “visdat: Visualising Whole Data Frames.” JOSS 2 (16): 355. https://doi.org/10.21105/joss.00355.\n\n\nTierney, Nicholas, and Dianne Cook. 2023. “Expanding Tidy Data Principles to Facilitate Missing Data Exploration, Visualization and Assessment of Imputations.” Journal of Statistical Software 105 (7): 1–31. https://doi.org/10.18637/jss.v105.i07.\n\n\nTol, Paul. 2021. “Paul Tol’s Notes: Colour schemes and templates.” https://sronpersonalpages.nl/~pault/.\n\n\nUnited States Census Bureau. 2021a. “Historical Population Change Data (1910-2020).” https://www.census.gov/data/tables/time-series/dec/popchange-data-text.html.\n\n\n———. 2021b. “State Area Measurements and Internal Point Coordinates.” https://www.census.gov/geographies/reference-files/2010/geo/state-area.html.\n\n\nUnited States Department of Agriculture: Economics, Statistics and Market Information System. 2022. “Honey Bee Colonies.” USDA Economics, Statistics and Market Information System. https://usda.library.cornell.edu/concern/publications/rn301137d.\n\n\nWalker, Kyle. 2022. crsuggest: Obtain Suggested Coordinate Reference System Information for Spatial Data. https://CRAN.R-project.org/package=crsuggest.\n\n\nWanzer, Dana Linnell, Tarek Azzam, Natalie D. Jones, and Darrel Skousen. 2021. “The Role of Titles in Enhancing Data Visualization.” Evaluation and Program Planning 84: 101896. https://doi.org/10.1016/j.evalprogplan.2020.101896.\n\n\nWickham, Hadley. 2016. ggplot2: Elegant Graphics for Data Analysis. Springer-Verlag New York. https://ggplot2.tidyverse.org.\n\n\n———. 2023a. forcats: Tools for Working with Categorical Variables (Factors). https://doi.org/10.32614/CRAN.package.forcats.\n\n\n———. 2023b. stringr: Simple, Consistent Wrappers for Common String Operations. https://CRAN.R-project.org/package=stringr.\n\n\nWickham, Hadley, Mara Averick, Jennifer Bryan, Winston Chang, Lucy D’Agostino McGowan, Romain François, Garrett Grolemund, et al. 2019. “Welcome to the tidyverse.” Journal of Open Source Software 4 (43): 1686. https://doi.org/10.21105/joss.01686.\n\n\nWickham, Hadley, and Jennifer Bryan. 2023. readxl: Read Excel Files. https://CRAN.R-project.org/package=readxl.\n\n\nWickham, Hadley, Mine Çetinkaya-Rundel, and Garrett Grolemund. 2023. R for Data Science. Second Edition. O-Reilly. https://r4ds.hadley.nz.\n\n\nWickham, Hadley, Romain François, Lionel Henry, Kirill Müller, and Davis Vaughan. 2023. dplyr: A Grammar of Data Manipulation. https://CRAN.R-project.org/package=dplyr.\n\n\nWickham, Hadley, and Lionel Henry. 2023. purrr: Functional Programming Tools. https://CRAN.R-project.org/package=purrr.\n\n\nWickham, Hadley, Jim Hester, and Jennifer Bryan. 2024. readr: Read Rectangular Text Data. https://CRAN.R-project.org/package=readr.\n\n\nWickham, Hadley, Thomas Lin Pedersen, and Dana Seidel. 2023. scales: Scale Functions for Visualization. https://CRAN.R-project.org/package=scales.\n\n\nWickham, Hadley, Davis Vaughan, and Maximilian Girlich. 2024. tidyr: Tidy Messy Data. https://CRAN.R-project.org/package=tidyr.\n\n\nWilke, Claus. 2022. ggtextures: Drawing Textured Rectangles and Bars with grid and ggplot2. https://github.com/clauswilke/ggtextures.\n\n\nWilke, Claus O. 2024. cowplot: Streamlined Plot Theme and Plot Annotations for ’ggplot2’. https://wilkelab.org/cowplot/.\n\n\nWilke, Claus O., and Brenton M. Wiernik. 2022. ggtext: Improved Text Rendering Support for ’ggplot2’. https://CRAN.R-project.org/package=ggtext.\n\n\nwww.nobelprize.org. 2024. “Nobel Prize API Version 2.1.” https://api.nobelprize.org/2.1/laureates.\n\n\nYork, Piers. 2023. owidR: Import Data from Our World in Data. https://github.com/piersyork/owidR.\n\n\nYu, Guangchuang. 2023. ggimage: Use Image in ’ggplot2’. https://CRAN.R-project.org/package=ggimage.\n\n\nYutani, Hiroaki. 2023. gghighlight: Highlight Lines and Points in ’ggplot2’. https://CRAN.R-project.org/package=gghighlight.\n\n\nZehr, Sarah M., Richard G. Roach, David Haring, Julie Taylor, Freda H. Cameron, and Anne D. Yoder. 2014. “Life history profiles for 27 strepsirrhine primate taxa generated using captive data from the Duke Lemur Center.” Scientific Data 1 (1). https://doi.org/10.1038/sdata.2014.19.",
    "crumbs": [
      "공간 데이터 시각화",
      "<span class='chapter-number'>13</span>  <span class='chapter-title'>미국 하원 선거: **`geofacet`**을 이용한 그리드 위의 지리</span>"
    ]
  },
  {
    "objectID": "other-tricks.html",
    "href": "other-tricks.html",
    "title": "14  기타 팁과 요령",
    "section": "",
    "text": "14.1 camcorder로 gif 기록하기\n이 책의 장들에서 다룰 수 없는 ggplot2 내의 수많은 함수와 확장 패키지 커뮤니티의 더 많은 패키지들이 있습니다. 그중 일부 패키지는 다양한 지오메트리를 추가하는 데 사용되고, 일부는 워크플로를 간소화하는 데 뒤에서 사용되며, 일부는 더 일반적으로 유용한 R 패키지입니다.\n이 장을 마치면 다음을 할 수 있습니다:\n이 장에 필요한 패키지를 로드하는 것으로 시작합니다.\n이 장에서는 두 가지 새로운 패키지를 소개합니다:\ncamcorder (Hughes 2022a)는 ggplot2로 생성된 그래픽을 추적하고 자동으로 저장하는 R 패키지입니다. gg_record()를 실행하여 camcorder를 사용하도록 R 세션을 설정할 수 있습니다. RStudio를 사용하는 경우 이제 플롯이 Plots 탭 대신 Viewer 탭에 나타나는 것을 볼 수 있습니다.\ngg_record(\n  width = 6,\n  height = 4\n)\n이 책의 온라인 버전을 읽고 있다면 장의 끝에서 시각화 개발 과정을 보여주는 gif의 몇 가지 예를 보았을 것입니다. gg_playback() 함수는 이전에 저장된 이미지를 결합하고 gif로 저장합니다. gg_playback()의 인수를 사용하여 다양한 기본 설정을 지정할 수 있습니다. 예를 들어 gif의 각 프레임 길이를 정의하거나 첫 번째와 마지막 프레임을 더 길거나 짧게 만들거나 배경색을 설정할 수 있습니다.\ngg_playback(\n  name = \"data-viz.gif\",\n  first_image_duration = 4,\n  last_image_duration = 20,\n  frame_duration = .25,\n  background = bg_col\n)\ngeofacet으로 생성된 플롯을 포함하여 몇 가지 플롯은 gg_record()와 자동으로 작동하지 않습니다. 그러나 record_polaroid()를 수동으로 실행하여 camcorder로 이미지를 캡처하고 Viewer 창에서 원하는 해상도로 볼 수 있습니다.",
    "crumbs": [
      "<span class='chapter-number'>14</span>  <span class='chapter-title'>기타 팁과 요령</span>"
    ]
  },
  {
    "objectID": "other-tricks.html#sec-camcorder",
    "href": "other-tricks.html#sec-camcorder",
    "title": "14  기타 팁과 요령",
    "section": "",
    "text": "Tip 14.1: gif의 투명 배경\n\n\n\nggplot2의 일부 내장 테마는 투명 배경을 가지고 있습니다. 개발 과정 중 어느 시점에 이것들을 사용했다면 RStudio에서 볼 때 배경이 흰색으로 보였을 가능성이 큽니다. gg_playback()의 기본 배경색은 \"black\"입니다. 즉, gif가 기대한 것과 다르게 보일 수 있습니다. 대신 bg_col 변수와 같이 더 합리적인 것으로 배경색을 설정하십시오.\n\n\n\n\n\n14.1.1 이미지의 크기 해상도 설정\nRStudio에서 미리 보는 플롯을 수정하는 데 오랜 시간을 보낸 다음 ggsave()를 사용하여 고해상도 이미지를 저장하려고 했는데 텍스트가 생각보다 터무니없이 크거나(또는 작게) 보이는 경험을 한 적이 있습니까? 아니면 원하는 종횡비로 플롯을 미리 보는 데 어려움을 겪습니까? camcorder를 사용할 때의 좋은 기능 중 하나는 최종 플롯과 동일한 높이, 너비 및 해상도로 플롯을 미리 볼 수 있다는 것입니다. gg_record()의 height, width 및 dpi(선택적으로 units) 인수를 원하는 값으로 설정하기만 하면 됩니다. 그러면 보이는 대로 저장됩니다! ggview (Domin 2024) 패키지도 유사한 기능을 제공합니다.\n\n\n\n\n\n\nTip 14.2: 플롯 해상도 선택\n\n\n\nRStudio Plots 탭에는 이미지가 96dpi로 표시되지만 ggsave()의 기본값은 300dpi입니다. 이것이 텍스트와 다른 요소의 크기 불일치를 유발하는 원인입니다. gg_record()의 기본 dpi도 300dpi이므로 ggsave()와 잘 통합됩니다.",
    "crumbs": [
      "<span class='chapter-number'>14</span>  <span class='chapter-title'>기타 팁과 요령</span>"
    ]
  },
  {
    "objectID": "other-tricks.html#sec-ggbuild",
    "href": "other-tricks.html#sec-ggbuild",
    "title": "14  기타 팁과 요령",
    "section": "\n14.2 플롯에서 정보 추출하기",
    "text": "14.2 플롯에서 정보 추출하기\nChapter 6 에서 우리는 팬 아이콘 대신 풍력 터빈 아이콘을 사용하는 것이 더 낫다고 생각했습니다. 데이터가 풍력 터빈에 관한 것이기 때문입니다! Chapter 6 에서 사용한 Font Awesome 아이콘의 대안은 Flaticon의 아이콘입니다. 속성을 제공하는 한 Flaticon 아이콘을 PNG 이미지로 무료로 다운로드할 수 있습니다. 구체적으로 www.flaticon.com/free-icon/wind-power_5670189 (Flaticon.com 2024)에서 Wind Power 아이콘을 다운로드할 수 있습니다. images/ 프로젝트 디렉토리에 저장해 봅시다.\n이제 글꼴로 아이콘을 플롯하는 대신 이미지로 아이콘을 플롯하려고 합니다. 문제는 다음과 같습니다:\n\n우리는 geom_pictogram()에서 제공하는 아이콘의 x 및 y 좌표를 사용하고 싶습니다\n우리는 글꼴 아이콘 대신 이미지를 사용하고 싶습니다\n\n이 두 가지는 현재 호환되지 않습니다.\n\n14.2.1 좌표 추출\n우리는 이미 waffle의 geom_pictogram()으로 플롯을 만들었으므로 x 및 y 좌표가 이미 계산되었습니다. 다행스럽게도 ggplot_build() 함수를 사용하여 Chapter 6 에서 만든 basic_plot에서 추출할 수 있습니다. \n\nbasic_built &lt;- ggplot_build(basic_plot)\n\nggplot 플롯을 변수로 저장한 다음 ggplot_build()에 전달하여 플롯과 관련된 데이터( geom 함수에 의해 계산된 데이터 포함)에 액세스할 수 있습니다. 데이터는 basic_built$data[[1]] 요소에 저장됩니다. x, y 및 colour 변수는 모두 해당 열에 저장됩니다. 패면을 정의하는 데 사용되는 변수인 Year_Group은 PANEL 열에 저장되며 원래 범주 이름이 아닌 숫자로 제공됩니다.\n불행히도 PANEL은 패면 변수의 금지된 열 이름이므로 이 열의 이름 바꾸기부터 시작해야 합니다. 또한 이 이름이 변경된 열을 팩터로 변환하고 Chapter 6 의 Year_Group 범주를 레이블로 전달합니다. \n\nnew_data &lt;- basic_built$data[[1]] |&gt;\n  rename(Year_Group = PANEL) |&gt;\n  mutate(\n    Year_Group = factor(\n      Year_Group,\n      labels = c(\n        \"2000 - 2004\", \"2005 - 2009\",\n        \"2010 - 2014\", \"2015 - 2019\"\n      )\n    )\n  )\n\ngeom_point()를 사용하여 x 및 y 좌표가 우리가 기대하는 값인지 빠르게 확인하고 Year_Group 열로 패면을 만들어 봅시다. Figure 6.6 과의 유사성을 볼 수 있습니다.\n\nggplot(\n  data = new_data,\n  mapping = aes(\n    x = x, y = y\n  )\n) +\n  geom_point() +\n  facet_wrap(~Year_Group, nrow = 1) +\n  theme(\n    strip.text = element_text(family = korean_font)\n  )\n\n\n\n\n\n\nFigure 14.1: 서로 다른 기간에 시운전된 풍력 터빈 수의 와플 차트.\n\n\n\n\n\n14.2.2 ggpattern으로 플로팅\n이제 geom_point()를 사용하는 대신 이미지를 플롯하려고 합니다. ggimage (Yu 2023) 또는 ggpattern (FC, Davis, and ggplot2 authors 2024)을 사용할 수 있습니다. ggpattern 패키지는 기하학적 또는 이미지 패턴으로 채워진 영역을 지원하는 더 많은 ggplot2 geom 함수를 제공합니다. geom_tile_pattern() 함수를 사용할 수 있으며 \"image\" 패턴을 사용하고 싶다고 지정하고 Flaticon 이미지의 파일 이름을 pattern_filename에 제공할 수 있습니다. fill = \"white\"를 설정하면 아이콘에 흰색 배경이 제공됩니다. 또한 theme_void()를 설정하여 방해가 되는 모든 배경 요소를 제거할 수 있습니다.\n\nggplot(\n  data = new_data,\n  mapping = aes(\n    x = x, y = y\n  )\n) +\n  geom_tile_pattern(\n    fill = \"white\",\n    pattern = \"image\",\n    pattern_filename = \"images/wind-power.png\"\n  ) +\n  facet_wrap(~Year_Group, nrow = 1) +\n  theme_void()\n\n\n\n\n\n\nFigure 14.2: Flaticon.com 풍력 발전 아이콘을 사용하여 서로 다른 기간에 시운전된 풍력 터빈 수를 나타내는 픽토그램.\n\n\n\n\nRegion 변수를 기반으로 아이콘의 색상을 지정하려면 다른 색상의 이미지 사본이 여러 개 필요합니다. Chapter 9 의 이미지 조작 및 다시 색칠하기에 대한 정보와 Chapter 10 의 데이터 값을 기반으로 이미지 경로를 정의하는 정보를 결합하여 프로그래밍 방식으로 이를 수행할 수 있습니다.\n\n\n\n\n\n\nTip 14.3: R의 패턴 채우기\n\n\n\nggpattern 패키지는 R의 차트에 패턴 채우기를 추가하는 유일한 방법은 아닙니다. R 버전 4.1.0부터 기본 R의 grid 패키지를 통해 패턴과 그라디언트를 사용할 수 있게 되었으며, ggplot2의 버전 3.5.0은 해당 기능을 기반으로 일부 패턴 채우기를 핵심 ggplot2 패키지의 일부로 사용할 수 있게 했습니다.\n\n\nggplot2를 사용할 때의 장점 중 하나는 플롯이 목록으로 저장되고 해당 플롯에 대한 모든 정보가 함께 저장된다는 것입니다. 심지어 전달하지 않은 정보까지도요! 이를 통해 ggplot_build()를 사용하여 하나의 ggplot2 확장 패키지로 생성된 레이아웃을 가져와서 완전히 다른 확장에서 사용할 수 있습니다. 즉, 다른 확장의 기능을 혼합하고 일치시켜 사용자 정의 플롯을 만들 수 있습니다.",
    "crumbs": [
      "<span class='chapter-number'>14</span>  <span class='chapter-title'>기타 팁과 요령</span>"
    ]
  },
  {
    "objectID": "other-tricks.html#sec-code-style",
    "href": "other-tricks.html#sec-code-style",
    "title": "14  기타 팁과 요령",
    "section": "\n14.3 lintr 및 styler를 사용한 코드 형식 지정",
    "text": "14.3 lintr 및 styler를 사용한 코드 형식 지정\n일관된 스타일을 따르는 코드를 작성하면 다른 사람이 읽기 쉽고 협업이 간단해지며 코드의 오류를 더 빨리 발견하는 데 도움이 될 수 있습니다. R에서 lintr 패키지 (Hester et al. 2024)는 지정된 코딩 스타일 준수 여부를 확인하고 가능한 구문 오류를 식별한 다음 조치를 취할 수 있도록 보고합니다. \nstyler 패키지 (Müller and Walthert 2023)는 코드 스타일링 측면에서 한 단계 더 나아가 실제로 코드를 스타일링합니다. 작성한 스크립트를 덮어쓰는 패키지에 대해 조금 회의적일 수 있지만 코드를 빠르고 쉽게 스타일링할 수 있습니다. style_active_file() 함수에 대한 키보드 단축키를 만들면 함수를 수동으로 호출하거나 특정 버튼을 클릭할 필요 없이 코드 스타일링을 쉽게 적용할 수 있습니다 (Rennie 2023c). \n\n\n\n\n\n\nTip 14.4: R을 위한 새로운 포맷터\n\n\n\nstyler R 패키지의 대안으로 2025년 초에 출시된 R 포맷터인 Air를 탐색해 볼 수 있습니다. Air는 실행하는 데 R 자체가 필요하지 않으며 styler보다 훨씬 빠릅니다. 그러나 구현된 스타일링을 사용자 정의하기는 덜 쉽습니다.",
    "crumbs": [
      "<span class='chapter-number'>14</span>  <span class='chapter-title'>기타 팁과 요령</span>"
    ]
  },
  {
    "objectID": "other-tricks.html#sec-template-files",
    "href": "other-tricks.html#sec-template-files",
    "title": "14  기타 팁과 요령",
    "section": "\n14.4 TidyTuesday용 템플릿 파일",
    "text": "14.4 TidyTuesday용 템플릿 파일\n이 책의 각 장이 유사한 구조를 따랐다는 것을 눈치챘을 것입니다: 패키지 로드, 일부 데이터 읽기, 탐색적 분석 수행, 변수로 글꼴 및 색상 로드, 관련 텍스트 작성, 간단한 플롯 생성, ggtext로 스타일 추가 및 PNG 파일 저장. 즉, 각 플롯마다 .R 파일의 구조와 포함된 코드에 많은 중복이 있습니다.\nR을 사용하여 정기적으로 데이터를 시각화하는 경우 유사한 단계를 반복하는 자신을 발견할 수 있습니다. 이전 파일의 코드를 새 파일로 복사하여 붙여넣는 자신을 발견할 수도 있습니다. 프로그래밍 세계의 많은 것들과 마찬가지로 동일한 작업을 여러 번 복사하여 붙여넣는 경우 거의 확실히 더 좋은 방법이 있습니다. 그리고 이 경우에는 템플릿 파일이 있습니다! \n각 TidyTuesday 시각화에 대해 다음 파일이 있는 .R 스크립트를 만들 수 있습니다 (Rennie 2023b):\n\ndate_str &lt;- \"2024-04-02\"\n\n# Load packages ----\n\nlibrary(tidyverse)\nlibrary(showtext)\nlibrary(patchwork)\nlibrary(camcorder)\nlibrary(ggtext)\nlibrary(glue)\n\nsource(\"source_caption.R\")\nsource(\"social_caption.R\")\n\n\n# Load data ----\n\ntuesdata &lt;- tidytuesdayR::tt_load(date_str)\n\n\n# Load fonts ----\n\nfont_add_google(\"Roboto\", \"roboto\")\nshowtext_auto()\n\n\n# Define colors and fonts ----\n\nbg_col &lt;- \"\"\ntext_col &lt;- \"\"\nhighlight_col &lt;- \"\"\n\nbody_font &lt;- \"roboto\"\ntitle_font &lt;- \"roboto\"\n\n\n# Data wrangling ----\n\n\n\n# Start recording ----\n\ngg_record(\n  dir = file.path(date_str, \"recording\"),\n  device = \"png\",\n  width = 7,\n  height = 5,\n  units = \"in\",\n  dpi = 300\n)\n\n\n# Define text ----\n\nsocial &lt;- social_caption(\n  bg_color = bg_col,\n  icon_color = highlight_col,\n  font_color = text_col,\n  font_family = body_font\n)\ntitle &lt;- \"\"\nsubtitle &lt;- \"\"\ncaption &lt;- source_caption(\n  source = \"\",\n  sep = \"&lt;br&gt;\",\n  graphic = social\n)\n\n\n# Plot ----\n\n\ntheme(\n  plot.margin = margin(5, 5, 5, 5),\n  plot.background = element_rect(\n    fill = bg_col,\n    color = bg_col\n  ),\n  panel.background = element_rect(\n    fill = bg_col,\n    color = bg_col\n  ),\n  plot.title = element_textbox_simple(\n    color = text_col,\n    hjust = 0.5,\n    halign = 0.5,\n    margin = margin(b = 10, t = 5),\n    lineheight = 0.5,\n    family = title_font\n  ),\n  plot.subtitle = element_textbox_simple(\n    color = text_col,\n    hjust = 0.5,\n    halign = 0.5,\n    margin = margin(b = 10, t = 5),\n    lineheight = 0.5,\n    family = body_font\n  ),\n  plot.caption = element_textbox_simple(\n    color = text_col,\n    hjust = 0.5,\n    halign = 0.5,\n    margin = margin(b = 5, t = 10),\n    lineheight = 0.5,\n    family = body_font\n  )\n)\n\n\n# Save gif ----\n\ngg_playback(\n  name = file.path(date_str, paste0(date_str, \".gif\")),\n  first_image_duration = 4,\n  last_image_duration = 20,\n  frame_duration = .25,\n  background = bg_col\n)\n\n이 스크립트를 유용하게 만드는 몇 가지 구성 요소가 있습니다:\n\n시각화 생성 과정을 더 작고 관리하기 쉬운 청크로 나누는 데 도움이 되는 여러 섹션으로 분리되어 있습니다. RStudio에서는 Ctrl+Shift+R 키보드 단축키를 사용하여 새 섹션을 추가할 수 있습니다.\n다양한 시각화에서 반복적으로 사용되는 변수와 코드 조각을 정의합니다. 예를 들어 색상과 글꼴에 대한 변수를 정의하거나 ggtext의 테마 요소를 사용하여 제목 및 부제목 텍스트의 스타일을 지정합니다.\n각 플롯마다 비슷하지만 정확히 동일하지는 않은 스크립트 요소도 있습니다. 예를 들어 tidytuesdayR 패키지를 사용하여 데이터를 읽거나 gcamcorder가 생성한 gif를 저장하는 경우입니다. 여기서 코드는 TidyTuesday 데이터와 관련된 날짜에 따라 변경됩니다. 각 위치의 스크립트에서 날짜를 수동으로 편집하는 대신 스크립트 상단에 date_str 변수가 정의되어 있으므로 날짜를 한 번만 설정하면 됩니다.\n\n데이터 시각화 워크플로의 다른 측면에 대한 템플릿 파일을 만들 수도 있습니다. 예를 들어 각 시각화에 대한 README.md 파일을 만듭니다.",
    "crumbs": [
      "<span class='chapter-number'>14</span>  <span class='chapter-title'>기타 팁과 요령</span>"
    ]
  },
  {
    "objectID": "other-tricks.html#나만의-도우미-함수-작성하기",
    "href": "other-tricks.html#나만의-도우미-함수-작성하기",
    "title": "14  기타 팁과 요령",
    "section": "\n14.5 나만의 도우미 함수 작성하기",
    "text": "14.5 나만의 도우미 함수 작성하기\nChapter 6 및 Chapter 7 에서 이미 보았듯이 자주 재사용하는 코드에 대한 함수를 만들면 시간과 공간을 절약할 수 있습니다. 데이터 소스 속성이 있는 캡션을 추가하고 Font Awesome 아이콘이 포함된 플롯 캡션을 작성하기 위해 source_caption() 및 social_caption() 함수를 만들었습니다. 이러한 함수는 거의 모든 후속 장(따라서 이전 섹션에서 설명한 템플릿 파일)에서 사용되었습니다. 어떤 다른 도우미 함수가 유용할 수 있을까요? \n\nFont Awesome 아이콘을 사용하려면 Font Awesome 글꼴 파일을 로드해야 합니다. 우리는 sysfonts::font_add()를 사용하고 글꼴 파일 경로를 지정하여 이 작업을 수행했습니다. 시스템이나 Google Fonts를 통해 일반적으로 사용할 수 없는 다른 글꼴을 로드하고 싶을 수도 있습니다. 자주 사용하는 (여러) 글꼴 파일을 로드하는 함수를 작성할 수 있습니다. 한 단계 더 나아가 글꼴과 글꼴 로딩 함수를 R 패키지에 넣을 수도 있습니다.\n이전 섹션에서 설명한 템플릿 파일의 경우 날짜가 스크립트 상단에 변수로 정의되었습니다. 대신 날짜를 인수로 취하는 함수를 만들 수 있습니다. 그러면 함수가 .R 스크립트를 만들고 날짜를 필요한 위치에 삽입하고 파일을 원하는 위치에 저장할 수 있습니다.\n기업 보고서용 플롯을 만드는 경우 나만의 ggplot2 테마 및 색상 팔레트 함수를 만들면 모든 시각화에 동일한 스타일과 색상을 구현하는 시간을 절약할 수 있습니다. 또한 함께 일하는 다른 사람들이 동일한 스타일을 더 쉽게 사용할 수 있습니다.\n\n\n자주 하는 모든 작업에 대한 도우미 함수를 만들 수 있습니다. 캡션에 Font Awesome 아이콘을 사용하지 않는 경우 social_caption() 함수를 만들 필요가 없습니다. 그러나 예를 들어 항상 특정 배경색과 특정 크기로 이미지를 저장하는 경우 이를 수행하는 함수를 만드십시오. 얼마나 많은 시간을 절약할 수 있는지 놀랄 것입니다.",
    "crumbs": [
      "<span class='chapter-number'>14</span>  <span class='chapter-title'>기타 팁과 요령</span>"
    ]
  },
  {
    "objectID": "other-tricks.html#연습-문제",
    "href": "other-tricks.html#연습-문제",
    "title": "14  기타 팁과 요령",
    "section": "\n14.6 연습 문제",
    "text": "14.6 연습 문제\n\ngithub.com/rfordatascience/tidytuesday에서 사용 가능한 TidyTuesday 데이터세트를 찾아보고 흥미로운 것을 선택하십시오.\n이 책에서 배운 기술과 기법을 사용하여 데이터에 대한 이야기를 전하는 자신만의 시각화를 만드십시오.\n\n\n\n\n\nAnscombe, F. J. 1973. “Graphs in Statistical Analysis.” The American Statistician 27 (1): 17–21. https://doi.org/10.1080/00031305.1973.10478966.\n\n\nAphalo, Pedro J. 2024. Learn R: As a Language. Second Edition. CRC Press. https://www.learnr-book.info/.\n\n\nAuguie, Baptiste. 2019. egg: Extensions for ’ggplot2’: Custom Geom, Custom Themes, Plot Alignment, Labelled Panels, Symmetric Scales, and Fixed Panel Size. https://CRAN.R-project.org/package=egg.\n\n\nBarthelme, Simon. 2024. imager: Image Processing Library Based on ’CImg’. https://CRAN.R-project.org/package=imager.\n\n\nBrand, Teun van den. 2025. “ggplot2 4.0.0.” https://www.tidyverse.org/blog/2025/09/ggplot2-4-0-0/.\n\n\nBridson, Robert. 2007. “Fast Poisson Disk Sampling in Arbitrary Dimensions.” In ACM SIGGRAPH 2007 Sketches. SIGGRAPH ’07. New York, NY, USA: Association for Computing Machinery. https://doi.org/10.1145/1278780.1278807.\n\n\nBrown, Mark J.F., and Paxton, Robert J. 2009. “The Conservation of Bees: A Global Perspective.” Apidologie 40 (3): 410–16. https://doi.org/10.1051/apido/2009019.\n\n\nCameron, Allan, and Teun van den Brand. 2024. geomtextpath: Curved Text in ’ggplot2’. https://CRAN.R-project.org/package=geomtextpath.\n\n\nCARTO. 2016. ’CARTOColors’ Palettes. https://carto.com/carto-colors/.\n\n\nChang, Winston. 2023. extrafont: Tools for Using Fonts. https://CRAN.R-project.org/package=extrafont.\n\n\nCheung, Foo. 2021. dumbbell: Displaying Changes Between Two Points Using Dumbbell Plots. https://CRAN.R-project.org/package=dumbbell.\n\n\nCowgill, Matt, and John Helveston. 2021. ggannotate: Interactively Annotate ggplot2 Plots. https://github.com/MattCowgill/ggannotate.\n\n\nCsárdi, Gábor, and Jim Hester. 2024. pak: Another Approach to Package Installation. https://CRAN.R-project.org/package=pak.\n\n\nCsárdi, Gábor, Jim Hester, Hadley Wickham, Winston Chang, Martin Morgan, and Dan Tenenbaum. 2024. remotes: R Package Installation from Remote Repositories, Including ’GitHub’. https://CRAN.R-project.org/package=remotes.\n\n\nDomin, Iaroslav. 2024. ggview: ’ggplot2’ Picture Previewer. https://CRAN.R-project.org/package=ggview.\n\n\nEngler, Jan Broder. 2024. “Tidyplots Empowers Life Scientists with Easy Code-Based Data Visualization.” bioRxiv. https://doi.org/10.1101/2024.11.08.621836.\n\n\nFC, Mike, Trevor L. Davis, and ggplot2 authors. 2024. ggpattern: ’ggplot2’ Pattern Geoms. https://CRAN.R-project.org/package=ggpattern.\n\n\nFlaticon.com. 2024. “Wind Power Flaticon.” https://www.flaticon.com/free-icon/wind-power_5670189.\n\n\nFont Awesome. 2024. “Font Awesome 6.” https://fontawesome.com/.\n\n\nFranconeri, Steven L., Lace M. Padilla, Priti Shah, Jeffrey M. Zacks, and Jessica Hullman. 2021. “The Science of Visual Data Communication: What Works.” Psychological Science in the Public Interest 22 (3): 110–61. https://doi.org/10.1177/15291006211051956.\n\n\nGarnier, Simon, Ross, Noam, Rudis, Robert, Camargo, et al. 2024. viridis(Lite) - Colorblind-Friendly Color Maps for R. https://doi.org/10.5281/zenodo.4679423.\n\n\nGohel, David, and Panagiotis Skintzos. 2024. ggiraph: Make ’ggplot2’ Graphics Interactive. https://CRAN.R-project.org/package=ggiraph.\n\n\nGovernment Analysis Function. 2021. “Data Visualisation: Colours.” https://analysisfunction.civilservice.gov.uk/policy-store/data-visualisation-colours-in-charts/.\n\n\nHafen, Ryan. 2023. geofacet: ’ggplot2’ Faceting Utilities for Geographical Data. https://CRAN.R-project.org/package=geofacet.\n\n\nHarmon, Jon. 2024. Web APIs with R. CRC Press. https://wapir.io/.\n\n\nHester, Jim, Florent Angly, Russ Hyde, Michael Chirico, Kun Ren, Alexander Rosenstock, and Indrajeet Patil. 2024. lintr: A ’Linter’ for R Code. https://CRAN.R-project.org/package=lintr.\n\n\nHester, Jim, and Jennifer Bryan. 2024. glue: Interpreted String Literals. https://glue.tidyverse.org/.\n\n\nHughes, Ellis. 2022a. camcorder: Record Your Plot History. https://CRAN.R-project.org/package=camcorder.\n\n\n———. 2022b. tidytuesdayR: Access the Weekly ’TidyTuesday’ Project Dataset. https://CRAN.R-project.org/package=tidytuesdayR.\n\n\nHvitfeldt, Emil. 2021. paletteer: Comprehensive Collection of Color Palettes. https://github.com/EmilHvitfeldt/paletteer.\n\n\n———. 2025. animalshelter: Animal Shelter Data. https://github.com/EmilHvitfeldt/animalshelter.\n\n\nIannone, Richard. 2024. fontawesome: Easily Work with ’Font Awesome’ Icons. https://CRAN.R-project.org/package=fontawesome.\n\n\nInternet Assigned Numbers Authority. 2023. “The tz Database: Time Zone and Daylight Saving Time Data.” Internet Assigned Numbers Authority. https://data.iana.org/time-zones/tz-link.html.\n\n\nJax (@lysrix). 2017. “Lemur.” https://unsplash.com/photos/red-and-white-rodent-h5xrh3CNT-k.\n\n\nKays, R., R. R. Dunn, A. W. Parsons, B. Mcdonald, T. Perkins, S. A. Powers, L. Shell, et al. 2020. “The Small Home Ranges and Large Local Ecological Impacts of Pet Cats.” Animal Conservation 23 (5): 516–23. https://doi.org/10.1111/acv.12563.\n\n\nKeyes, David. 2024. R for the Rest of Us: A Statistics-Free Introduction. No Starch Press. https://book.rfortherestofus.com/.\n\n\nLong Beach Animal Shelter. 2025. “Animal Shelter Data.” City of Long Beach Animal Care Services. https://data.longbeach.gov/explore/dataset/animal-shelter-intakes-and-outcomes/information/.\n\n\nLucchesi, Lydia, and Petra Kuhnert. 2020. Vizumap: Visualizing Uncertainty in Spatial Data. https://github.com/lydialucchesi/Vizumap.\n\n\nMapping Museums. 2021. “Mapping Museums Data.” www.mappingmuseums.org.\n\n\nMassicotte, Philippe, and Andy South. 2023. rnaturalearth: World Map Data from Natural Earth. https://docs.ropensci.org/rnaturalearth/.\n\n\nMatejka, Justin, and George Fitzmaurice. 2017. “Same Stats, Different Graphs: Generating Datasets with Varied Appearance and Identical Statistics Through Simulated Annealing.” In, 1290–94. https://doi.org/10.1145/3025453.3025912.\n\n\nMcDonald, J. L., and H. Cole. 2020. “Data from: The Small Home Ranges and Large Local Ecological Impacts of Pet Cats [United Kingdom].” Movebank data repository. https://doi.org/doi:10.5441/001/1.pf315732.\n\n\nMcWhite, Claire D., and Claus O. Wilke. 2024. colorblindr: Simulate colorblindness in R figures. https://github.com/clauswilke/colorblindr.\n\n\nMid-Atlantic Apiculture Research and Extension Consortium. 2024. “Seasonal Cycles of Activities in Colonies.” https://canr.udel.edu/maarec/honey-bee-biology/seasonal-cycles-of-activities-in-colonies/.\n\n\nmikefc. 2024. poissoned: Tileable Poisson Disc Sampling. https://github.com/coolbutuseless/poissoned.\n\n\nMills, Blake Robert. 2022. MetBrewer: Color Palettes Inspired by Works at the Metropolitan Museum of Art. https://CRAN.R-project.org/package=MetBrewer.\n\n\nMIT Election Data and Science Lab. 2017. “U.S. House 1976–2022.” Harvard Dataverse. https://doi.org/10.7910/DVN/IG0UN2.\n\n\nMüller, Kirill, and Lorenz Walthert. 2023. styler: Non-Invasive Pretty Printing of R Code. https://CRAN.R-project.org/package=styler.\n\n\nMüller, Kirill, and Hadley Wickham. 2023. tibble: Simple Data Frames. https://CRAN.R-project.org/package=tibble.\n\n\nMuth, Lisa. 2018. “An Alternative to Pink & Blue: Colors for Gender Data.” https://blog.datawrapper.de/gendercolor/.\n\n\nNatural Resources Canada. 2021. “Canadian Wind Turbine Database.” Natural Resources Canada (Government of Canada). https://open.canada.ca/data/en/dataset/79fdad93-9025-49ad-ba16-c26d718cc070.\n\n\nNoblet, Guillaume. 2025. ggbranding: Add Personal Branding to ’ggplot2’ Charts. https://github.com/gnoblet/ggbranding.\n\n\nNowosad, Jakub. 2018. ’CARTOColors’ Palettes. https://jakubnowosad.com/rcartocolor/.\n\n\nOoms, Jeroen. 2024. magick: Advanced Graphics and Image-Processing in R. https://CRAN.R-project.org/package=magick.\n\n\nOur World in Data. 2019. “Medical Doctors Per 1,000 People.” https://ourworldindata.org/grapher/physicians-per-1000-people.\n\n\nPebesma, Edzer. 2018. “Simple Features for R: Standardized Support for Spatial Vector Data.” The R Journal 10 (1): 439–46. https://doi.org/10.32614/RJ-2018-009.\n\n\nPedersen, Thomas Lin. 2022. ggforce: Accelerating ’ggplot2’. https://CRAN.R-project.org/package=ggforce.\n\n\n———. 2024. patchwork: The Composer of Plots. https://CRAN.R-project.org/package=patchwork.\n\n\n———. 2025. “Fonts in R.” https://www.tidyverse.org/blog/2025/05/fonts-in-r/.\n\n\nPedersen, Thomas Lin, and Martin Mitáš. 2024. marquee: Markdown Parser and Renderer for R Graphics. https://CRAN.R-project.org/package=marquee.\n\n\nPedersen, Thomas Lin, Jeroen Ooms, and Devon Govett. 2024. systemfonts: System Native Font Finding. https://CRAN.R-project.org/package=systemfonts.\n\n\nPedersen, Thomas Lin, and Maxim Shemanarev. 2023. ragg: Graphic Devices Based on AGG. https://CRAN.R-project.org/package=ragg.\n\n\nPLDB contributors. 2022. “PLDB: A Programming Language Database.” PLDB. https://pldb.com.\n\n\nQiu, Yixuan. 2022. sysfonts: Loading Fonts into R. https://CRAN.R-project.org/package=sysfonts.\n\n\n———. 2023. showtext: Using Fonts More Easily in R Graphs. https://CRAN.R-project.org/package=showtext.\n\n\nR Core Team. 2024. R: A Language and Environment for Statistical Computing. Vienna, Austria: R Foundation for Statistical Computing. https://www.R-project.org/.\n\n\nR4DS Online Learning Community. 2023. “Tidy Tuesday: A Weekly Social Data Project.” https://github.com/rfordatascience/tidytuesday.\n\n\nRennie, Nicola. 2023a. “Adding Social Media Icons to Charts with ggplot2.” https://nrennie.rbind.io/blog/adding-social-media-icons-ggplot2/.\n\n\n———. 2023b. “Creating Template Files with R.” https://nrennie.rbind.io/blog/script-templates-r/.\n\n\n———. 2023c. “Four Ways to Streamline Your R Workflows.” https://nrennie.rbind.io/blog/four-ways-streamline-r-workflows/.\n\n\n———. 2024a. ggtextcircle: Circular Text in ’ggplot2’. https://github.com/nrennie/ggtextcircle.\n\n\n———. 2024b. nobel: Access data from the Nobel Prize API via R. https://github.com/nrennie/nobel.\n\n\n———. 2024c. “tidytuesday.” GitHub Repository. GitHub. https://github.com/nrennie/tidytuesday.\n\n\nRennie, Nicola, and Andreas Krause. 2024. “Presenting data the Significance way - Part 1.” Significance 21 (3): 36–39. https://doi.org/10.1093/jrssig/qmae045.\n\n\nReynolds, Gina. 2025. “Everyday ggplot2 extension.” https://evamaerey.github.io/everyday_ggplot2_extension/.\n\n\nRStudio. 2018a. “forcats Hex Sticker.” https://github.com/rstudio/hex-stickers/blob/main/PNG/forcats.png.\n\n\n———. 2018b. “ggplot2 Hex Sticker.” https://github.com/rstudio/hex-stickers/blob/main/PNG/ggplot2.png.\n\n\n———. 2018c. “purrr Hex Sticker.” https://github.com/rstudio/hex-stickers/blob/main/PNG/purrr.png.\n\n\n———. 2018d. “readr Hex Sticker.” https://github.com/rstudio/hex-stickers/blob/main/PNG/readr.png.\n\n\n———. 2018e. “tibble Hex Sticker.” https://github.com/rstudio/hex-stickers/blob/main/PNG/tibble.png.\n\n\n———. 2020a. “dplyr Hex Sticker.” https://github.com/rstudio/hex-stickers/blob/main/PNG/dplyr.png.\n\n\n———. 2020b. “stringr Hex Sticker.” https://github.com/rstudio/hex-stickers/blob/main/PNG/stringr.png.\n\n\n———. 2020c. “tidyr Hex Sticker.” https://github.com/rstudio/hex-stickers/blob/main/PNG/tidyr.png.\n\n\nRudis, Bob, Ben Bolker, and Jan Schulz. 2017. ggalt: Extra Coordinate Systems, ’Geoms’, Statistical Transformations, Scales and Fonts for ’ggplot2’. https://CRAN.R-project.org/package=ggalt.\n\n\nRudis, Bob, and Dave Gandy. 2023. waffle: Create Waffle Chart Visualizations. https://CRAN.R-project.org/package=waffle.\n\n\nSarkar, Deepayan. 2008. Lattice: Multivariate Data Visualization with r. New York: Springer. http://lmdvr.r-forge.r-project.org.\n\n\nSchauberger, Philipp, and Alexander Walker. 2023. openxlsx: Read, Write and Edit xlsx Files. https://CRAN.R-project.org/package=openxlsx.\n\n\nScheuch, Christoph. 2025. owidapi: Access the Our World in Data Chart API. https://doi.org/10.32614/CRAN.package.owidapi.\n\n\nSchloerke, Barret, Di Cook, Joseph Larmarange, Francois Briatte, Moritz Marbach, Edwin Thoen, Amos Elberg, and Jason Crowley. 2024. GGally: Extension to ’ggplot2’. https://CRAN.R-project.org/package=GGally.\n\n\nSchloss, Karen B., Connor C. Gramazio, Allison T. Silverman, Madeline L. Parker, and Audrey S. Wang. 2019. “Mapping Color to Meaning in Colormap Data Visualizations.” IEEE Transactions on Visualization and Computer Graphics 25 (1): 810–19. https://doi.org/10.1109/TVCG.2018.2865147.\n\n\nShalloway, Bryan. 2023. funspotr: Spot R Functions & Packages. https://CRAN.R-project.org/package=funspotr.\n\n\nSievert, Carson. 2020. Interactive Web-Based Data Visualization with r, Plotly, and Shiny. Chapman; Hall/CRC. https://plotly-r.com.\n\n\nSlowikowski, Kamil. 2024. ggrepel: Automatically Position Non-Overlapping Text Labels with ’ggplot2’. https://CRAN.R-project.org/package=ggrepel.\n\n\nTierney, Nicholas. 2017. “visdat: Visualising Whole Data Frames.” JOSS 2 (16): 355. https://doi.org/10.21105/joss.00355.\n\n\nTierney, Nicholas, and Dianne Cook. 2023. “Expanding Tidy Data Principles to Facilitate Missing Data Exploration, Visualization and Assessment of Imputations.” Journal of Statistical Software 105 (7): 1–31. https://doi.org/10.18637/jss.v105.i07.\n\n\nTol, Paul. 2021. “Paul Tol’s Notes: Colour schemes and templates.” https://sronpersonalpages.nl/~pault/.\n\n\nUnited States Census Bureau. 2021a. “Historical Population Change Data (1910-2020).” https://www.census.gov/data/tables/time-series/dec/popchange-data-text.html.\n\n\n———. 2021b. “State Area Measurements and Internal Point Coordinates.” https://www.census.gov/geographies/reference-files/2010/geo/state-area.html.\n\n\nUnited States Department of Agriculture: Economics, Statistics and Market Information System. 2022. “Honey Bee Colonies.” USDA Economics, Statistics and Market Information System. https://usda.library.cornell.edu/concern/publications/rn301137d.\n\n\nWalker, Kyle. 2022. crsuggest: Obtain Suggested Coordinate Reference System Information for Spatial Data. https://CRAN.R-project.org/package=crsuggest.\n\n\nWanzer, Dana Linnell, Tarek Azzam, Natalie D. Jones, and Darrel Skousen. 2021. “The Role of Titles in Enhancing Data Visualization.” Evaluation and Program Planning 84: 101896. https://doi.org/10.1016/j.evalprogplan.2020.101896.\n\n\nWickham, Hadley. 2016. ggplot2: Elegant Graphics for Data Analysis. Springer-Verlag New York. https://ggplot2.tidyverse.org.\n\n\n———. 2023a. forcats: Tools for Working with Categorical Variables (Factors). https://doi.org/10.32614/CRAN.package.forcats.\n\n\n———. 2023b. stringr: Simple, Consistent Wrappers for Common String Operations. https://CRAN.R-project.org/package=stringr.\n\n\nWickham, Hadley, Mara Averick, Jennifer Bryan, Winston Chang, Lucy D’Agostino McGowan, Romain François, Garrett Grolemund, et al. 2019. “Welcome to the tidyverse.” Journal of Open Source Software 4 (43): 1686. https://doi.org/10.21105/joss.01686.\n\n\nWickham, Hadley, and Jennifer Bryan. 2023. readxl: Read Excel Files. https://CRAN.R-project.org/package=readxl.\n\n\nWickham, Hadley, Mine Çetinkaya-Rundel, and Garrett Grolemund. 2023. R for Data Science. Second Edition. O-Reilly. https://r4ds.hadley.nz.\n\n\nWickham, Hadley, Romain François, Lionel Henry, Kirill Müller, and Davis Vaughan. 2023. dplyr: A Grammar of Data Manipulation. https://CRAN.R-project.org/package=dplyr.\n\n\nWickham, Hadley, and Lionel Henry. 2023. purrr: Functional Programming Tools. https://CRAN.R-project.org/package=purrr.\n\n\nWickham, Hadley, Jim Hester, and Jennifer Bryan. 2024. readr: Read Rectangular Text Data. https://CRAN.R-project.org/package=readr.\n\n\nWickham, Hadley, Thomas Lin Pedersen, and Dana Seidel. 2023. scales: Scale Functions for Visualization. https://CRAN.R-project.org/package=scales.\n\n\nWickham, Hadley, Davis Vaughan, and Maximilian Girlich. 2024. tidyr: Tidy Messy Data. https://CRAN.R-project.org/package=tidyr.\n\n\nWilke, Claus. 2022. ggtextures: Drawing Textured Rectangles and Bars with grid and ggplot2. https://github.com/clauswilke/ggtextures.\n\n\nWilke, Claus O. 2024. cowplot: Streamlined Plot Theme and Plot Annotations for ’ggplot2’. https://wilkelab.org/cowplot/.\n\n\nWilke, Claus O., and Brenton M. Wiernik. 2022. ggtext: Improved Text Rendering Support for ’ggplot2’. https://CRAN.R-project.org/package=ggtext.\n\n\nwww.nobelprize.org. 2024. “Nobel Prize API Version 2.1.” https://api.nobelprize.org/2.1/laureates.\n\n\nYork, Piers. 2023. owidR: Import Data from Our World in Data. https://github.com/piersyork/owidR.\n\n\nYu, Guangchuang. 2023. ggimage: Use Image in ’ggplot2’. https://CRAN.R-project.org/package=ggimage.\n\n\nYutani, Hiroaki. 2023. gghighlight: Highlight Lines and Points in ’ggplot2’. https://CRAN.R-project.org/package=gghighlight.\n\n\nZehr, Sarah M., Richard G. Roach, David Haring, Julie Taylor, Freda H. Cameron, and Anne D. Yoder. 2014. “Life history profiles for 27 strepsirrhine primate taxa generated using captive data from the Duke Lemur Center.” Scientific Data 1 (1). https://doi.org/10.1038/sdata.2014.19.",
    "crumbs": [
      "<span class='chapter-number'>14</span>  <span class='chapter-title'>기타 팁과 요령</span>"
    ]
  },
  {
    "objectID": "references.html",
    "href": "references.html",
    "title": "Bibliography",
    "section": "",
    "text": "Anscombe, F. J. 1973. “Graphs in Statistical Analysis.”\nThe American Statistician 27 (1): 17–21. https://doi.org/10.1080/00031305.1973.10478966.\n\n\nAphalo, Pedro J. 2024. Learn R: As a\nLanguage. Second Edition. CRC Press. https://www.learnr-book.info/.\n\n\nAuguie, Baptiste. 2019. egg: Extensions for\n’ggplot2’: Custom Geom, Custom Themes, Plot Alignment, Labelled Panels,\nSymmetric Scales, and Fixed Panel Size. https://CRAN.R-project.org/package=egg.\n\n\nBarthelme, Simon. 2024. imager: Image\nProcessing Library Based on ’CImg’. https://CRAN.R-project.org/package=imager.\n\n\nBrand, Teun van den. 2025. “ggplot2\n4.0.0.” https://www.tidyverse.org/blog/2025/09/ggplot2-4-0-0/.\n\n\nBridson, Robert. 2007. “Fast Poisson Disk Sampling in Arbitrary\nDimensions.” In ACM SIGGRAPH 2007 Sketches. SIGGRAPH\n’07. New York, NY, USA: Association for Computing Machinery. https://doi.org/10.1145/1278780.1278807.\n\n\nBrown, Mark J.F., and Paxton, Robert J. 2009. “The Conservation of\nBees: A Global Perspective.” Apidologie 40 (3): 410–16.\nhttps://doi.org/10.1051/apido/2009019.\n\n\nCameron, Allan, and Teun van den Brand. 2024. geomtextpath: Curved Text in ’ggplot2’. https://CRAN.R-project.org/package=geomtextpath.\n\n\nCARTO. 2016. ’CARTOColors’ Palettes. https://carto.com/carto-colors/.\n\n\nChang, Winston. 2023. extrafont: Tools\nfor Using Fonts. https://CRAN.R-project.org/package=extrafont.\n\n\nCheung, Foo. 2021. dumbbell: Displaying\nChanges Between Two Points Using Dumbbell Plots. https://CRAN.R-project.org/package=dumbbell.\n\n\nCowgill, Matt, and John Helveston. 2021. ggannotate: Interactively Annotate ggplot2\nPlots. https://github.com/MattCowgill/ggannotate.\n\n\nCsárdi, Gábor, and Jim Hester. 2024. pak:\nAnother Approach to Package Installation. https://CRAN.R-project.org/package=pak.\n\n\nCsárdi, Gábor, Jim Hester, Hadley Wickham, Winston Chang, Martin Morgan,\nand Dan Tenenbaum. 2024. remotes: R Package\nInstallation from Remote Repositories, Including ’GitHub’.\nhttps://CRAN.R-project.org/package=remotes.\n\n\nDomin, Iaroslav. 2024. ggview: ’ggplot2’\nPicture Previewer. https://CRAN.R-project.org/package=ggview.\n\n\nEngler, Jan Broder. 2024. “Tidyplots Empowers Life Scientists with\nEasy Code-Based Data Visualization.” bioRxiv. https://doi.org/10.1101/2024.11.08.621836.\n\n\nFC, Mike, Trevor L. Davis, and ggplot2 authors. 2024. ggpattern: ’ggplot2’ Pattern Geoms. https://CRAN.R-project.org/package=ggpattern.\n\n\nFlaticon.com. 2024. “Wind Power Flaticon.” https://www.flaticon.com/free-icon/wind-power_5670189.\n\n\nFont Awesome. 2024. “Font Awesome 6.” https://fontawesome.com/.\n\n\nFranconeri, Steven L., Lace M. Padilla, Priti Shah, Jeffrey M. Zacks,\nand Jessica Hullman. 2021. “The Science of Visual Data\nCommunication: What Works.” Psychological Science in the\nPublic Interest 22 (3): 110–61. https://doi.org/10.1177/15291006211051956.\n\n\nGarnier, Simon, Ross, Noam, Rudis, Robert, Camargo, et al. 2024.\nviridis(Lite) - Colorblind-Friendly\nColor Maps for R. https://doi.org/10.5281/zenodo.4679423.\n\n\nGohel, David, and Panagiotis Skintzos. 2024. ggiraph: Make ’ggplot2’ Graphics Interactive.\nhttps://CRAN.R-project.org/package=ggiraph.\n\n\nGovernment Analysis Function. 2021. “Data Visualisation:\nColours.” https://analysisfunction.civilservice.gov.uk/policy-store/data-visualisation-colours-in-charts/.\n\n\nHafen, Ryan. 2023. geofacet: ’ggplot2’ Faceting Utilities for Geographical\nData. https://CRAN.R-project.org/package=geofacet.\n\n\nHarmon, Jon. 2024. Web APIs with R.\nCRC Press. https://wapir.io/.\n\n\nHester, Jim, Florent Angly, Russ Hyde, Michael Chirico, Kun Ren,\nAlexander Rosenstock, and Indrajeet Patil. 2024. lintr: A ’Linter’ for R Code. https://CRAN.R-project.org/package=lintr.\n\n\nHester, Jim, and Jennifer Bryan. 2024. glue: Interpreted String Literals. https://glue.tidyverse.org/.\n\n\nHughes, Ellis. 2022a. camcorder: Record\nYour Plot History. https://CRAN.R-project.org/package=camcorder.\n\n\n———. 2022b. tidytuesdayR: Access the\nWeekly ’TidyTuesday’ Project Dataset. https://CRAN.R-project.org/package=tidytuesdayR.\n\n\nHvitfeldt, Emil. 2021. paletteer:\nComprehensive Collection of Color Palettes. https://github.com/EmilHvitfeldt/paletteer.\n\n\n———. 2025. animalshelter: Animal Shelter\nData. https://github.com/EmilHvitfeldt/animalshelter.\n\n\nIannone, Richard. 2024. fontawesome: Easily\nWork with ’Font Awesome’ Icons. https://CRAN.R-project.org/package=fontawesome.\n\n\nInternet Assigned Numbers Authority. 2023. “The tz Database: Time Zone and Daylight Saving Time\nData.” Internet Assigned Numbers Authority. https://data.iana.org/time-zones/tz-link.html.\n\n\nJax (@lysrix). 2017. “Lemur.” https://unsplash.com/photos/red-and-white-rodent-h5xrh3CNT-k.\n\n\nKays, R., R. R. Dunn, A. W. Parsons, B. Mcdonald, T. Perkins, S. A.\nPowers, L. Shell, et al. 2020. “The Small Home Ranges and Large\nLocal Ecological Impacts of Pet Cats.” Animal\nConservation 23 (5): 516–23. https://doi.org/10.1111/acv.12563.\n\n\nKeyes, David. 2024. R for the Rest of Us: A\nStatistics-Free Introduction. No Starch Press. https://book.rfortherestofus.com/.\n\n\nLong Beach Animal Shelter. 2025. “Animal Shelter\nData.” City of Long Beach Animal Care Services. https://data.longbeach.gov/explore/dataset/animal-shelter-intakes-and-outcomes/information/.\n\n\nLucchesi, Lydia, and Petra Kuhnert. 2020. Vizumap:\nVisualizing Uncertainty in Spatial Data. https://github.com/lydialucchesi/Vizumap.\n\n\nMapping Museums. 2021. “Mapping Museums Data.” www.mappingmuseums.org.\n\n\nMassicotte, Philippe, and Andy South. 2023. rnaturalearth: World Map Data from Natural\nEarth. https://docs.ropensci.org/rnaturalearth/.\n\n\nMatejka, Justin, and George Fitzmaurice. 2017. “Same Stats,\nDifferent Graphs: Generating Datasets with Varied Appearance and\nIdentical Statistics Through Simulated Annealing.” In, 1290–94.\nhttps://doi.org/10.1145/3025453.3025912.\n\n\nMcDonald, J. L., and H. Cole. 2020. “Data from: The Small Home\nRanges and Large Local Ecological Impacts of Pet Cats [United\nKingdom].” Movebank data repository. https://doi.org/doi:10.5441/001/1.pf315732.\n\n\nMcWhite, Claire D., and Claus O. Wilke. 2024. colorblindr: Simulate colorblindness in R\nfigures. https://github.com/clauswilke/colorblindr.\n\n\nMid-Atlantic Apiculture Research and Extension Consortium. 2024.\n“Seasonal Cycles of Activities in Colonies.” https://canr.udel.edu/maarec/honey-bee-biology/seasonal-cycles-of-activities-in-colonies/.\n\n\nmikefc. 2024. poissoned: Tileable Poisson Disc\nSampling. https://github.com/coolbutuseless/poissoned.\n\n\nMills, Blake Robert. 2022. MetBrewer: Color Palettes\nInspired by Works at the Metropolitan Museum of Art. https://CRAN.R-project.org/package=MetBrewer.\n\n\nMIT Election Data and Science Lab. 2017. “U.S. House\n1976–2022.” Harvard Dataverse. https://doi.org/10.7910/DVN/IG0UN2.\n\n\nMüller, Kirill, and Lorenz Walthert. 2023. styler: Non-Invasive Pretty Printing of\nR Code. https://CRAN.R-project.org/package=styler.\n\n\nMüller, Kirill, and Hadley Wickham. 2023. tibble: Simple Data Frames. https://CRAN.R-project.org/package=tibble.\n\n\nMuth, Lisa. 2018. “An Alternative to Pink & Blue: Colors for\nGender Data.” https://blog.datawrapper.de/gendercolor/.\n\n\nNatural Resources Canada. 2021. “Canadian Wind Turbine\nDatabase.” Natural Resources Canada (Government of Canada). https://open.canada.ca/data/en/dataset/79fdad93-9025-49ad-ba16-c26d718cc070.\n\n\nNoblet, Guillaume. 2025. ggbranding: Add\nPersonal Branding to ’ggplot2’ Charts. https://github.com/gnoblet/ggbranding.\n\n\nNowosad, Jakub. 2018. ’CARTOColors’ Palettes. https://jakubnowosad.com/rcartocolor/.\n\n\nOoms, Jeroen. 2024. magick: Advanced Graphics\nand Image-Processing in R. https://CRAN.R-project.org/package=magick.\n\n\nOur World in Data. 2019. “Medical Doctors Per 1,000\nPeople.” https://ourworldindata.org/grapher/physicians-per-1000-people.\n\n\nPebesma, Edzer. 2018. “Simple Features for R:\nStandardized Support for Spatial Vector Data.”\nThe R Journal 10 (1): 439–46. https://doi.org/10.32614/RJ-2018-009.\n\n\nPedersen, Thomas Lin. 2022. ggforce:\nAccelerating ’ggplot2’. https://CRAN.R-project.org/package=ggforce.\n\n\n———. 2024. patchwork: The Composer of\nPlots. https://CRAN.R-project.org/package=patchwork.\n\n\n———. 2025. “Fonts in R.” https://www.tidyverse.org/blog/2025/05/fonts-in-r/.\n\n\nPedersen, Thomas Lin, and Martin Mitáš. 2024. marquee: Markdown Parser and Renderer for R\nGraphics. https://CRAN.R-project.org/package=marquee.\n\n\nPedersen, Thomas Lin, Jeroen Ooms, and Devon Govett. 2024. systemfonts: System Native Font Finding. https://CRAN.R-project.org/package=systemfonts.\n\n\nPedersen, Thomas Lin, and Maxim Shemanarev. 2023. ragg: Graphic Devices Based on\nAGG. https://CRAN.R-project.org/package=ragg.\n\n\nPLDB contributors. 2022. “PLDB: A Programming\nLanguage Database.” PLDB. https://pldb.com.\n\n\nQiu, Yixuan. 2022. sysfonts: Loading\nFonts into R. https://CRAN.R-project.org/package=sysfonts.\n\n\n———. 2023. showtext: Using Fonts More\nEasily in R Graphs. https://CRAN.R-project.org/package=showtext.\n\n\nR Core Team. 2024. R: A Language and Environment for\nStatistical Computing. Vienna, Austria: R Foundation for\nStatistical Computing. https://www.R-project.org/.\n\n\nR4DS Online Learning Community. 2023. “Tidy Tuesday: A Weekly\nSocial Data Project.” https://github.com/rfordatascience/tidytuesday.\n\n\nRennie, Nicola. 2023a. “Adding Social Media Icons to Charts with\nggplot2.” https://nrennie.rbind.io/blog/adding-social-media-icons-ggplot2/.\n\n\n———. 2023b. “Creating Template Files with R.”\nhttps://nrennie.rbind.io/blog/script-templates-r/.\n\n\n———. 2023c. “Four Ways to Streamline Your R\nWorkflows.” https://nrennie.rbind.io/blog/four-ways-streamline-r-workflows/.\n\n\n———. 2024a. ggtextcircle: Circular Text in\n’ggplot2’. https://github.com/nrennie/ggtextcircle.\n\n\n———. 2024b. nobel: Access data from the Nobel\nPrize API via R. https://github.com/nrennie/nobel.\n\n\n———. 2024c. “tidytuesday.”\nGitHub Repository. GitHub. https://github.com/nrennie/tidytuesday.\n\n\nRennie, Nicola, and Andreas Krause. 2024. “Presenting data the Significance way - Part\n1.” Significance 21 (3): 36–39. https://doi.org/10.1093/jrssig/qmae045.\n\n\nReynolds, Gina. 2025. “Everyday ggplot2\nextension.” https://evamaerey.github.io/everyday_ggplot2_extension/.\n\n\nRStudio. 2018a. “forcats Hex\nSticker.” https://github.com/rstudio/hex-stickers/blob/main/PNG/forcats.png.\n\n\n———. 2018b. “ggplot2 Hex\nSticker.” https://github.com/rstudio/hex-stickers/blob/main/PNG/ggplot2.png.\n\n\n———. 2018c. “purrr Hex\nSticker.” https://github.com/rstudio/hex-stickers/blob/main/PNG/purrr.png.\n\n\n———. 2018d. “readr Hex\nSticker.” https://github.com/rstudio/hex-stickers/blob/main/PNG/readr.png.\n\n\n———. 2018e. “tibble Hex\nSticker.” https://github.com/rstudio/hex-stickers/blob/main/PNG/tibble.png.\n\n\n———. 2020a. “dplyr Hex\nSticker.” https://github.com/rstudio/hex-stickers/blob/main/PNG/dplyr.png.\n\n\n———. 2020b. “stringr Hex\nSticker.” https://github.com/rstudio/hex-stickers/blob/main/PNG/stringr.png.\n\n\n———. 2020c. “tidyr Hex\nSticker.” https://github.com/rstudio/hex-stickers/blob/main/PNG/tidyr.png.\n\n\nRudis, Bob, Ben Bolker, and Jan Schulz. 2017. ggalt: Extra Coordinate Systems, ’Geoms’, Statistical\nTransformations, Scales and Fonts for ’ggplot2’. https://CRAN.R-project.org/package=ggalt.\n\n\nRudis, Bob, and Dave Gandy. 2023. waffle: Create Waffle Chart Visualizations.\nhttps://CRAN.R-project.org/package=waffle.\n\n\nSarkar, Deepayan. 2008. Lattice: Multivariate Data Visualization\nwith r. New York: Springer. http://lmdvr.r-forge.r-project.org.\n\n\nSchauberger, Philipp, and Alexander Walker. 2023. openxlsx: Read, Write and Edit xlsx Files. https://CRAN.R-project.org/package=openxlsx.\n\n\nScheuch, Christoph. 2025. owidapi:\nAccess the Our World in Data Chart API. https://doi.org/10.32614/CRAN.package.owidapi.\n\n\nSchloerke, Barret, Di Cook, Joseph Larmarange, Francois Briatte, Moritz\nMarbach, Edwin Thoen, Amos Elberg, and Jason Crowley. 2024. GGally: Extension to ’ggplot2’. https://CRAN.R-project.org/package=GGally.\n\n\nSchloss, Karen B., Connor C. Gramazio, Allison T. Silverman, Madeline L.\nParker, and Audrey S. Wang. 2019. “Mapping Color to Meaning in\nColormap Data Visualizations.” IEEE Transactions on\nVisualization and Computer Graphics 25 (1): 810–19. https://doi.org/10.1109/TVCG.2018.2865147.\n\n\nShalloway, Bryan. 2023. funspotr: Spot R\nFunctions & Packages. https://CRAN.R-project.org/package=funspotr.\n\n\nSievert, Carson. 2020. Interactive Web-Based Data Visualization with\nr, Plotly, and Shiny. Chapman; Hall/CRC. https://plotly-r.com.\n\n\nSlowikowski, Kamil. 2024. ggrepel:\nAutomatically Position Non-Overlapping Text Labels with\n’ggplot2’. https://CRAN.R-project.org/package=ggrepel.\n\n\nTierney, Nicholas. 2017. “visdat: Visualising\nWhole Data Frames.” JOSS 2 (16): 355. https://doi.org/10.21105/joss.00355.\n\n\nTierney, Nicholas, and Dianne Cook. 2023. “Expanding Tidy Data\nPrinciples to Facilitate Missing Data Exploration, Visualization and\nAssessment of Imputations.” Journal of Statistical\nSoftware 105 (7): 1–31. https://doi.org/10.18637/jss.v105.i07.\n\n\nTol, Paul. 2021. “Paul Tol’s Notes: Colour\nschemes and templates.” https://sronpersonalpages.nl/~pault/.\n\n\nUnited States Census Bureau. 2021a. “Historical Population Change\nData (1910-2020).” https://www.census.gov/data/tables/time-series/dec/popchange-data-text.html.\n\n\n———. 2021b. “State Area Measurements and Internal Point\nCoordinates.” https://www.census.gov/geographies/reference-files/2010/geo/state-area.html.\n\n\nUnited States Department of Agriculture: Economics, Statistics and\nMarket Information System. 2022. “Honey Bee Colonies.”\nUSDA Economics, Statistics and Market Information System.\nhttps://usda.library.cornell.edu/concern/publications/rn301137d.\n\n\nWalker, Kyle. 2022. crsuggest: Obtain Suggested\nCoordinate Reference System Information for Spatial Data. https://CRAN.R-project.org/package=crsuggest.\n\n\nWanzer, Dana Linnell, Tarek Azzam, Natalie D. Jones, and Darrel Skousen.\n2021. “The Role of Titles in Enhancing Data Visualization.”\nEvaluation and Program Planning 84: 101896. https://doi.org/10.1016/j.evalprogplan.2020.101896.\n\n\nWickham, Hadley. 2016. ggplot2: Elegant\nGraphics for Data Analysis. Springer-Verlag New York. https://ggplot2.tidyverse.org.\n\n\n———. 2023a. forcats: Tools for Working\nwith Categorical Variables (Factors). https://doi.org/10.32614/CRAN.package.forcats.\n\n\n———. 2023b. stringr: Simple, Consistent\nWrappers for Common String Operations. https://CRAN.R-project.org/package=stringr.\n\n\nWickham, Hadley, Mara Averick, Jennifer Bryan, Winston Chang, Lucy\nD’Agostino McGowan, Romain François, Garrett Grolemund, et al. 2019.\n“Welcome to the tidyverse.”\nJournal of Open Source Software 4 (43): 1686. https://doi.org/10.21105/joss.01686.\n\n\nWickham, Hadley, and Jennifer Bryan. 2023. readxl: Read Excel Files. https://CRAN.R-project.org/package=readxl.\n\n\nWickham, Hadley, Mine Çetinkaya-Rundel, and Garrett Grolemund. 2023.\nR for Data Science. Second Edition. O-Reilly. https://r4ds.hadley.nz.\n\n\nWickham, Hadley, Romain François, Lionel Henry, Kirill Müller, and Davis\nVaughan. 2023. dplyr: A Grammar of Data\nManipulation. https://CRAN.R-project.org/package=dplyr.\n\n\nWickham, Hadley, and Lionel Henry. 2023. purrr: Functional Programming Tools. https://CRAN.R-project.org/package=purrr.\n\n\nWickham, Hadley, Jim Hester, and Jennifer Bryan. 2024. readr: Read Rectangular Text Data. https://CRAN.R-project.org/package=readr.\n\n\nWickham, Hadley, Thomas Lin Pedersen, and Dana Seidel. 2023. scales: Scale Functions for Visualization. https://CRAN.R-project.org/package=scales.\n\n\nWickham, Hadley, Davis Vaughan, and Maximilian Girlich. 2024. tidyr: Tidy Messy Data. https://CRAN.R-project.org/package=tidyr.\n\n\nWilke, Claus. 2022. ggtextures: Drawing\nTextured Rectangles and Bars with grid and ggplot2. https://github.com/clauswilke/ggtextures.\n\n\nWilke, Claus O. 2024. cowplot:\nStreamlined Plot Theme and Plot Annotations for ’ggplot2’. https://wilkelab.org/cowplot/.\n\n\nWilke, Claus O., and Brenton M. Wiernik. 2022. ggtext: Improved Text Rendering Support for ’ggplot2’. https://CRAN.R-project.org/package=ggtext.\n\n\nwww.nobelprize.org. 2024. “Nobel Prize API Version\n2.1.” https://api.nobelprize.org/2.1/laureates.\n\n\nYork, Piers. 2023. owidR: Import Data\nfrom Our World in Data. https://github.com/piersyork/owidR.\n\n\nYu, Guangchuang. 2023. ggimage: Use Image in\n’ggplot2’. https://CRAN.R-project.org/package=ggimage.\n\n\nYutani, Hiroaki. 2023. gghighlight:\nHighlight Lines and Points in ’ggplot2’. https://CRAN.R-project.org/package=gghighlight.\n\n\nZehr, Sarah M., Richard G. Roach, David Haring, Julie Taylor, Freda H.\nCameron, and Anne D. Yoder. 2014. “Life\nhistory profiles for 27 strepsirrhine primate taxa generated using\ncaptive data from the Duke Lemur Center.” Scientific\nData 1 (1). https://doi.org/10.1038/sdata.2014.19.",
    "crumbs": [
      "Bibliography"
    ]
  },
  {
    "objectID": "appendix.html",
    "href": "appendix.html",
    "title": "부록",
    "section": "",
    "text": "자주 묻는 질문 (FAQs)",
    "crumbs": [
      "부록"
    ]
  },
  {
    "objectID": "appendix.html#자주-묻는-질문-faqs",
    "href": "appendix.html#자주-묻는-질문-faqs",
    "title": "부록",
    "section": "",
    "text": "예제 코드를 실행할 때 오류 메시지가 나타나거나 다른 결과가 나옵니다. 어떻게 해결합니까?\n\n모든 패키지 로드를 포함하여 챕터의 모든 코드를 순서대로 실행했는지 확인하십시오.\n부록의 소프트웨어 요구 사항을 참조하여 다른 버전의 R 또는 특정 패키지를 사용하고 있는지 확인하십시오.\n\n\nRStudio를 사용하여 볼 때와 저장할 때 플롯이 찌그러지거나 늘어나거나 다르게 보이는 것을 어떻게 막을 수 있습니까?\n\n\ncamcorder로 gif 기록하기 에서 이 문제에 대한 해결책을 살펴보세요!\n\n\n각 챕터 끝에 있는 연습 문제를 완료했습니다. 정답을 확인할 수 있나요?\n\n연습 문제는 정해진 답이 있는 규범적인 질문이 아니라 의도적으로 개방형으로 남겨 두었습니다. 데이터 시각화에는 정답이 하나만 있는 경우가 거의 없으므로 솔루션이 제공되지 않습니다. 여러분이 어떻게 다른 솔루션을 설계하고 구현할 것인지 생각하고, 대신 정답을 확인하는 방법으로 다른 사람들의 피드백을 받는 것이 좋습니다.",
    "crumbs": [
      "부록"
    ]
  },
  {
    "objectID": "appendix.html#소프트웨어-요구-사항",
    "href": "appendix.html#소프트웨어-요구-사항",
    "title": "부록",
    "section": "소프트웨어 요구 사항",
    "text": "소프트웨어 요구 사항\n이 책은 R 버전 4.5.2을 사용하여 빌드되었습니다. 이 책은 버전 번호 1.8.27을 사용하는 Quarto로 빌드되었습니다. 프로젝트 환경은 pixi를 사용하여 관리됩니다. 이 책을 빌드하는 데 필요한 모든 R 패키지는 다음 표에서 찾을 수 있습니다. 이 표에는 예제에 필요한 패키지뿐만 아니라 책을 만드는 데 필요한 모든 패키지가 포함되어 있습니다.\n\n\n\nTable 1: R 패키지 및 버전 번호\n\n\n\n\nPackage\nVersion\nPackage\nVersion\nPackage\nVersion\n\n\n\naskpass\n1.2.1\nglue\n1.8.0\nrappdirs\n0.3.4\n\n\nassertthat\n0.2.1\ngoogledrive\n2.1.2\nrcartocolor\n2.1.2\n\n\nbackports\n1.5.0\ngooglesheets4\n1.1.2\nrcmdcheck\n1.4.0\n\n\nbase\n4.5.2\ngraphics\n4.5.2\nRColorBrewer\n1.1-3\n\n\nbase64enc\n0.1-6\ngrDevices\n4.5.2\nRcpp\n1.1.1\n\n\nbit\n4.6.0\ngrid\n4.5.2\nRcppArmadillo\n15.2.3-1\n\n\nbit64\n4.6.0-1\ngridExtra\n2.3\nRcppEigen\n0.3.4.0.2\n\n\nblob\n1.3.0\ngridGraphics\n0.5-1\nreactable\n0.4.5\n\n\nbmp\n0.3.1\ngridpattern\n1.3.1\nreactR\n0.6.1\n\n\nbrew\n1.0-10\ngridtext\n0.1.5\nreadbitmap\n0.1.5\n\n\nbrio\n1.1.5\ngtable\n0.3.6\nreadr\n2.1.6\n\n\nbroom\n1.0.12\nhaven\n2.5.5\nreadxl\n1.4.5\n\n\nbroom.helpers\n1.22.0\nhere\n1.0.2\nrematch\n2.0.0\n\n\nbslib\n0.10.0\nhighr\n0.11\nrematch2\n2.1.2\n\n\ncachem\n1.1.0\nhms\n1.1.4\nremotes\n2.5.0\n\n\ncallr\n3.7.6\nhtmltools\n0.5.9\nreprex\n2.1.1\n\n\ncamcorder\n0.1.0\nhtmlwidgets\n1.6.4\nrlang\n1.1.7\n\n\ncards\n0.7.1\nhttpcode\n0.3.0\nrmarkdown\n2.30\n\n\ncellranger\n1.1.0\nhttpuv\n1.6.16\nrnaturalearth\n1.2.0\n\n\nclass\n7.3-23\nhttr\n1.4.7\nroxygen2\n7.3.3\n\n\nclassInt\n0.4-11\nhttr2\n1.2.2\nrprojroot\n2.1.1\n\n\ncli\n3.6.5\nids\n1.0.1\nrstudioapi\n0.18.0\n\n\ncliapp\n0.1.2\nigraph\n2.1.4\nrsvg\n2.6.1\n\n\nclipr\n0.8.0\nimager\n1.0.8\nRttf2pt1\n1.3.14\n\n\ncolorblindr\n0.1.0\nimport\n1.3.4\nrversions\n3.0.0\n\n\ncolorspace\n2.1-2\nini\n0.3.1\nrvest\n1.0.5\n\n\ncommonmark\n2.0.0\nisoband\n0.3.0\ns2\n1.1.9\n\n\ncompiler\n4.5.2\njpeg\n0.1-11\nS7\n0.2.1\n\n\nconflicted\n1.2.0\njquerylib\n0.1.4\nsass\n0.4.10\n\n\ncowplot\n1.2.0\njsonlite\n2.0.0\nscales\n1.4.0\n\n\ncpp11\n0.5.3\nkableExtra\n1.4.0\nselectr\n0.5-1\n\n\ncrayon\n1.5.3\nKernSmooth\n2.23-26\nsessioninfo\n1.2.3\n\n\ncredentials\n2.0.3\nknitr\n1.51\nsf\n1.0-24\n\n\ncropcircles\n0.2.4\nlabeling\n0.4.3\nshiny\n1.12.1\n\n\ncrosstalk\n1.2.2\nlabelled\n2.16.0\nshowtext\n0.9-7\n\n\ncrul\n1.6.0\nlater\n1.4.5\nshowtextdb\n3.0\n\n\ncurl\n7.0.0\nlattice\n0.22-7\nsourcetools\n0.1.7-1\n\n\ndata.table\n1.17.8\nlazyeval\n0.2.2\nsp\n2.2-0\n\n\ndatasets\n4.5.2\nlifecycle\n1.0.5\nsplines\n4.5.2\n\n\nDBI\n1.2.3\nlitedown\n0.9\nstats\n4.5.2\n\n\ndbplyr\n2.5.1\nlpSolve\n5.6.23\nstats4\n4.5.2\n\n\ndesc\n1.4.3\nlubridate\n1.9.5\nstringi\n1.8.7\n\n\ndevtools\n2.4.6\nmagick\n2.9.0\nstringr\n1.6.0\n\n\ndiffobj\n0.3.6\nmagrittr\n2.0.4\nsvglite\n2.2.2\n\n\ndigest\n0.6.39\nmaps\n3.4.3\nsys\n3.4.3\n\n\ndownlit\n0.4.5\nmarkdown\n2.0\nsysfonts\n0.8.9\n\n\ndownloader\n0.4.1\nmarquee\n1.2.1\nsystemfonts\n1.3.1\n\n\ndplyr\n1.2.0\nMASS\n7.3-65\ntcltk\n4.5.2\n\n\nDT\n0.34.0\nMatrix\n1.7-4\nterra\n1.8-93\n\n\ndtplyr\n1.3.2\nmemoise\n2.0.1\ntestthat\n3.3.2\n\n\ne1071\n1.7-17\nMetBrewer\n0.2.0\ntextshaping\n1.0.4\n\n\nellipsis\n0.3.2\nmethods\n4.5.2\ntibble\n3.3.1\n\n\nevaluate\n1.0.5\nmime\n0.13\ntidyr\n1.3.2\n\n\nextrafont\n0.20\nminiUI\n0.1.2\ntidyselect\n1.2.1\n\n\nextrafontdb\n1.1\nmodelr\n0.1.11\ntidytuesdayR\n1.2.1\n\n\nfansi\n1.0.7\nmunsell\n0.5.1\ntidyverse\n2.0.0\n\n\nfarver\n2.1.2\nnaniar\n1.1.0\ntiff\n0.1-12\n\n\nfastmap\n1.2.0\nnorm\n1.0-11.1\ntimechange\n0.4.0\n\n\nfilelock\n1.0.3\nopenssl\n2.3.4\ntinytex\n0.58\n\n\nfontawesome\n0.5.3\nopenxlsx\n4.2.8.1\ntools\n4.5.2\n\n\nfontBitstreamVera\n0.1.1\notel\n0.2.0\ntriebeard\n0.4.1\n\n\nfontLiberation\n0.1.0\npak\n0.9.2\ntweenr\n2.0.3\n\n\nfontquiver\n0.2.1\npaletteer\n1.7.0\ntzdb\n0.5.0\n\n\nforcats\n1.0.1\npander\n0.6.6\nunits\n1.0-0\n\n\nformatR\n1.14\nparallel\n4.5.2\nUpSetR\n1.4.0\n\n\nfs\n1.6.6\npatchwork\n1.3.2\nurlchecker\n1.0.1\n\n\nfunspotr\n0.0.5\npillar\n1.11.1\nurltools\n1.7.3.1\n\n\ngargle\n1.6.1\npkgbuild\n1.4.8\nusethis\n3.2.1\n\n\ngdtools\n0.4.4\npkgcache\n2.2.4\nutf8\n1.2.6\n\n\ngenerics\n0.1.4\npkgconfig\n2.0.3\nutils\n4.5.2\n\n\ngeofacet\n0.2.4\npkgdown\n2.2.0\nuuid\n1.2-2\n\n\ngeogrid\n0.1.2\npkgload\n1.5.0\nvctrs\n0.7.1\n\n\ngert\n2.3.1\nplyr\n1.8.9\nviridis\n0.6.5\n\n\ngfonts\n0.2.0\npng\n0.1-8\nviridisLite\n0.4.3\n\n\nGGally\n2.4.0\npoissoned\n0.1.3.9000\nvisdat\n0.6.0\n\n\nggforce\n0.5.0\npolyclip\n1.10-7\nvroom\n1.7.0\n\n\nggfun\n0.2.0\npraise\n1.0.0\nwaffle\n1.0.2\n\n\ngghighlight\n0.5.0\nprettycode\n1.1.0\nwaldo\n0.6.2\n\n\nggimage\n0.3.5\nprettyunits\n1.2.0\nwebshot\n0.5.5\n\n\nggiraph\n0.9.4\nprismatic\n1.1.2\nwhisker\n0.4.1\n\n\nggpattern\n1.2.1\nprocessx\n3.8.6\nwithr\n3.0.2\n\n\nggplot2\n4.0.2\nprofvis\n0.4.0\nwk\n0.9.5\n\n\nggplotify\n0.1.3\nprogress\n1.2.3\nxfun\n0.56\n\n\nggrepel\n0.9.6\npromises\n1.5.0\nxml2\n1.5.2\n\n\nggstats\n0.12.0\nproxy\n0.4-29\nxopen\n1.0.1\n\n\nggtext\n0.1.2\nps\n1.9.1\nxtable\n1.8-4\n\n\ngh\n1.5.0\npurrr\n1.2.1\nyaml\n2.3.12\n\n\ngifski\n1.32.0-2\nR6\n2.6.1\nyulab.utils\n0.2.4\n\n\ngitcreds\n0.1.2\nragg\n1.5.0\nzip\n2.3.3\n\n\n\n\n\n\n\n\n소스 코드의 사본은 github.com/nrennie/art-of-viz에서 찾을 수 있습니다.",
    "crumbs": [
      "부록"
    ]
  },
  {
    "objectID": "appendix.html#데이터",
    "href": "appendix.html#데이터",
    "title": "부록",
    "section": "데이터",
    "text": "데이터\n이 책에서 사용된 모든 데이터 세트 및 관련 라이선스에 대한 링크:\n\n\nChapter 2: Programming Languages Database (PLDB contributors 2022)\n\nSource: pldb.com\n\nLicense: PLDB content is published to the public domain and you can use it freely.\n\n\n\n\n\nChapter 3: Mapping Museums (Mapping Museums 2021)\n\nSource: museweb.dcs.bbk.ac.uk/allmus\n\nLicense: Licensed with Creative Commons Attribution 4.0 International.\n\n\n\n\n\nChapter 4: Honey Bee Colonies (United States Department of Agriculture: Economics, Statistics and Market Information System 2022)\n\nSource: usda.library.cornell.edu/concern/publications/rn301137d\n\nLicense: All publication files are considered government works and licensed with U.S. Public Domain.\n\n\n\n\n\nChapter 5: City of Long Beach Animal Shelter Data (Long Beach Animal Shelter 2025)\n\nSource: data.longbeach.gov/explore/dataset/animal-shelter-intakes-and-outcomes\n\nLicense: Licensed with Creative Commons Attribution 4.0 International.\n\n\n\n\n\nChapter 6: Canadian Wind Turbine Database (Natural Resources Canada 2021)\n\nSource: open.canada.ca/data/en/dataset/79fdad93-9025-49ad-ba16-c26d718cc070\n\nLicense: Licensed with Open Government Licence – Canada.\n\n\n\n\n\nChapter 7: The small home ranges and large local ecological impacts of pet cats (McDonald and Cole 2020)\n\nSource: www.datarepository.movebank.org/entities/datapackage/4ef43458-a0c0-4ff0-aed4-64b07cedf11c\n\nLicense: Licensed with Creative Commons Zero License.\n\n\n\n\n\nChapter 8: Nobel Prize Laureates (www.nobelprize.org 2024)\n\nSource: api.nobelprize.org/2.1/laureates\n\nLicense: Licensed with Creative Commons Zero License.\n\n\n\n\n\nChapter 9: Duke Lemur Center (Zehr et al. 2014)\n\nSource: lemur.duke.edu/duke-lemur-center-database\n\nLicense: Licensed with Creative Commons Zero License.\n\n\n\n\n\nChapter 10: tidytuesday GitHub Repository by nrennie (Rennie 2024c)\n\nSource: github.com/nrennie/tidytuesday\n\nLicense: Licensed with Creative Commons Attribution 4.0 International.\n\n\n\n\n\nChapter 11: Medical doctors per 1,000 people, 2019 (Our World in Data 2019)\n\nSource: ourworldindata.org/grapher/physicians-per-1000-people\n\nLicense: Licensed with Creative Commons Attribution 4.0 International.\n\n\n\n\n\nChapter 12: Time Zones (Internet Assigned Numbers Authority 2023)\n\nSource: data.iana.org/time-zones/tz-link.html#tzdb\n\nLicense: This web page is in the public domain.\n\n\n\n\n\nChapter 13: US House Election Results (MIT Election Data and Science Lab 2017)\n\nSource: doi.org/10.7910/DVN/IG0UN2\n\nLicense: Licensed with Creative Commons Zero License.",
    "crumbs": [
      "부록"
    ]
  },
  {
    "objectID": "appendix.html#이미지",
    "href": "appendix.html#이미지",
    "title": "부록",
    "section": "이미지",
    "text": "이미지\n이 책에서 사용된 모든 이미지(저자가 만들지 않은 것) 및 관련 라이선스에 대한 링크:\n\nImage: Lemur by Jax (@lysrix)\n\nSource: unsplash.com/photos/red-and-white-rodent-h5xrh3CNT-k (Jax (@lysrix) 2017)\n\nLicense: Licensed with Unsplash License.\n\n\n\n\nImage: {dplyr} Hex sticker\n\nSource: github.com/rstudio/hex-stickers/blob/main/PNG/dplyr.png (RStudio 2020a)\n\nLicense: Licensed with Creative Commons Zero License.\n\n\n\n\nImage: {ggplot2} Hex sticker\n\nSource: github.com/rstudio/hex-stickers/blob/main/PNG/gglot2.png (RStudio 2018b)\n\nLicense: Licensed with Creative Commons Zero License.\n\n\n\n\nImage: {tidyr} Hex sticker\n\nSource: github.com/rstudio/hex-stickers/blob/main/PNG/tidyr.png (RStudio 2020c)\n\nLicense: Licensed with Creative Commons Zero License.\n\n\n\n\nImage: {readr} Hex sticker\n\nSource: github.com/rstudio/hex-stickers/blob/main/PNG/readr.png (RStudio 2018d)\n\nLicense: Licensed with Creative Commons Zero License.\n\n\n\n\nImage: {purrr} Hex sticker\n\nSource: github.com/rstudio/hex-stickers/blob/main/PNG/purrr.png (RStudio 2018c)\n\nLicense: Licensed with Creative Commons Zero License.\n\n\n\n\nImage: {forcats} Hex sticker\n\nSource: github.com/rstudio/hex-stickers/blob/main/PNG/forcats.png (RStudio 2018a)\n\nLicense: Licensed with Creative Commons Zero License.\n\n\n\n\nImage: {tibble} Hex sticker\n\nSource: github.com/rstudio/hex-stickers/blob/main/PNG/tibble.png (RStudio 2018e)\n\nLicense: Licensed with Creative Commons Zero License.\n\n\n\n\nImage: {stringr} Hex sticker\n\nSource: github.com/rstudio/hex-stickers/blob/main/PNG/stringr.png (RStudio 2020b)\n\nLicense: Licensed with Creative Commons Zero License.\n\n\n\n\nImage: Wind Power Flaticon\n\nSource: www.flaticon.com/free-icon/wind-power_5670189 (Flaticon.com 2024)\n\nLicense: Licensed with Flaticon License: Free for personal and commercial purpose with attribution.",
    "crumbs": [
      "부록"
    ]
  },
  {
    "objectID": "appendix.html#시각화-갤러리",
    "href": "appendix.html#시각화-갤러리",
    "title": "부록",
    "section": "시각화 갤러리",
    "text": "시각화 갤러리\n2  프로그래밍 언어: ggplot2를 이용한 덤벨 차트 장:\n\n\n\n\n3  영국 박물관: gghighlight로 선형 차트 강조하기 장:\n\n\n\n\n4  꿀벌 군집 손실:푸아송 디스크 샘플링으로 수량 시각화 장:\n\n\n\n\n5  동물 보호소 입소: ggforce를 사용한 게이지 차트 만들기 장:\n\n\n\n\n6  캐나다 풍력 터빈: 와플 차트와 픽토그램 장:\n\n\n\n\n7  고양이: ggtext를 사용한 데이터 기반 주석 장:\n\n\n\n\n8  노벨상 수상자: 텍스트 배치 및 플롯 매개변수화 장:\n\n\n\n\n9  여우원숭이: R에서 이미지 조작하기 장:\n\n\n\n\n10  R 패키지: 사용자 지정 패면 레이블에 이미지 사용하기 장:\n11  전 세계 의사 분포: ggplot2로 지도 만들기 장:\n\n\n\n\n12  시간대: sf를 사용한 공간 데이터 및 매핑 장:\n13  미국 하원 선거: geofacet을 이용한 그리드 위의 지리 장:",
    "crumbs": [
      "부록"
    ]
  },
  {
    "objectID": "appendix.html#책-표지",
    "href": "appendix.html#책-표지",
    "title": "부록",
    "section": "책 표지",
    "text": "책 표지\n이 책의 (작업 중인) 표지도 ggplot2로 만들어졌습니다. 아래에서 코드를 볼 수 있습니다.\n\nCode# Packages ----------------------------------------------------------------\n\nlibrary(ggplot2)\nlibrary(showtext)\nlibrary(cropcircles)\nlibrary(ggimage)\n\n\n# Fonts -------------------------------------------------------------------\n\nfont_add_google(\"Source Sans 3\", \"Source\")\nfont_add_google(\"Noto Sans KR\", \"noto_sans_kr\")\nshowtext_auto()\nshowtext_opts(dpi = 300)\n\n\n# Functions ---------------------------------------------------------------\n\nis_even &lt;- function(x) {\n  return((x %% 2) == 0)\n}\n\nmake_hex_coords &lt;- function(x0, y0, r) {\n  angles &lt;- seq(pi / 6, 2 * pi + pi / 6, length.out = 7)\n  hexagon_coords &lt;- function(xc, yc, rad, id) {\n    x &lt;- xc + rad * cos(angles)\n    y &lt;- yc + rad * sin(angles)\n    data.frame(x = x, y = y, grp = id, x_grp = xc, y_grp = yc)\n  }\n  result &lt;- do.call(\n    rbind,\n    mapply(hexagon_coords, x0, y0, r, seq_along(x0),\n      SIMPLIFY = FALSE\n    )\n  )\n\n  return(result)\n}\n\n\n# Parameters --------------------------------------------------------------\n\nn_x &lt;- 5\nn_y &lt;- 8\n\ncol_palette &lt;- c(\"#FBEBFF\", \"#E999FF\", \"#9300B8\", \"#400052\")\nbg_col &lt;- \"#200029\"\nbody_font &lt;- \"Source\"\nkorean_font &lt;- \"noto_sans_kr\"\n\npadding &lt;- 20\nwidth &lt;- 5\n\n\n# Generate data -----------------------------------------------------------\n\ninputs &lt;- expand.grid(\n  x = seq(1, length.out = n_x, by = 1),\n  y = seq(1, length.out = n_y, by = 1)\n) |&gt;\n  tibble::as_tibble() |&gt;\n  dplyr::mutate(\n    x = dplyr::if_else(\n      is_even(y),\n      x + 0.5,\n      x\n    )\n  )\ncol_df &lt;- data.frame(\n  col_grp = seq(1, n_x + 0.5, by = 0.5),\n  color = rev(grDevices::colorRampPalette(col_palette)(n_x * 2)),\n  alpha = seq(0.2, 0.6, length.out = n_x * 2)\n)\noutput &lt;- make_hex_coords(\n  x0 = inputs$x,\n  y0 = inputs$y,\n  r = rep(0.5, n_x * n_y)\n) |&gt;\n  tibble::as_tibble() |&gt;\n  dplyr::left_join(col_df, by = c(\"x_grp\" = \"col_grp\"))\n\n\n# Subplots ----------------------------------------------------------------\n\ng1 &lt;- ggplot() +\n  geom_col(\n    data = data.frame(\n      x = LETTERS[1:3],\n      y = c(2, 5, 3)\n    ),\n    mapping = aes(x = x, y = y),\n    fill = bg_col\n  ) +\n  theme_void() +\n  theme(\n    plot.background = element_rect(\n      fill = \"white\", color = \"white\"\n    ),\n    axis.line.x.bottom = element_line(color = bg_col, linewidth = 1),\n    axis.line.y.left = element_line(color = bg_col, linewidth = 1),\n    plot.margin = margin(30, 30, 30, 30),\n    aspect.ratio = 1\n  )\ntmp_a &lt;- tempfile()\nggsave(tmp_a, g1,\n       device = \"png\",\n       height = 400, width = 400,\n       dpi = 300, bg = bg_col,\n       units = \"px\"\n)\nimg_cropped_a &lt;- crop_hex(tmp_a, bg_fill = \"white\")\n\nset.seed(1234)\nx &lt;- runif(15)\ng2 &lt;- ggplot() +\n  geom_point(\n    data = data.frame(\n      x = x,\n      y = x + runif(15, 0, 0.1)\n    ),\n    mapping = aes(x = x, y = y),\n    fill = bg_col\n  ) +\n  scale_x_continuous(limits = c(0, 1)) +\n  scale_y_continuous(limits = c(0, 1)) +\n  theme_void() +\n  theme(\n    plot.background = element_rect(\n      fill = \"white\", color = \"white\"\n    ),\n    axis.line.x.bottom = element_line(color = bg_col, linewidth = 1),\n    axis.line.y.left = element_line(color = bg_col, linewidth = 1),\n    plot.margin = margin(30, 30, 30, 30),\n    aspect.ratio = 1\n  )\ntmp_b &lt;- tempfile()\nggsave(tmp_b, g2,\n       device = \"png\",\n       height = 400, width = 400,\n       dpi = 300, bg = bg_col,\n       units = \"px\"\n)\nimg_cropped_b &lt;- crop_hex(tmp_b, bg_fill = \"white\")\n\ng3 &lt;- ggplot() +\n  geom_line(\n    data = data.frame(\n      x = 1:10,\n      y = cumsum(runif(10))\n    ),\n    mapping = aes(x = x, y = y),\n    color = bg_col\n  ) +\n  geom_line(\n    data = data.frame(\n      x = 1:10,\n      y = cumsum(runif(10, 0, 0.5))\n    ),\n    mapping = aes(x = x, y = y),\n    color = col_palette[3]\n  ) +\n  theme_void() +\n  theme(\n    plot.background = element_rect(\n      fill = \"white\", color = \"white\"\n    ),\n    axis.line.x.bottom = element_line(color = bg_col, linewidth = 1),\n    axis.line.y.left = element_line(color = bg_col, linewidth = 1),\n    plot.margin = margin(30, 30, 30, 30),\n    aspect.ratio = 1\n  )\ntmp_c &lt;- tempfile()\nggsave(tmp_c, g3,\n       device = \"png\",\n       height = 400, width = 400,\n       dpi = 300, bg = bg_col,\n       units = \"px\"\n)\nimg_cropped_c &lt;- crop_hex(tmp_c, bg_fill = \"white\")\n\n\n# Plot --------------------------------------------------------------------\n\nggplot() +\n  geom_polygon(\n    data = output,\n    mapping = aes(\n      x = x, y = y, group = grp,\n      color = alpha(color, alpha)\n    ),\n    fill = \"transparent\",\n    linewidth = 0.4\n  ) +\n  geom_image(\n    data = output[1,],\n    aes(\n      x = 4.5,\n      y = 4,\n      image = img_cropped_a\n    ),\n    size = 0.1\n  ) +\n  geom_image(\n    data = output[1,],\n    aes(\n      x = 2,\n      y = 5,\n      image = img_cropped_b\n    ),\n    size = 0.1\n  ) +\n  geom_image(\n    data = output[1,],\n    aes(\n      x = 3.5,\n      y = 6,\n      image = img_cropped_c\n    ),\n    size = 0.1\n  ) +\n  annotate(\n    \"text\",\n    x = 1.25, y = 2.2,\n    label = \"ggplot2를 활용한\\n데이터 시각화의\\n기술\",\n    family = korean_font,\n    color = \"white\",\n    hjust = 0,\n    vjust = 1,\n    size = 28,\n    fontface = \"bold\",\n    size.unit = \"pt\"\n  ) +\n  annotate(\n    \"text\",\n    x = 1.25, y = 6.9,\n    label = \"Nicola Rennie\",\n    family = body_font,\n    color = \"white\",\n    hjust = 0,\n    vjust = 1,\n    size = 18,\n    fontface = \"bold\",\n    size.unit = \"pt\"\n  ) +\n  scale_color_identity() +\n  scale_y_reverse() +\n  coord_fixed(expand = FALSE, clip = \"off\") +\n  theme_void() +\n  theme(\n    plot.background = element_rect(fill = bg_col, color = bg_col),\n    plot.margin = margin(-padding, -padding, -padding, -padding)\n  )\n\n\n# Save --------------------------------------------------------------------\n\nif (interactive()) {\n  ggsave(\"images/cover.png\",\n         height = 1.5*width, width = width,\n         dpi = 300, bg = bg_col\n  )\n}\n\n\n\n\n\n\n\n\n\n\n\nAnscombe, F. J. 1973. “Graphs in Statistical Analysis.” The American Statistician 27 (1): 17–21. https://doi.org/10.1080/00031305.1973.10478966.\n\n\nAphalo, Pedro J. 2024. Learn R: As a Language. Second Edition. CRC Press. https://www.learnr-book.info/.\n\n\nAuguie, Baptiste. 2019. egg: Extensions for ’ggplot2’: Custom Geom, Custom Themes, Plot Alignment, Labelled Panels, Symmetric Scales, and Fixed Panel Size. https://CRAN.R-project.org/package=egg.\n\n\nBarthelme, Simon. 2024. imager: Image Processing Library Based on ’CImg’. https://CRAN.R-project.org/package=imager.\n\n\nBrand, Teun van den. 2025. “ggplot2 4.0.0.” https://www.tidyverse.org/blog/2025/09/ggplot2-4-0-0/.\n\n\nBridson, Robert. 2007. “Fast Poisson Disk Sampling in Arbitrary Dimensions.” In ACM SIGGRAPH 2007 Sketches. SIGGRAPH ’07. New York, NY, USA: Association for Computing Machinery. https://doi.org/10.1145/1278780.1278807.\n\n\nBrown, Mark J.F., and Paxton, Robert J. 2009. “The Conservation of Bees: A Global Perspective.” Apidologie 40 (3): 410–16. https://doi.org/10.1051/apido/2009019.\n\n\nCameron, Allan, and Teun van den Brand. 2024. geomtextpath: Curved Text in ’ggplot2’. https://CRAN.R-project.org/package=geomtextpath.\n\n\nCARTO. 2016. ’CARTOColors’ Palettes. https://carto.com/carto-colors/.\n\n\nChang, Winston. 2023. extrafont: Tools for Using Fonts. https://CRAN.R-project.org/package=extrafont.\n\n\nCheung, Foo. 2021. dumbbell: Displaying Changes Between Two Points Using Dumbbell Plots. https://CRAN.R-project.org/package=dumbbell.\n\n\nCowgill, Matt, and John Helveston. 2021. ggannotate: Interactively Annotate ggplot2 Plots. https://github.com/MattCowgill/ggannotate.\n\n\nCsárdi, Gábor, and Jim Hester. 2024. pak: Another Approach to Package Installation. https://CRAN.R-project.org/package=pak.\n\n\nCsárdi, Gábor, Jim Hester, Hadley Wickham, Winston Chang, Martin Morgan, and Dan Tenenbaum. 2024. remotes: R Package Installation from Remote Repositories, Including ’GitHub’. https://CRAN.R-project.org/package=remotes.\n\n\nDomin, Iaroslav. 2024. ggview: ’ggplot2’ Picture Previewer. https://CRAN.R-project.org/package=ggview.\n\n\nEngler, Jan Broder. 2024. “Tidyplots Empowers Life Scientists with Easy Code-Based Data Visualization.” bioRxiv. https://doi.org/10.1101/2024.11.08.621836.\n\n\nFC, Mike, Trevor L. Davis, and ggplot2 authors. 2024. ggpattern: ’ggplot2’ Pattern Geoms. https://CRAN.R-project.org/package=ggpattern.\n\n\nFlaticon.com. 2024. “Wind Power Flaticon.” https://www.flaticon.com/free-icon/wind-power_5670189.\n\n\nFont Awesome. 2024. “Font Awesome 6.” https://fontawesome.com/.\n\n\nFranconeri, Steven L., Lace M. Padilla, Priti Shah, Jeffrey M. Zacks, and Jessica Hullman. 2021. “The Science of Visual Data Communication: What Works.” Psychological Science in the Public Interest 22 (3): 110–61. https://doi.org/10.1177/15291006211051956.\n\n\nGarnier, Simon, Ross, Noam, Rudis, Robert, Camargo, et al. 2024. viridis(Lite) - Colorblind-Friendly Color Maps for R. https://doi.org/10.5281/zenodo.4679423.\n\n\nGohel, David, and Panagiotis Skintzos. 2024. ggiraph: Make ’ggplot2’ Graphics Interactive. https://CRAN.R-project.org/package=ggiraph.\n\n\nGovernment Analysis Function. 2021. “Data Visualisation: Colours.” https://analysisfunction.civilservice.gov.uk/policy-store/data-visualisation-colours-in-charts/.\n\n\nHafen, Ryan. 2023. geofacet: ’ggplot2’ Faceting Utilities for Geographical Data. https://CRAN.R-project.org/package=geofacet.\n\n\nHarmon, Jon. 2024. Web APIs with R. CRC Press. https://wapir.io/.\n\n\nHester, Jim, Florent Angly, Russ Hyde, Michael Chirico, Kun Ren, Alexander Rosenstock, and Indrajeet Patil. 2024. lintr: A ’Linter’ for R Code. https://CRAN.R-project.org/package=lintr.\n\n\nHester, Jim, and Jennifer Bryan. 2024. glue: Interpreted String Literals. https://glue.tidyverse.org/.\n\n\nHughes, Ellis. 2022a. camcorder: Record Your Plot History. https://CRAN.R-project.org/package=camcorder.\n\n\n———. 2022b. tidytuesdayR: Access the Weekly ’TidyTuesday’ Project Dataset. https://CRAN.R-project.org/package=tidytuesdayR.\n\n\nHvitfeldt, Emil. 2021. paletteer: Comprehensive Collection of Color Palettes. https://github.com/EmilHvitfeldt/paletteer.\n\n\n———. 2025. animalshelter: Animal Shelter Data. https://github.com/EmilHvitfeldt/animalshelter.\n\n\nIannone, Richard. 2024. fontawesome: Easily Work with ’Font Awesome’ Icons. https://CRAN.R-project.org/package=fontawesome.\n\n\nInternet Assigned Numbers Authority. 2023. “The tz Database: Time Zone and Daylight Saving Time Data.” Internet Assigned Numbers Authority. https://data.iana.org/time-zones/tz-link.html.\n\n\nJax (@lysrix). 2017. “Lemur.” https://unsplash.com/photos/red-and-white-rodent-h5xrh3CNT-k.\n\n\nKays, R., R. R. Dunn, A. W. Parsons, B. Mcdonald, T. Perkins, S. A. Powers, L. Shell, et al. 2020. “The Small Home Ranges and Large Local Ecological Impacts of Pet Cats.” Animal Conservation 23 (5): 516–23. https://doi.org/10.1111/acv.12563.\n\n\nKeyes, David. 2024. R for the Rest of Us: A Statistics-Free Introduction. No Starch Press. https://book.rfortherestofus.com/.\n\n\nLong Beach Animal Shelter. 2025. “Animal Shelter Data.” City of Long Beach Animal Care Services. https://data.longbeach.gov/explore/dataset/animal-shelter-intakes-and-outcomes/information/.\n\n\nLucchesi, Lydia, and Petra Kuhnert. 2020. Vizumap: Visualizing Uncertainty in Spatial Data. https://github.com/lydialucchesi/Vizumap.\n\n\nMapping Museums. 2021. “Mapping Museums Data.” www.mappingmuseums.org.\n\n\nMassicotte, Philippe, and Andy South. 2023. rnaturalearth: World Map Data from Natural Earth. https://docs.ropensci.org/rnaturalearth/.\n\n\nMatejka, Justin, and George Fitzmaurice. 2017. “Same Stats, Different Graphs: Generating Datasets with Varied Appearance and Identical Statistics Through Simulated Annealing.” In, 1290–94. https://doi.org/10.1145/3025453.3025912.\n\n\nMcDonald, J. L., and H. Cole. 2020. “Data from: The Small Home Ranges and Large Local Ecological Impacts of Pet Cats [United Kingdom].” Movebank data repository. https://doi.org/doi:10.5441/001/1.pf315732.\n\n\nMcWhite, Claire D., and Claus O. Wilke. 2024. colorblindr: Simulate colorblindness in R figures. https://github.com/clauswilke/colorblindr.\n\n\nMid-Atlantic Apiculture Research and Extension Consortium. 2024. “Seasonal Cycles of Activities in Colonies.” https://canr.udel.edu/maarec/honey-bee-biology/seasonal-cycles-of-activities-in-colonies/.\n\n\nmikefc. 2024. poissoned: Tileable Poisson Disc Sampling. https://github.com/coolbutuseless/poissoned.\n\n\nMills, Blake Robert. 2022. MetBrewer: Color Palettes Inspired by Works at the Metropolitan Museum of Art. https://CRAN.R-project.org/package=MetBrewer.\n\n\nMIT Election Data and Science Lab. 2017. “U.S. House 1976–2022.” Harvard Dataverse. https://doi.org/10.7910/DVN/IG0UN2.\n\n\nMüller, Kirill, and Lorenz Walthert. 2023. styler: Non-Invasive Pretty Printing of R Code. https://CRAN.R-project.org/package=styler.\n\n\nMüller, Kirill, and Hadley Wickham. 2023. tibble: Simple Data Frames. https://CRAN.R-project.org/package=tibble.\n\n\nMuth, Lisa. 2018. “An Alternative to Pink & Blue: Colors for Gender Data.” https://blog.datawrapper.de/gendercolor/.\n\n\nNatural Resources Canada. 2021. “Canadian Wind Turbine Database.” Natural Resources Canada (Government of Canada). https://open.canada.ca/data/en/dataset/79fdad93-9025-49ad-ba16-c26d718cc070.\n\n\nNoblet, Guillaume. 2025. ggbranding: Add Personal Branding to ’ggplot2’ Charts. https://github.com/gnoblet/ggbranding.\n\n\nNowosad, Jakub. 2018. ’CARTOColors’ Palettes. https://jakubnowosad.com/rcartocolor/.\n\n\nOoms, Jeroen. 2024. magick: Advanced Graphics and Image-Processing in R. https://CRAN.R-project.org/package=magick.\n\n\nOur World in Data. 2019. “Medical Doctors Per 1,000 People.” https://ourworldindata.org/grapher/physicians-per-1000-people.\n\n\nPebesma, Edzer. 2018. “Simple Features for R: Standardized Support for Spatial Vector Data.” The R Journal 10 (1): 439–46. https://doi.org/10.32614/RJ-2018-009.\n\n\nPedersen, Thomas Lin. 2022. ggforce: Accelerating ’ggplot2’. https://CRAN.R-project.org/package=ggforce.\n\n\n———. 2024. patchwork: The Composer of Plots. https://CRAN.R-project.org/package=patchwork.\n\n\n———. 2025. “Fonts in R.” https://www.tidyverse.org/blog/2025/05/fonts-in-r/.\n\n\nPedersen, Thomas Lin, and Martin Mitáš. 2024. marquee: Markdown Parser and Renderer for R Graphics. https://CRAN.R-project.org/package=marquee.\n\n\nPedersen, Thomas Lin, Jeroen Ooms, and Devon Govett. 2024. systemfonts: System Native Font Finding. https://CRAN.R-project.org/package=systemfonts.\n\n\nPedersen, Thomas Lin, and Maxim Shemanarev. 2023. ragg: Graphic Devices Based on AGG. https://CRAN.R-project.org/package=ragg.\n\n\nPLDB contributors. 2022. “PLDB: A Programming Language Database.” PLDB. https://pldb.com.\n\n\nQiu, Yixuan. 2022. sysfonts: Loading Fonts into R. https://CRAN.R-project.org/package=sysfonts.\n\n\n———. 2023. showtext: Using Fonts More Easily in R Graphs. https://CRAN.R-project.org/package=showtext.\n\n\nR Core Team. 2024. R: A Language and Environment for Statistical Computing. Vienna, Austria: R Foundation for Statistical Computing. https://www.R-project.org/.\n\n\nR4DS Online Learning Community. 2023. “Tidy Tuesday: A Weekly Social Data Project.” https://github.com/rfordatascience/tidytuesday.\n\n\nRennie, Nicola. 2023a. “Adding Social Media Icons to Charts with ggplot2.” https://nrennie.rbind.io/blog/adding-social-media-icons-ggplot2/.\n\n\n———. 2023b. “Creating Template Files with R.” https://nrennie.rbind.io/blog/script-templates-r/.\n\n\n———. 2023c. “Four Ways to Streamline Your R Workflows.” https://nrennie.rbind.io/blog/four-ways-streamline-r-workflows/.\n\n\n———. 2024a. ggtextcircle: Circular Text in ’ggplot2’. https://github.com/nrennie/ggtextcircle.\n\n\n———. 2024b. nobel: Access data from the Nobel Prize API via R. https://github.com/nrennie/nobel.\n\n\n———. 2024c. “tidytuesday.” GitHub Repository. GitHub. https://github.com/nrennie/tidytuesday.\n\n\nRennie, Nicola, and Andreas Krause. 2024. “Presenting data the Significance way - Part 1.” Significance 21 (3): 36–39. https://doi.org/10.1093/jrssig/qmae045.\n\n\nReynolds, Gina. 2025. “Everyday ggplot2 extension.” https://evamaerey.github.io/everyday_ggplot2_extension/.\n\n\nRStudio. 2018a. “forcats Hex Sticker.” https://github.com/rstudio/hex-stickers/blob/main/PNG/forcats.png.\n\n\n———. 2018b. “ggplot2 Hex Sticker.” https://github.com/rstudio/hex-stickers/blob/main/PNG/ggplot2.png.\n\n\n———. 2018c. “purrr Hex Sticker.” https://github.com/rstudio/hex-stickers/blob/main/PNG/purrr.png.\n\n\n———. 2018d. “readr Hex Sticker.” https://github.com/rstudio/hex-stickers/blob/main/PNG/readr.png.\n\n\n———. 2018e. “tibble Hex Sticker.” https://github.com/rstudio/hex-stickers/blob/main/PNG/tibble.png.\n\n\n———. 2020a. “dplyr Hex Sticker.” https://github.com/rstudio/hex-stickers/blob/main/PNG/dplyr.png.\n\n\n———. 2020b. “stringr Hex Sticker.” https://github.com/rstudio/hex-stickers/blob/main/PNG/stringr.png.\n\n\n———. 2020c. “tidyr Hex Sticker.” https://github.com/rstudio/hex-stickers/blob/main/PNG/tidyr.png.\n\n\nRudis, Bob, Ben Bolker, and Jan Schulz. 2017. ggalt: Extra Coordinate Systems, ’Geoms’, Statistical Transformations, Scales and Fonts for ’ggplot2’. https://CRAN.R-project.org/package=ggalt.\n\n\nRudis, Bob, and Dave Gandy. 2023. waffle: Create Waffle Chart Visualizations. https://CRAN.R-project.org/package=waffle.\n\n\nSarkar, Deepayan. 2008. Lattice: Multivariate Data Visualization with r. New York: Springer. http://lmdvr.r-forge.r-project.org.\n\n\nSchauberger, Philipp, and Alexander Walker. 2023. openxlsx: Read, Write and Edit xlsx Files. https://CRAN.R-project.org/package=openxlsx.\n\n\nScheuch, Christoph. 2025. owidapi: Access the Our World in Data Chart API. https://doi.org/10.32614/CRAN.package.owidapi.\n\n\nSchloerke, Barret, Di Cook, Joseph Larmarange, Francois Briatte, Moritz Marbach, Edwin Thoen, Amos Elberg, and Jason Crowley. 2024. GGally: Extension to ’ggplot2’. https://CRAN.R-project.org/package=GGally.\n\n\nSchloss, Karen B., Connor C. Gramazio, Allison T. Silverman, Madeline L. Parker, and Audrey S. Wang. 2019. “Mapping Color to Meaning in Colormap Data Visualizations.” IEEE Transactions on Visualization and Computer Graphics 25 (1): 810–19. https://doi.org/10.1109/TVCG.2018.2865147.\n\n\nShalloway, Bryan. 2023. funspotr: Spot R Functions & Packages. https://CRAN.R-project.org/package=funspotr.\n\n\nSievert, Carson. 2020. Interactive Web-Based Data Visualization with r, Plotly, and Shiny. Chapman; Hall/CRC. https://plotly-r.com.\n\n\nSlowikowski, Kamil. 2024. ggrepel: Automatically Position Non-Overlapping Text Labels with ’ggplot2’. https://CRAN.R-project.org/package=ggrepel.\n\n\nTierney, Nicholas. 2017. “visdat: Visualising Whole Data Frames.” JOSS 2 (16): 355. https://doi.org/10.21105/joss.00355.\n\n\nTierney, Nicholas, and Dianne Cook. 2023. “Expanding Tidy Data Principles to Facilitate Missing Data Exploration, Visualization and Assessment of Imputations.” Journal of Statistical Software 105 (7): 1–31. https://doi.org/10.18637/jss.v105.i07.\n\n\nTol, Paul. 2021. “Paul Tol’s Notes: Colour schemes and templates.” https://sronpersonalpages.nl/~pault/.\n\n\nUnited States Census Bureau. 2021a. “Historical Population Change Data (1910-2020).” https://www.census.gov/data/tables/time-series/dec/popchange-data-text.html.\n\n\n———. 2021b. “State Area Measurements and Internal Point Coordinates.” https://www.census.gov/geographies/reference-files/2010/geo/state-area.html.\n\n\nUnited States Department of Agriculture: Economics, Statistics and Market Information System. 2022. “Honey Bee Colonies.” USDA Economics, Statistics and Market Information System. https://usda.library.cornell.edu/concern/publications/rn301137d.\n\n\nWalker, Kyle. 2022. crsuggest: Obtain Suggested Coordinate Reference System Information for Spatial Data. https://CRAN.R-project.org/package=crsuggest.\n\n\nWanzer, Dana Linnell, Tarek Azzam, Natalie D. Jones, and Darrel Skousen. 2021. “The Role of Titles in Enhancing Data Visualization.” Evaluation and Program Planning 84: 101896. https://doi.org/10.1016/j.evalprogplan.2020.101896.\n\n\nWickham, Hadley. 2016. ggplot2: Elegant Graphics for Data Analysis. Springer-Verlag New York. https://ggplot2.tidyverse.org.\n\n\n———. 2023a. forcats: Tools for Working with Categorical Variables (Factors). https://doi.org/10.32614/CRAN.package.forcats.\n\n\n———. 2023b. stringr: Simple, Consistent Wrappers for Common String Operations. https://CRAN.R-project.org/package=stringr.\n\n\nWickham, Hadley, Mara Averick, Jennifer Bryan, Winston Chang, Lucy D’Agostino McGowan, Romain François, Garrett Grolemund, et al. 2019. “Welcome to the tidyverse.” Journal of Open Source Software 4 (43): 1686. https://doi.org/10.21105/joss.01686.\n\n\nWickham, Hadley, and Jennifer Bryan. 2023. readxl: Read Excel Files. https://CRAN.R-project.org/package=readxl.\n\n\nWickham, Hadley, Mine Çetinkaya-Rundel, and Garrett Grolemund. 2023. R for Data Science. Second Edition. O-Reilly. https://r4ds.hadley.nz.\n\n\nWickham, Hadley, Romain François, Lionel Henry, Kirill Müller, and Davis Vaughan. 2023. dplyr: A Grammar of Data Manipulation. https://CRAN.R-project.org/package=dplyr.\n\n\nWickham, Hadley, and Lionel Henry. 2023. purrr: Functional Programming Tools. https://CRAN.R-project.org/package=purrr.\n\n\nWickham, Hadley, Jim Hester, and Jennifer Bryan. 2024. readr: Read Rectangular Text Data. https://CRAN.R-project.org/package=readr.\n\n\nWickham, Hadley, Thomas Lin Pedersen, and Dana Seidel. 2023. scales: Scale Functions for Visualization. https://CRAN.R-project.org/package=scales.\n\n\nWickham, Hadley, Davis Vaughan, and Maximilian Girlich. 2024. tidyr: Tidy Messy Data. https://CRAN.R-project.org/package=tidyr.\n\n\nWilke, Claus. 2022. ggtextures: Drawing Textured Rectangles and Bars with grid and ggplot2. https://github.com/clauswilke/ggtextures.\n\n\nWilke, Claus O. 2024. cowplot: Streamlined Plot Theme and Plot Annotations for ’ggplot2’. https://wilkelab.org/cowplot/.\n\n\nWilke, Claus O., and Brenton M. Wiernik. 2022. ggtext: Improved Text Rendering Support for ’ggplot2’. https://CRAN.R-project.org/package=ggtext.\n\n\nwww.nobelprize.org. 2024. “Nobel Prize API Version 2.1.” https://api.nobelprize.org/2.1/laureates.\n\n\nYork, Piers. 2023. owidR: Import Data from Our World in Data. https://github.com/piersyork/owidR.\n\n\nYu, Guangchuang. 2023. ggimage: Use Image in ’ggplot2’. https://CRAN.R-project.org/package=ggimage.\n\n\nYutani, Hiroaki. 2023. gghighlight: Highlight Lines and Points in ’ggplot2’. https://CRAN.R-project.org/package=gghighlight.\n\n\nZehr, Sarah M., Richard G. Roach, David Haring, Julie Taylor, Freda H. Cameron, and Anne D. Yoder. 2014. “Life history profiles for 27 strepsirrhine primate taxa generated using captive data from the Duke Lemur Center.” Scientific Data 1 (1). https://doi.org/10.1038/sdata.2014.19.",
    "crumbs": [
      "부록"
    ]
  }
]