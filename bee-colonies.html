<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" lang="en" xml:lang="en"><head>
<meta charset="UTF-8">
<meta name="generator" content="quarto-1.8.27">
<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes">
<title>4&nbsp; 꿀벌 군집 손실:푸아송 디스크 샘플링으로 수량 시각화 – The Art of Data Visualization with ggplot2</title>
<style>
code{white-space: pre-wrap;}
span.smallcaps{font-variant: small-caps;}
div.columns{display: flex; gap: min(4vw, 1.5em);}
div.column{flex: auto; overflow-x: auto;}
div.hanging-indent{margin-left: 1.5em; text-indent: -1.5em;}
ul.task-list{list-style: none;}
ul.task-list li input[type="checkbox"] {
  width: 0.8em;
  margin: 0 0.8em 0.2em -1em; /* quarto-specific, see https://github.com/quarto-dev/quarto-cli/issues/4556 */ 
  vertical-align: middle;
}
/* CSS for syntax highlighting */
html { -webkit-text-size-adjust: 100%; }
pre > code.sourceCode { white-space: pre; position: relative; }
pre > code.sourceCode > span { display: inline-block; line-height: 1.25; }
pre > code.sourceCode > span:empty { height: 1.2em; }
.sourceCode { overflow: visible; }
code.sourceCode > span { color: inherit; text-decoration: inherit; }
div.sourceCode { margin: 1em 0; }
pre.sourceCode { margin: 0; }
@media screen {
div.sourceCode { overflow: auto; }
}
@media print {
pre > code.sourceCode { white-space: pre-wrap; }
pre > code.sourceCode > span { text-indent: -5em; padding-left: 5em; }
}
pre.numberSource code
  { counter-reset: source-line 0; }
pre.numberSource code > span
  { position: relative; left: -4em; counter-increment: source-line; }
pre.numberSource code > span > a:first-child::before
  { content: counter(source-line);
    position: relative; left: -1em; text-align: right; vertical-align: baseline;
    border: none; display: inline-block;
    -webkit-touch-callout: none; -webkit-user-select: none;
    -khtml-user-select: none; -moz-user-select: none;
    -ms-user-select: none; user-select: none;
    padding: 0 4px; width: 4em;
  }
pre.numberSource { margin-left: 3em;  padding-left: 4px; }
div.sourceCode
  {   }
@media screen {
pre > code.sourceCode > span > a:first-child::before { text-decoration: underline; }
}
/* CSS for citations */
div.csl-bib-body { }
div.csl-entry {
  clear: both;
  margin-bottom: 0em;
}
.hanging-indent div.csl-entry {
  margin-left:2em;
  text-indent:-2em;
}
div.csl-left-margin {
  min-width:2em;
  float:left;
}
div.csl-right-inline {
  margin-left:2em;
  padding-left:1em;
}
div.csl-indent {
  margin-left: 2em;
}</style>

<script src="site_libs/quarto-nav/quarto-nav.js"></script>
<script src="site_libs/quarto-nav/headroom.min.js"></script>
<script src="site_libs/clipboard/clipboard.min.js"></script>
<script src="site_libs/quarto-search/autocomplete.umd.js"></script>
<script src="site_libs/quarto-search/fuse.min.js"></script>
<script src="site_libs/quarto-search/quarto-search.js"></script>
<meta name="quarto:offset" content="./">
<link href="./animal-intakes.html" rel="next">
<link href="./museums.html" rel="prev">
<script src="site_libs/quarto-html/quarto.js" type="module"></script>
<script src="site_libs/quarto-html/tabsets/tabsets.js" type="module"></script>
<script src="site_libs/quarto-html/axe/axe-check.js" type="module"></script>
<script src="site_libs/quarto-html/popper.min.js"></script>
<script src="site_libs/quarto-html/tippy.umd.min.js"></script>
<script src="site_libs/quarto-html/anchor.min.js"></script>
<link href="site_libs/quarto-html/tippy.css" rel="stylesheet">
<link href="site_libs/quarto-html/quarto-syntax-highlighting-795e9e8eca1e12b12abcb09a27409631.css" rel="stylesheet" id="quarto-text-highlighting-styles">
<script src="site_libs/bootstrap/bootstrap.min.js"></script>
<link href="site_libs/bootstrap/bootstrap-icons.css" rel="stylesheet">
<link href="site_libs/bootstrap/bootstrap-68ad1da78fd76636681285468deb74db.min.css" rel="stylesheet" append-hash="true" id="quarto-bootstrap" data-mode="light">
<link href="site_libs/quarto-contrib/line-highlight-1.0.0/line-highlight.css" rel="stylesheet"><script id="quarto-search-options" type="application/json">{
  "location": "sidebar",
  "copy-button": false,
  "collapse-after": 3,
  "panel-placement": "start",
  "type": "textbox",
  "limit": 50,
  "keyboard-shortcut": [
    "f",
    "/",
    "s"
  ],
  "show-item-context": false,
  "language": {
    "search-no-results-text": "No results",
    "search-matching-documents-text": "matching documents",
    "search-copy-link-title": "Copy link to search",
    "search-hide-matches-text": "Hide additional matches",
    "search-more-match-text": "more match in this document",
    "search-more-matches-text": "more matches in this document",
    "search-clear-button-title": "Clear",
    "search-text-placeholder": "",
    "search-detached-cancel-button-title": "Cancel",
    "search-submit-button-title": "Submit",
    "search-label": "Search"
  }
}</script><script async="" src="https://www.googletagmanager.com/gtag/js?id=G-1SWN5BH1PZ"></script><script type="text/javascript">

window.dataLayer = window.dataLayer || [];
function gtag(){dataLayer.push(arguments);}
gtag('js', new Date());
gtag('config', 'G-1SWN5BH1PZ', { 'anonymize_ip': true});
</script><script src="https://cdnjs.cloudflare.com/polyfill/v3/polyfill.min.js?features=es6"></script><script src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-chtml-full.js" type="text/javascript"></script><script type="text/javascript">
const typesetMath = (el) => {
  if (window.MathJax) {
    // MathJax Typeset
    window.MathJax.typeset([el]);
  } else if (window.katex) {
    // KaTeX Render
    var mathElements = el.getElementsByClassName("math");
    var macros = [];
    for (var i = 0; i < mathElements.length; i++) {
      var texText = mathElements[i].firstChild;
      if (mathElements[i].tagName == "SPAN" && texText && texText.data) {
        window.katex.render(texText.data, mathElements[i], {
          displayMode: mathElements[i].classList.contains('display'),
          throwOnError: false,
          macros: macros,
          fleqn: false
        });
      }
    }
  }
}
window.Quarto = {
  typesetMath
};
</script>
<meta property="og:title" content="4&nbsp; 꿀벌 군집 손실:푸아송 디스크 샘플링으로 수량 시각화 – The Art of Data Visualization with ggplot2">
<meta property="og:description" content="">
<meta property="og:image" content="https://nrennie.rbind.io/art-of-viz/bee-colonies_files/figure-html/fig-bees-boxplot-1.png">
<meta property="og:site_name" content="The Art of Data Visualization with ggplot2">
<meta property="og:image:alt" content="연도별 꿀벌 군집 수의 간단한 수평 상자 그림으로, 오른쪽에 많은 큰 값의 이상치가 있는 매우 치우친 분포를 보여줍니다. 아래쪽은 0으로 제한되어 있으므로 왼쪽에는 이상치가 없습니다.">
<meta property="og:image:height" content="990">
<meta property="og:image:width" content="1500">
</head>
<body class="nav-sidebar floating quarto-light">

<div id="quarto-search-results"></div>
  <header id="quarto-header" class="headroom fixed-top"><nav class="quarto-secondary-nav"><div class="container-fluid d-flex">
      <button type="button" class="quarto-btn-toggle btn" data-bs-toggle="collapse" role="button" data-bs-target=".quarto-sidebar-collapse-item" aria-controls="quarto-sidebar" aria-expanded="false" aria-label="Toggle sidebar navigation" onclick="if (window.quartoToggleHeadroom) { window.quartoToggleHeadroom(); }">
        <i class="bi bi-layout-text-sidebar-reverse"></i>
      </button>
        <nav class="quarto-page-breadcrumbs" aria-label="breadcrumb"><ol class="breadcrumb"><li class="breadcrumb-item"><a href="./common-charts.html">일반적인 차트도 지루할 필요는 없습니다!</a></li><li class="breadcrumb-item"><a href="./bee-colonies.html"><span class="chapter-number">4</span>&nbsp; <span class="chapter-title">꿀벌 군집 손실:푸아송 디스크 샘플링으로 수량 시각화</span></a></li></ol></nav>
        <a class="flex-grow-1" role="navigation" data-bs-toggle="collapse" data-bs-target=".quarto-sidebar-collapse-item" aria-controls="quarto-sidebar" aria-expanded="false" aria-label="Toggle sidebar navigation" onclick="if (window.quartoToggleHeadroom) { window.quartoToggleHeadroom(); }">      
        </a>
      <button type="button" class="btn quarto-search-button" aria-label="Search" onclick="window.quartoOpenSearch();">
        <i class="bi bi-search"></i>
      </button>
    </div>
  </nav></header><!-- content --><div id="quarto-content" class="quarto-container page-columns page-rows-contents page-layout-article">
<!-- sidebar -->
  <nav id="quarto-sidebar" class="sidebar collapse collapse-horizontal quarto-sidebar-collapse-item sidebar-navigation floating overflow-auto"><div class="pt-lg-2 mt-2 text-left sidebar-header">
    <div class="sidebar-title mb-0 py-0">
      <a href="./">The Art of Data Visualization with ggplot2</a> 
    </div>
      </div>
        <div class="mt-2 flex-shrink-0 align-items-center">
        <div class="sidebar-search">
        <div id="quarto-search" class="" title="Search"></div>
        </div>
        </div>
    <div class="sidebar-menu-container"> 
    <ul class="list-unstyled mt-1">
<li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./index.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">서문</span></a>
  </div>
</li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./author.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">저자</span></a>
  </div>
</li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./introduction.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">1</span>&nbsp; <span class="chapter-title">소개</span></span></a>
  </div>
</li>
        <li class="sidebar-item sidebar-item-section">
      <div class="sidebar-item-container"> 
            <a href="./common-charts.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">일반적인 차트도 지루할 필요는 없습니다!</span></a>
          <a class="sidebar-item-toggle text-start" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-1" role="navigation" aria-expanded="true" aria-label="Toggle section">
            <i class="bi bi-chevron-right ms-2"></i>
          </a> 
      </div>
      <ul id="quarto-sidebar-section-1" class="collapse list-unstyled sidebar-section depth1 show">
<li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./programming-languages.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">2</span>&nbsp; <span class="chapter-title">프로그래밍 언어: <strong><code>ggplot2</code></strong>를 이용한 덤벨 차트</span></span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./museums.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">3</span>&nbsp; <span class="chapter-title">영국 박물관: <strong><code>gghighlight</code></strong>로 선형 차트 강조하기</span></span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./bee-colonies.html" class="sidebar-item-text sidebar-link active">
 <span class="menu-text"><span class="chapter-number">4</span>&nbsp; <span class="chapter-title">꿀벌 군집 손실:푸아송 디스크 샘플링으로 수량 시각화</span></span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./animal-intakes.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">5</span>&nbsp; <span class="chapter-title">동물 보호소 입소: <strong><code>ggforce</code></strong>를 사용한 게이지 차트 만들기</span></span></a>
  </div>
</li>
      </ul>
</li>
        <li class="sidebar-item sidebar-item-section">
      <div class="sidebar-item-container"> 
            <a href="./text.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">아이콘, 글꼴 및 텍스트 활용</span></a>
          <a class="sidebar-item-toggle text-start" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-2" role="navigation" aria-expanded="true" aria-label="Toggle section">
            <i class="bi bi-chevron-right ms-2"></i>
          </a> 
      </div>
      <ul id="quarto-sidebar-section-2" class="collapse list-unstyled sidebar-section depth1 show">
<li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./wind-turbines.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">6</span>&nbsp; <span class="chapter-title">캐나다 풍력 터빈: 와플 차트와 픽토그램</span></span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./cats.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">7</span>&nbsp; <span class="chapter-title">고양이: <strong><code>ggtext</code></strong>를 사용한 데이터 기반 주석</span></span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./nobel-laureates.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">8</span>&nbsp; <span class="chapter-title">노벨상 수상자: 텍스트 배치 및 플롯 매개변수화</span></span></a>
  </div>
</li>
      </ul>
</li>
        <li class="sidebar-item sidebar-item-section">
      <div class="sidebar-item-container"> 
            <a href="./images.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">이미지 작업</span></a>
          <a class="sidebar-item-toggle text-start" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-3" role="navigation" aria-expanded="true" aria-label="Toggle section">
            <i class="bi bi-chevron-right ms-2"></i>
          </a> 
      </div>
      <ul id="quarto-sidebar-section-3" class="collapse list-unstyled sidebar-section depth1 show">
<li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./lemurs.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">9</span>&nbsp; <span class="chapter-title">여우원숭이: R에서 이미지 조작하기</span></span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./r-packages.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">10</span>&nbsp; <span class="chapter-title">R 패키지: 사용자 지정 패면 레이블에 이미지 사용하기</span></span></a>
  </div>
</li>
      </ul>
</li>
        <li class="sidebar-item sidebar-item-section">
      <div class="sidebar-item-container"> 
            <a href="./spatial.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">공간 데이터 시각화</span></a>
          <a class="sidebar-item-toggle text-start" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-4" role="navigation" aria-expanded="true" aria-label="Toggle section">
            <i class="bi bi-chevron-right ms-2"></i>
          </a> 
      </div>
      <ul id="quarto-sidebar-section-4" class="collapse list-unstyled sidebar-section depth1 show">
<li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./doctors.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">11</span>&nbsp; <span class="chapter-title">전 세계 의사 분포: <strong><code>ggplot2</code></strong>로 지도 만들기</span></span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./time-zones.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">12</span>&nbsp; <span class="chapter-title">시간대: <strong><code>sf</code></strong>를 사용한 공간 데이터 및 매핑</span></span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./us-elections.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">13</span>&nbsp; <span class="chapter-title">미국 하원 선거: <strong><code>geofacet</code></strong>을 이용한 그리드 위의 지리</span></span></a>
  </div>
</li>
      </ul>
</li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./other-tricks.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">14</span>&nbsp; <span class="chapter-title">기타 팁과 요령</span></span></a>
  </div>
</li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./references.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Bibliography</span></a>
  </div>
</li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./appendix.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">부록</span></a>
  </div>
</li>
    </ul>
</div>
</nav><div id="quarto-sidebar-glass" class="quarto-sidebar-collapse-item" data-bs-toggle="collapse" data-bs-target=".quarto-sidebar-collapse-item"></div>
<!-- margin-sidebar -->
    <div id="quarto-margin-sidebar" class="sidebar margin-sidebar">
        <nav id="TOC" role="doc-toc" class="toc-active"><h2 id="toc-title">Contents</h2>
   
  <ul>
<li><a href="#%EB%8D%B0%EC%9D%B4%ED%84%B0" id="toc-데이터" class="nav-link active" data-scroll-target="#%EB%8D%B0%EC%9D%B4%ED%84%B0"><span class="header-section-number">4.1</span> 데이터</a></li>
  <li>
<a href="#%ED%83%90%EC%83%89-%EC%9E%91%EC%97%85" id="toc-탐색-작업" class="nav-link" data-scroll-target="#%ED%83%90%EC%83%89-%EC%9E%91%EC%97%85"><span class="header-section-number">4.2</span> 탐색 작업</a>
  <ul class="collapse">
<li><a href="#%EB%8D%B0%EC%9D%B4%ED%84%B0-%ED%83%90%EC%83%89" id="toc-데이터-탐색" class="nav-link" data-scroll-target="#%EB%8D%B0%EC%9D%B4%ED%84%B0-%ED%83%90%EC%83%89"><span class="header-section-number">4.2.1</span> 데이터 탐색</a></li>
  <li><a href="#%ED%83%90%EC%83%89%EC%A0%81-%EC%8A%A4%EC%BC%80%EC%B9%98" id="toc-탐색적-스케치" class="nav-link" data-scroll-target="#%ED%83%90%EC%83%89%EC%A0%81-%EC%8A%A4%EC%BC%80%EC%B9%98"><span class="header-section-number">4.2.2</span> 탐색적 스케치</a></li>
  </ul>
</li>
  <li>
<a href="#%ED%94%8C%EB%A1%AF-%EC%A4%80%EB%B9%84" id="toc-플롯-준비" class="nav-link" data-scroll-target="#%ED%94%8C%EB%A1%AF-%EC%A4%80%EB%B9%84"><span class="header-section-number">4.3</span> 플롯 준비</a>
  <ul class="collapse">
<li><a href="#%EB%8D%B0%EC%9D%B4%ED%84%B0-%EB%9E%AD%EA%B8%80%EB%A7%81" id="toc-데이터-랭글링" class="nav-link" data-scroll-target="#%EB%8D%B0%EC%9D%B4%ED%84%B0-%EB%9E%AD%EA%B8%80%EB%A7%81"><span class="header-section-number">4.3.1</span> 데이터 랭글링</a></li>
  <li><a href="#poissoned%EB%A5%BC-%EC%82%AC%EC%9A%A9%ED%95%9C-%ED%91%B8%EC%95%84%EC%86%A1-%EB%94%94%EC%8A%A4%ED%81%AC-%EC%83%98%ED%94%8C%EB%A7%81" id="toc-poissoned를-사용한-푸아송-디스크-샘플링" class="nav-link" data-scroll-target="#poissoned%EB%A5%BC-%EC%82%AC%EC%9A%A9%ED%95%9C-%ED%91%B8%EC%95%84%EC%86%A1-%EB%94%94%EC%8A%A4%ED%81%AC-%EC%83%98%ED%94%8C%EB%A7%81"><span class="header-section-number">4.3.2</span> <strong><code>poissoned</code></strong>를 사용한 푸아송 디스크 샘플링</a></li>
  <li><a href="#%EC%B2%AB-%EB%B2%88%EC%A7%B8-%ED%94%8C%EB%A1%AF" id="toc-첫-번째-플롯" class="nav-link" data-scroll-target="#%EC%B2%AB-%EB%B2%88%EC%A7%B8-%ED%94%8C%EB%A1%AF"><span class="header-section-number">4.3.3</span> 첫 번째 플롯</a></li>
  </ul>
</li>
  <li>
<a href="#%EA%B3%A0%EA%B8%89-%EC%8A%A4%ED%83%80%EC%9D%BC%EB%A7%81" id="toc-고급-스타일링" class="nav-link" data-scroll-target="#%EA%B3%A0%EA%B8%89-%EC%8A%A4%ED%83%80%EC%9D%BC%EB%A7%81"><span class="header-section-number">4.4</span> 고급 스타일링</a>
  <ul class="collapse">
<li><a href="#%EC%83%89%EC%83%81" id="toc-색상" class="nav-link" data-scroll-target="#%EC%83%89%EC%83%81"><span class="header-section-number">4.4.1</span> 색상</a></li>
  <li><a href="#%EA%B8%80%EA%BC%B4" id="toc-글꼴" class="nav-link" data-scroll-target="#%EA%B8%80%EA%BC%B4"><span class="header-section-number">4.4.2</span> 글꼴</a></li>
  <li><a href="#%ED%85%8D%EC%8A%A4%ED%8A%B8-%EC%B6%94%EA%B0%80" id="toc-텍스트-추가" class="nav-link" data-scroll-target="#%ED%85%8D%EC%8A%A4%ED%8A%B8-%EC%B6%94%EA%B0%80"><span class="header-section-number">4.4.3</span> 텍스트 추가</a></li>
  <li><a href="#sec-bees-theme" id="toc-sec-bees-theme" class="nav-link" data-scroll-target="#sec-bees-theme"><span class="header-section-number">4.4.4</span> 테마 조정</a></li>
  </ul>
</li>
  <li><a href="#%EC%84%B1%EC%B0%B0" id="toc-성찰" class="nav-link" data-scroll-target="#%EC%84%B1%EC%B0%B0"><span class="header-section-number">4.5</span> 성찰</a></li>
  <li><a href="#%EC%97%B0%EC%8A%B5-%EB%AC%B8%EC%A0%9C" id="toc-연습-문제" class="nav-link" data-scroll-target="#%EC%97%B0%EC%8A%B5-%EB%AC%B8%EC%A0%9C"><span class="header-section-number">4.6</span> 연습 문제</a></li>
  </ul></nav>
    </div>
<!-- main -->
<main class="content" id="quarto-document-content"><header id="title-block-header" class="quarto-title-block default"><nav class="quarto-page-breadcrumbs quarto-title-breadcrumbs d-none d-lg-block" aria-label="breadcrumb"><ol class="breadcrumb"><li class="breadcrumb-item"><a href="./common-charts.html">일반적인 차트도 지루할 필요는 없습니다!</a></li><li class="breadcrumb-item"><a href="./bee-colonies.html"><span class="chapter-number">4</span>&nbsp; <span class="chapter-title">꿀벌 군집 손실:푸아송 디스크 샘플링으로 수량 시각화</span></a></li></ol></nav><div class="quarto-title">
<h1 class="title"><span id="sec-bees" class="quarto-section-identifier"><span class="chapter-number">4</span>&nbsp; <span class="chapter-title">꿀벌 군집 손실:푸아송 디스크 샘플링으로 수량 시각화</span></span></h1>
</div>



<div class="quarto-title-meta">

    
  
    
  </div>
  


</header><p>이 장에서는 누락된 데이터의 패턴을 탐색하고, CRAN에서 사용할 수 없는 R 패키지를 설치하고, 푸아송 디스크 샘플링을 수행하는 방법을 알아보고, 두 변수로 패면 분류된 플롯을 만드는 방법을 배웁니다.</p>
<p>이 장을 마치면 다음을 할 수 있습니다:</p>
<ul>
<li>누락된 데이터를 시각화하여 패턴을 식별합니다;</li>
<li>
<code>remotes</code> 패키지를 사용하여 비-CRAN 패키지를 설치합니다;</li>
<li>
<strong><code>ggforce</code></strong> 패키지를 사용하여 원 채우기(circle packing)를 수행합니다;</li>
<li>두 가지 다른 범주형 변수로 패면 분류(facetting)를 사용합니다.</li>
</ul>
<p>이 장에 필요한 패키지들을 로드하는 것으로 시작해 보겠습니다.</p>
<div class="cell">
<div class="code-copy-outer-scaffold"><div class="sourceCode" id="cb1" data-source-line-numbers="nil" data-code-line-numbers="nil"><pre class="downlit sourceCode r code-with-copy"><code class="sourceCode R"><span><span class="kw"><a href="https://rdrr.io/r/base/library.html">library</a></span><span class="op">(</span><span class="va"><a href="https://dplyr.tidyverse.org">dplyr</a></span><span class="op">)</span></span>
<span><span class="kw"><a href="https://rdrr.io/r/base/library.html">library</a></span><span class="op">(</span><span class="va"><a href="https://ggplot2.tidyverse.org">ggplot2</a></span><span class="op">)</span></span>
<span><span class="kw"><a href="https://rdrr.io/r/base/library.html">library</a></span><span class="op">(</span><span class="va"><a href="https://wilkelab.org/ggtext/">ggtext</a></span><span class="op">)</span></span>
<span><span class="kw"><a href="https://rdrr.io/r/base/library.html">library</a></span><span class="op">(</span><span class="va"><a href="https://glue.tidyverse.org/">glue</a></span><span class="op">)</span></span>
<span><span class="kw"><a href="https://rdrr.io/r/base/library.html">library</a></span><span class="op">(</span><span class="va"><a href="https://lubridate.tidyverse.org">lubridate</a></span><span class="op">)</span></span>
<span><span class="kw"><a href="https://rdrr.io/r/base/library.html">library</a></span><span class="op">(</span><span class="va"><a href="https://github.com/yixuan/showtext">showtext</a></span><span class="op">)</span></span>
<span><span class="kw"><a href="https://rdrr.io/r/base/library.html">library</a></span><span class="op">(</span><span class="va"><a href="https://github.com/yixuan/sysfonts">sysfonts</a></span><span class="op">)</span></span>
<span><span class="kw"><a href="https://rdrr.io/r/base/library.html">library</a></span><span class="op">(</span><span class="va"><a href="https://tidyr.tidyverse.org">tidyr</a></span><span class="op">)</span></span></code></pre></div><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></div>
</div>
<p>이 장에서는 두 개의 새로운 패키지도 사용합니다:</p>
<ul>
<li>
<strong><code>naniar</code></strong>: 데이터 프레임의 결측값을 탐색하고 시각화합니다.</li>
<li>
<strong><code>ggforce</code></strong>: 유용한 지오메트리, 통계 변환, 스케일 등을 추가하여 <strong><code>ggplot2</code></strong>를 확장합니다.</li>
</ul>
<p> </p>
<section id="데이터" class="level2" data-number="4.1"><h2 data-number="4.1" class="anchored" data-anchor-id="데이터">
<span class="header-section-number">4.1</span> 데이터</h2>
<p>주요 수분 매개자로서의 꿀벌은 우리 지구 생태계의 매우 중요한 부분입니다. 그러나 서식지 손실, 살충제 사용 및 질병과 같은 요인으로 인해 꿀벌의 수가 감소하고 있습니다 <span class="citation" data-cites="Brown2009">(<a href="references.html#ref-Brown2009" role="doc-biblioref">Brown, Mark J.F. and Paxton, Robert J. 2009</a>)</span>. 미국 농무부(USDA)는 매년 꿀벌 군집에 대한 데이터를 발표하는데, 여기에는 군집 수, 군집 크기, 군집 손실 또는 추가 비율, 군집 건강 스트레스 요인으로 확인된 요소에 대한 정보가 포함됩니다 <span class="citation" data-cites="bees_data">(<a href="references.html#ref-bees_data" role="doc-biblioref">United States Department of Agriculture: Economics, Statistics and Market Information System 2022</a>)</span>.</p>
<p>USDA 꿀벌 군집 데이터는 2022년 1월 TidyTuesday <span class="citation" data-cites="tidytuesday">(<a href="references.html#ref-tidytuesday" role="doc-biblioref">R4DS Online Learning Community 2023</a>)</span> 데이터 세트로 사용되었으며 (<a href="https://github.com/gkaramanis">Georgios Karamanis</a>의 제안 이후), <strong><code>tidytuesdayR</code></strong> 패키지를 사용하여 로드할 수 있습니다: </p>
<div class="cell">
<div class="code-copy-outer-scaffold"><div class="sourceCode" id="cb2" data-source-line-numbers="nil" data-code-line-numbers="nil"><pre class="downlit sourceCode r code-with-copy"><code class="sourceCode R"><span><span class="va">tuesdata</span> <span class="op">&lt;-</span> <span class="fu">tt_load</span><span class="op">(</span><span class="st">"2022-01-11"</span><span class="op">)</span></span>
<span><span class="va">colony</span> <span class="op">&lt;-</span> <span class="va">tuesdata</span><span class="op">$</span><span class="va">colony</span></span>
<span><span class="va">stressor</span> <span class="op">&lt;-</span> <span class="va">tuesdata</span><span class="op">$</span><span class="va">stressor</span></span></code></pre></div><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></div>
</div>
<p>이 데이터 버전은 2021년 릴리스를 기반으로 하므로 2021년 6월까지의 데이터가 포함됩니다. 최신 데이터로 작업하려면 <a href="https://usda.library.cornell.edu/concern/publications/rn301137d">usda.library.cornell.edu/concern/publications/rn301137d</a>에서 얻을 수 있습니다.</p>
<p>두 가지 다른 데이터 세트가 포함되어 있습니다. 첫 번째인 <code>colony</code>에는 2015년 이후 각 미국 주별 꿀벌 군집 수와 크기에 대한 정보가 포함되어 있습니다. 두 번째인 <code>stressor</code>에는 꿀벌 군집에 대한 다양한 건강 스트레스 원인과 이러한 스트레스 요인에 의해 영향을 받는 군집 비율에 대한 정보가 포함되어 있으며, 역시 주 및 기간별로 나뉩니다.</p>
</section><section id="탐색-작업" class="level2" data-number="4.2"><h2 data-number="4.2" class="anchored" data-anchor-id="탐색-작업">
<span class="header-section-number">4.2</span> 탐색 작업</h2>
<p>이 장에서는 <code>colony</code> 데이터에 초점을 맞추어 꿀벌 군집 수가 시간이 지남에 따라 어떻게 변하는지 그림을 그려보겠습니다.</p>
<section id="데이터-탐색" class="level3" data-number="4.2.1"><h3 data-number="4.2.1" class="anchored" data-anchor-id="데이터-탐색">
<span class="header-section-number">4.2.1</span> 데이터 탐색</h3>
<p>기본 R의 <code><a href="https://rdrr.io/r/graphics/boxplot.html">boxplot()</a></code> 함수를 사용하여 꿀벌 군집 수(<code>colony_n</code>)가 시간이 지남에 따라 어떻게 변하는지에 대한 간단한 상자 그림을 살펴보는 것으로 시작하겠습니다: </p>
<div class="cell">
<div class="code-copy-outer-scaffold"><div class="sourceCode" id="cb3" data-source-line-numbers="nil" data-code-line-numbers="nil"><pre class="downlit sourceCode r code-with-copy"><code class="sourceCode R"><span><span class="fu"><a href="https://rdrr.io/r/graphics/boxplot.html">boxplot</a></span><span class="op">(</span></span>
<span>  <span class="va">colony_n</span> <span class="op">~</span> <span class="va">year</span>,</span>
<span>  data <span class="op">=</span> <span class="va">colony</span>,</span>
<span>  horizontal <span class="op">=</span> <span class="cn">TRUE</span>,</span>
<span>  xlab <span class="op">=</span> <span class="st">"꿀벌 군집 수"</span>,</span>
<span>  ylab <span class="op">=</span> <span class="cn">NULL</span></span>
<span><span class="op">)</span></span></code></pre></div><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></div>
<div class="cell-output-display">
<div id="fig-bees-boxplot" class="quarto-float quarto-figure quarto-figure-center anchored" alt="연도별 꿀벌 군집 수의 간단한 수평 상자 그림으로, 오른쪽에 많은 큰 값의 이상치가 있는 매우 치우친 분포를 보여줍니다. 아래쪽은 0으로 제한되어 있으므로 왼쪽에는 이상치가 없습니다.">
<figure class="quarto-float quarto-float-fig figure"><div aria-describedby="fig-bees-boxplot-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
<img src="bee-colonies_files/figure-html/fig-bees-boxplot-1.png" class="img-fluid figure-img" alt="연도별 꿀벌 군집 수의 간단한 수평 상자 그림으로, 오른쪽에 많은 큰 값의 이상치가 있는 매우 치우친 분포를 보여줍니다. 아래쪽은 0으로 제한되어 있으므로 왼쪽에는 이상치가 없습니다.">
</div>
<figcaption class="quarto-float-caption-bottom quarto-float-caption quarto-float-fig" id="fig-bees-boxplot-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
Figure&nbsp;4.1: 연도별 꿀벌 군집 수의 간단한 상자 그림으로, 매우 치우친 분포를 보여줍니다.
</figcaption></figure>
</div>
</div>
</div>
<p><a href="#fig-bees-boxplot" class="quarto-xref">Figure&nbsp;<span>4.1</span></a> 은 사실 많은 정보를 제공하지는 않습니다. 군집 수의 분포가 매우 치우쳐 있고 꽤 많은 높은 값이 이상치로 분류되고 있다는 점을 시사할 뿐입니다. 이러한 이상치들로 인해 상자 그림의 주요 부분이 플롯의 왼쪽으로 찌그러져 있어 매년 평균적으로 얼마나 변하는지 알기 어렵습니다. 이것은 상자 그림의 더 일반적인 문제이기도 합니다. Anscombe’s quartet <span class="citation" data-cites="Anscombe1973">(<a href="references.html#ref-Anscombe1973" role="doc-biblioref">Anscombe 1973</a>)</span>은 아마도 요약 통계의 불충분함을 보여주는 가장 유명한 예일 것입니다. 상자 그림은 본질적으로 변장한 요약 통계일 뿐입니다. 동일한 상자 그림을 가진 다른 데이터가 실제로는 매우 다른 분포에서 나올 수 있습니다 <span class="citation" data-cites="Matejka2017">(<a href="references.html#ref-Matejka2017" role="doc-biblioref">Matejka and Fitzmaurice 2017</a>)</span>.</p>
<p>이러한 이상치의 원인을 이해하는 것부터 시작해 보겠습니다. 실제 값일까요? 데이터의 오류일까요? 아니면 데이터에 대해 잘못된 가정을 했을까요? 이를 더 잘 이해하기 위해 2020년 한 해를 확대하여 각 주의 군집 수를 살펴보고 가장 큰 이상치가 어떤 주와 관련이 있는지 이해해 보겠습니다. </p>
<div class="cell">
<div class="code-copy-outer-scaffold"><div class="sourceCode" id="cb4" data-source-line-numbers="nil" data-code-line-numbers="nil"><pre class="downlit sourceCode r code-with-copy"><code class="sourceCode R"><span><span class="va">colony_2020</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/subset.html">subset</a></span><span class="op">(</span><span class="va">colony</span>, <span class="va">year</span> <span class="op">==</span> <span class="fl">2020</span><span class="op">)</span></span>
<span><span class="fu"><a href="https://rdrr.io/r/graphics/boxplot.html">boxplot</a></span><span class="op">(</span></span>
<span>  <span class="va">colony_n</span> <span class="op">~</span> <span class="va">state</span>,</span>
<span>  data <span class="op">=</span> <span class="va">colony_2020</span>,</span>
<span>  horizontal <span class="op">=</span> <span class="cn">TRUE</span>,</span>
<span>  las <span class="op">=</span> <span class="fl">1</span>,</span>
<span>  xlab <span class="op">=</span> <span class="st">"꿀벌 군집 수"</span>,</span>
<span>  ylab <span class="op">=</span> <span class="cn">NULL</span></span>
<span><span class="op">)</span></span></code></pre></div><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></div>
<div class="cell-output-display">
<div id="fig-bees-boxplot2" class="quarto-float quarto-figure quarto-figure-center anchored" alt="'state' 정의의 문제를 보여주는 주별 꿀벌 군집 수 상자 그림. 캘리포니아와 노스다코타는 더 높은 범위를 보여주지만 가장 높은 값은 미국 전체, 즉 다른 모든 값의 합계입니다.">
<figure class="quarto-float quarto-float-fig figure"><div aria-describedby="fig-bees-boxplot2-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
<img src="bee-colonies_files/figure-html/fig-bees-boxplot2-1.png" class="img-fluid figure-img" alt="'state' 정의의 문제를 보여주는 주별 꿀벌 군집 수 상자 그림. 캘리포니아와 노스다코타는 더 높은 범위를 보여주지만 가장 높은 값은 미국 전체, 즉 다른 모든 값의 합계입니다.">
</div>
<figcaption class="quarto-float-caption-bottom quarto-float-caption quarto-float-fig" id="fig-bees-boxplot2-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
Figure&nbsp;4.2: ‘state’ 정의의 문제를 보여주는 주별 꿀벌 군집 수 상자 그림.
</figcaption></figure>
</div>
</div>
</div>
<p>군집 수가 훨씬 더 많은 몇 개의 주(캘리포니아, 플로리다, 노스다코타)가 있지만 주요 문제는 <em>주(state)</em> 중 하나가 미국 전체, 즉 다른 모든 값의 합계라는 것입니다. 또한 <a href="#fig-bees-boxplot2" class="quarto-xref">Figure&nbsp;<span>4.2</span></a> 에서 모든 주가 개별적으로 포함되는 것은 아니라는 것을 알 수 있습니다. 일부 주(아마도 지역)를 그룹화한 <code>"Other States"</code> 범주가 대신 포함되어 있습니다.</p>
<div id="tip-bees-names" class="callout callout-style-default callout-tip callout-titled">
<div class="callout-header d-flex align-content-center">
<div class="callout-icon-container">
<i class="callout-icon"></i>
</div>
<div class="callout-title-container flex-fill">
Tip&nbsp;4.1: 적절한 열 이름 선택
</div>
</div>
<div class="callout-body-container callout-body">
<p>불행히도 열 이름이 한 가지(예: 각 값은 주와 관련됨)를 암시하지만 해당 열에 실제로 다른 값(예: 국가)도 포함되는 것은 드문 일이 아닙니다. 열 이름을 지정할 때(특히 다른 사람과 공유할 데이터의 경우) 혼란을 피하기 위해 적절한 열 이름을 선택하십시오. 예를 들어 여기서는 <code>region</code>이 더 적절한 열 이름일 것입니다.</p>
</div>
</div>
<p>상자 그림이 알려주지 않는 데이터의 또 다른 측면은 결측값입니다. 상자 그림은 있는 것만 플롯하고 없는 것은 플롯하지 않습니다. 기본 R 그래픽은 <strong><code>ggplot2</code></strong> <span class="citation" data-cites="ggplot2">(<a href="references.html#ref-ggplot2" role="doc-biblioref">Wickham 2016</a>)</span>가 하는 방식으로 <code>NA</code> 값에 대해 경고하지 않기 때문에 이 단계를 기억하는 것이 특히 중요합니다. 그렇다면 존재하지 않는 데이터는 어떻게 플롯할까요? </p>
<p><strong><code>visdat</code></strong> 패키지 <span class="citation" data-cites="visdat">(<a href="references.html#ref-visdat" role="doc-biblioref">Tierney 2017</a>)</span>는 데이터를 빠르게 살펴보는 훌륭한 방법입니다. 이름에서 알 수 있듯이 어떤 값이 누락되었는지 빠르게 시각화할 수 있는 <code><a href="https://docs.ropensci.org/visdat/reference/vis_miss.html">vis_miss()</a></code> 함수가 포함되어 있습니다. 압도적으로 큰 플롯을 만드는 것을 피하기 위해 한 주의 데이터만 시각화하는 것으로 시작하겠습니다. 기본 R의 <code><a href="https://rdrr.io/r/base/subset.html">subset()</a></code> 함수를 사용하여 앨라배마주에 대한 데이터만 얻을 수 있습니다. </p>
<div class="cell">
<div class="code-copy-outer-scaffold"><div class="sourceCode" id="cb5" data-source-line-numbers="nil" data-code-line-numbers="nil"><pre class="downlit sourceCode r code-with-copy"><code class="sourceCode R"><span><span class="kw"><a href="https://rdrr.io/r/base/library.html">library</a></span><span class="op">(</span><span class="va"><a href="https://docs.ropensci.org/visdat/">visdat</a></span><span class="op">)</span></span>
<span><span class="va">colony_AL</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/subset.html">subset</a></span><span class="op">(</span><span class="va">colony</span>, <span class="va">state</span> <span class="op">==</span> <span class="st">"Alabama"</span><span class="op">)</span></span>
<span><span class="fu"><a href="https://docs.ropensci.org/visdat/reference/vis_miss.html">vis_miss</a></span><span class="op">(</span><span class="va">colony_AL</span><span class="op">)</span></span></code></pre></div><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></div>
<div class="cell-output-display">
<div id="fig-bees-vismiss" class="quarto-float quarto-figure quarto-figure-center anchored" alt="앨라배마와 관련된 데이터의 하위 집합에서 행과 열의 결측값을 보여주는 플롯으로, 결측값은 검은색 사각형으로 표시됩니다. 날짜와 주 외에도 사용 가능한 데이터가 전혀 없는 기간이 있고 데이터의 마지막 열만 누락된 기간도 있습니다. 이 열의 레이블은 잘려 있습니다.">
<figure class="quarto-float quarto-float-fig figure"><div aria-describedby="fig-bees-vismiss-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
<img src="bee-colonies_files/figure-html/fig-bees-vismiss-1.png" class="img-fluid figure-img" alt="앨라배마와 관련된 데이터의 하위 집합에서 행과 열의 결측값을 보여주는 플롯으로, 결측값은 검은색 사각형으로 표시됩니다. 날짜와 주 외에도 사용 가능한 데이터가 전혀 없는 기간이 있고 데이터의 마지막 열만 누락된 기간도 있습니다. 이 열의 레이블은 잘려 있습니다.">
</div>
<figcaption class="quarto-float-caption-bottom quarto-float-caption quarto-float-fig" id="fig-bees-vismiss-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
Figure&nbsp;4.3: 앨라배마와 관련된 데이터의 하위 집합에서 행과 열의 결측값을 보여주는 플롯으로, 결측값은 검은색 사각형으로 표시됩니다.
</figcaption></figure>
</div>
</div>
</div>
<p><a href="#fig-bees-vismiss" class="quarto-xref">Figure&nbsp;<span>4.3</span></a> 의 <code><a href="https://docs.ropensci.org/visdat/reference/vis_miss.html">vis_miss()</a></code>로 생성된 플롯의 열 이름이 회전되어 가장 오른쪽 열 이름이 차트 영역 가장자리를 벗어나는 것을 알 수 있습니다. 이 문제를 해결하는 데 도움이 되는 두 가지 솔루션이 있습니다: </p>
<ul>
<li>열 이름을 축약하여 사용 가능한 공간을 초과할 가능성을 줄이는 <strong><code>visdat</code></strong>의 <code><a href="https://docs.ropensci.org/visdat/reference/abbreviate_vars.html">abbreviate_vars()</a></code> 함수를 사용하십시오.</li>
<li>
<code><a href="https://docs.ropensci.org/visdat/reference/vis_miss.html">vis_miss()</a></code>의 플롯 출력이 <strong><code>ggplot2</code></strong>로 만들어졌다는 사실을 활용하십시오. 즉, <code><a href="https://ggplot2.tidyverse.org/reference/theme.html">theme()</a></code> 함수를 사용하여 플롯의 오른쪽 여백에 사용할 수 있는 공간을 확장할 수 있습니다.</li>
</ul>
<div class="cell">
<div class="code-copy-outer-scaffold"><div class="sourceCode" id="cb6" data-source-line-numbers="nil" data-code-line-numbers="nil"><pre class="downlit sourceCode r code-with-copy"><code class="sourceCode R"><span><span class="va">colony_AL</span> <span class="op">|&gt;</span></span>
<span>  <span class="fu"><a href="https://docs.ropensci.org/visdat/reference/abbreviate_vars.html">abbreviate_vars</a></span><span class="op">(</span>min_length <span class="op">=</span> <span class="fl">8</span><span class="op">)</span> <span class="op">|&gt;</span></span>
<span>  <span class="fu"><a href="https://docs.ropensci.org/visdat/reference/vis_miss.html">vis_miss</a></span><span class="op">(</span><span class="op">)</span> <span class="op">+</span></span>
<span>  <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/theme.html">theme</a></span><span class="op">(</span>plot.margin <span class="op">=</span> <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/element.html">margin</a></span><span class="op">(</span>r <span class="op">=</span> <span class="fl">25</span><span class="op">)</span><span class="op">)</span></span></code></pre></div><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></div>
<div class="cell-output-display">
<div id="fig-bees-vismiss-tip" class="quarto-float quarto-figure quarto-figure-center anchored" alt="앨라배마와 관련된 데이터의 하위 집합에서 행과 열의 결측값을 보여주는 플롯으로, 결측값은 검은색 사각형으로 표시됩니다. 날짜와 주 외에도 사용 가능한 데이터가 전혀 없는 기간이 있고 데이터의 마지막 열만 누락된 기간도 있습니다. 열 이름이 축약되었습니다.">
<figure class="quarto-float quarto-float-fig figure"><div aria-describedby="fig-bees-vismiss-tip-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
<img src="bee-colonies_files/figure-html/fig-bees-vismiss-tip-1.png" class="img-fluid figure-img" alt="앨라배마와 관련된 데이터의 하위 집합에서 행과 열의 결측값을 보여주는 플롯으로, 결측값은 검은색 사각형으로 표시됩니다. 날짜와 주 외에도 사용 가능한 데이터가 전혀 없는 기간이 있고 데이터의 마지막 열만 누락된 기간도 있습니다. 열 이름이 축약되었습니다.">
</div>
<figcaption class="quarto-float-caption-bottom quarto-float-caption quarto-float-fig" id="fig-bees-vismiss-tip-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
Figure&nbsp;4.4: 앨라배마와 관련된 데이터의 하위 집합에서 행과 열의 결측값을 보여주는 플롯으로, 결측값은 검은색 사각형으로 표시됩니다. 데이터의 마지막 열에 대한 레이블은 이제 읽을 수 있으며 플롯의 가장자리에 숨겨져 있지 않습니다.
</figcaption></figure>
</div>
</div>
</div>
<p><a href="#fig-bees-vismiss-tip" class="quarto-xref">Figure&nbsp;<span>4.4</span></a> 에서 행은 시간 순서대로 정렬되어 있으며 특별한 패턴이 나타나지 않는 것을 볼 수 있습니다. <code>colony_reno_pct</code> 열에 결측 데이터가 가장 많고 모든 데이터(시간 및 주 제외)가 누락된 짧은 기간이 있습니다. 다른 주에 대해 이 시각화를 다시 생성하면 유사한 패턴을 볼 수 있습니다. </p>
<p>2019년 4월-6월 기간 동안 모든 주에 대한 데이터를 사용할 수 없습니다. 이는 데이터가 단순히 무작위로 누락된 것이 아니라 이 기간 동안 지속적인 데이터 수집 문제가 있었음을 시사합니다. <a href="#fig-bees-vismiss-tip" class="quarto-xref">Figure&nbsp;<span>4.4</span></a> 에서는 볼 수 없지만 데이터의 마지막 연도 말에 대한 데이터도 (암묵적으로) 누락되었습니다. 이는 데이터가 보고되는 시기(연간 데이터 릴리스는 8월에 발생함) 때문입니다. 즉, 모든 연도에 대해 데이터가 완전하지 않으므로 연간 평균을 구할 때 주의해야 합니다.</p>
<p>이 장에서는 데이터의 결측값을 모델링, 대치 또는 제거하는 방법에 대해서는 다루지 않을 것입니다. 그 자체로 매우 큰 주제이기 때문입니다. 그러나 결측값을 명시적으로 다루든 그렇지 않든 결측값이 있는지 확인하고, 데이터 수집 프로세스의 어떤 측면이 이를 유발했을 수 있는지 고려하고, 이것이 도출할 수 있는 결론에 미치는 영향을 고려하는 것이 중요합니다.</p>
<p>대신 완전한 데이터가 있는 분기로 시각화를 제한하겠습니다. 예를 들어 <code>"October-December"</code> 기간의 연간 추세만 살펴보는 것입니다. 하지만 이 접근 방식은 여전히 한계가 있습니다. 데이터는 분기별로 기록되므로 <code>"January-March"</code>, <code>"April-June"</code>, <code>"July-September"</code> 또는 <code>"October-December"</code> 중에서 선택할 수 있는 네 가지 옵션이 있습니다. 여기서는 <code>"October-December"</code>에 대한 데이터에 초점을 맞출 것입니다. 이 선택의 이유는 이 기간이 꿀벌 군집의 계절적 주기의 시작으로 간주되며 <em>“이 시기의 군집 상태가 다음 해의 번영에 큰 영향을 미치기”</em> 때문입니다 <span class="citation" data-cites="Apiculture">(<a href="references.html#ref-Apiculture" role="doc-biblioref">Mid-Atlantic Apiculture Research and Extension Consortium 2024</a>)</span>.</p>
<div id="tip-bees-missing" class="callout callout-style-default callout-tip callout-titled">
<div class="callout-header d-flex align-content-center">
<div class="callout-icon-container">
<i class="callout-icon"></i>
</div>
<div class="callout-title-container flex-fill">
Tip&nbsp;4.2: 누락된 패턴에 대한 패턴 놓치지 않기
</div>
</div>
<div class="callout-body-container callout-body">
<p>기본적으로 <strong><code>visdat</code></strong> 패키지는 누락된 데이터가 <code>NA</code>로 인코딩되어 있다고 가정합니다. 항상 그런 것은 아닙니다. 특히 직접 받기 전에 다른 소프트웨어로 처리된 데이터로 작업할 때 더욱 그렇습니다. 결측값이 <code>""</code>, <code>" "</code>, <code>99</code>, <code>999</code>, <code>-</code> 또는 <code>0</code>과 같은 값을 사용하여 인코딩되는 것은 드문 일이 아닙니다. <strong><code>naniar</code></strong> 패키지 <span class="citation" data-cites="naniar">(<a href="references.html#ref-naniar" role="doc-biblioref">Tierney and Cook 2023</a>)</span>는 결측값을 요약하고 처리하는 데 매우 유용합니다. <strong><code>naniar</code></strong>의 <code>replace_with_na()</code> 함수는 R에서 데이터를 더 쉽게 처리할 수 있도록 비정상적인 결측값 인코딩을 <code>NA</code>로 바꾸는 데 도움이 될 수 있습니다. </p>
<p>결측값을 시각화할 때 열과 행의 순서를 생각하는 것도 중요합니다. 예를 들어 날짜가 있는 열이 있는 경우 결측 데이터를 시각화하기 전에 날짜별로 행을 정렬하면 결측의 시간적 패턴을 식별할 수 있습니다. 행이 다른 방식으로 정렬된 경우 이 패턴을 놓칠 수 있습니다.</p>
</div>
</div>
</section><section id="탐색적-스케치" class="level3" data-number="4.2.2"><h3 data-number="4.2.2" class="anchored" data-anchor-id="탐색적-스케치">
<span class="header-section-number">4.2.2</span> 탐색적 스케치</h3>
<p>각 주에 대해 매년 평균 군집 수를 시각화해 보겠습니다. 선형 차트나 영역 차트와 같이 분명한 첫 번째 선택 목록이 있습니다. 간단한 막대 차트도 여기에서 효과적일 수 있습니다. 하지만 시각화 선택에 있어 조금 더 창의적이고 예술적이어야 합니다. 두 변수(주 및 연도)의 각 조합에서 <em>사물</em>(꿀벌 군집)의 수를 나타낼 수 있는 방법은 많습니다. 주와 연도의 모든 조합에 사용할 수 있는 데이터가 있으므로 <a href="#fig-bees-sketch-blank" class="quarto-xref">Figure&nbsp;<span>4.5</span></a> 와 같이 주와 연도의 그리드를 만들어 보겠습니다.</p>
<div id="fig-bees-sketch-blank" class="quarto-float quarto-figure quarto-figure-center anchored" alt="연도를 식별하는 열과 서로 다른 미국 주에 대한 행이 있는 빈 정사각형 그리드의 스케치" data-fig-align="center">
<figure class="quarto-float quarto-float-fig figure"><div aria-describedby="fig-bees-sketch-blank-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
<img src="images/sketch-bees-blank.png" class="img-fluid quarto-figure quarto-figure-center figure-img" alt="연도를 식별하는 열과 서로 다른 미국 주에 대한 행이 있는 빈 정사각형 그리드의 스케치">
</div>
<figcaption class="quarto-float-caption-bottom quarto-float-caption quarto-float-fig" id="fig-bees-sketch-blank-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
Figure&nbsp;4.5: 각 사각형이 연도와 미국 주의 조합을 나타내는 정사각형 그리드를 보여주는 초기 스케치.
</figcaption></figure>
</div>
<p>이제 각 그리드 사각형에서 단순히 <em>사물</em>의 수를 보여주려고 합니다. 어떻게 할 수 있을까요? 원을 그리고 원의 크기로 사물의 수를 보여줄 수 있습니다. 또는 각 사각형에 색을 칠하고 색의 강도로 사물의 수를 보여줄 수 있습니다. 또는 <a href="#fig-bees-sketch" class="quarto-xref">Figure&nbsp;<span>4.6</span></a> 에서처럼 많은 점을 그리고 점의 수로 사물의 수를 보여줄 수 있습니다. 이러한 유형의 차트는 <em>점 밀도 플롯(dot density plot)</em>이라고 할 수 있으며 지리 데이터에 일반적으로 사용됩니다. </p>
<p>또한 특정 지역의 주에 초점을 맞추거나 우리가 가장 관심 있는 단순한 주들만 시각화하도록 선택할 수도 있습니다.</p>
<div id="fig-bees-sketch" class="quarto-float quarto-figure quarto-figure-center anchored" alt="연도를 식별하는 열과 일부 다른 미국 주에 대한 행이 있는 정사각형 그리드의 스케치. 각 사각형에는 다양한 수의 점이 있으며 제목 텍스트에 자리 표시자 낙서가 사용됩니다." data-fig-align="center">
<figure class="quarto-float quarto-float-fig figure"><div aria-describedby="fig-bees-sketch-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
<img src="images/sketch-bees.png" class="img-fluid quarto-figure quarto-figure-center figure-img" alt="연도를 식별하는 열과 일부 다른 미국 주에 대한 행이 있는 정사각형 그리드의 스케치. 각 사각형에는 다양한 수의 점이 있으며 제목 텍스트에 자리 표시자 낙서가 사용됩니다.">
</div>
<figcaption class="quarto-float-caption-bottom quarto-float-caption quarto-float-fig" id="fig-bees-sketch-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
Figure&nbsp;4.6: 각 연도 및 미국 주별 꿀벌 군집 수를 나타내는 점의 수를 보여주는 정사각형 그리드의 초기 스케치.
</figcaption></figure>
</div>
</section></section><section id="플롯-준비" class="level2" data-number="4.3"><h2 data-number="4.3" class="anchored" data-anchor-id="플롯-준비">
<span class="header-section-number">4.3</span> 플롯 준비</h2>
<p>이 플롯을 생생하게 표현하려면 몇 가지 작업을 완료해야 합니다:</p>
<ul>
<li>각 주별, 연도별 평균 군집 수를 계산합니다.</li>
<li>군집 수를 나타낼 점에 대한 x 및 y 좌표를 시뮬레이션합니다.</li>
<li>점을 플롯합니다.</li>
</ul>
<p>이것은 (때로는 복잡한) 준비가 많이 필요하지만 플로팅 자체는 비교적 간단한 차트 유형입니다.</p>
<section id="데이터-랭글링" class="level3" data-number="4.3.1"><h3 data-number="4.3.1" class="anchored" data-anchor-id="데이터-랭글링">
<span class="header-section-number">4.3.1</span> 데이터 랭글링</h3>
<p>시각화할 주(states)의 하위 집합을 선택하는 것으로 시작하겠습니다:</p>
<div class="cell">
<div class="code-copy-outer-scaffold"><div class="sourceCode" id="cb7" data-source-line-numbers="nil" data-code-line-numbers="nil"><pre class="downlit sourceCode r code-with-copy"><code class="sourceCode R"><span><span class="va">states_to_plot</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html">c</a></span><span class="op">(</span></span>
<span>  <span class="st">"California"</span>, <span class="st">"North Dakota"</span>, <span class="st">"Florida"</span>,</span>
<span>  <span class="st">"Texas"</span>, <span class="st">"Idaho"</span>, <span class="st">"South Dakota"</span></span>
<span><span class="op">)</span></span></code></pre></div><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></div>
</div>
<p>그런 다음 <strong><code>dplyr</code></strong>의 <code><a href="https://dplyr.tidyverse.org/reference/filter.html">filter()</a></code> 함수를 사용하여 데이터를 부분 집합화하여 이러한 주에 대한 행과 선택한 기간인 <code>"October-December"</code>만 포함합니다. 또한 <code><a href="https://dplyr.tidyverse.org/reference/select.html">select()</a></code> 함수를 사용하여 연도, 주, 군집 수와 같이 플롯에 실제로 필요한 열만 유지합니다: </p>
<div class="cell">
<div class="code-copy-outer-scaffold"><div class="sourceCode" id="cb8" data-source-line-numbers="nil" data-code-line-numbers="nil"><pre class="downlit sourceCode r code-with-copy"><code class="sourceCode R"><span><span class="va">plot_data</span> <span class="op">&lt;-</span> <span class="va">colony</span> <span class="op">|&gt;</span></span>
<span>  <span class="fu"><a href="https://dplyr.tidyverse.org/reference/filter.html">filter</a></span><span class="op">(</span></span>
<span>    <span class="va">state</span> <span class="op"><a href="https://rdrr.io/r/base/match.html">%in%</a></span> <span class="va">states_to_plot</span>,</span>
<span>    <span class="va">months</span> <span class="op">==</span> <span class="st">"October-December"</span></span>
<span>  <span class="op">)</span> <span class="op">|&gt;</span></span>
<span>  <span class="fu"><a href="https://dplyr.tidyverse.org/reference/select.html">select</a></span><span class="op">(</span></span>
<span>    <span class="va">year</span>, <span class="va">state</span>, <span class="va">colony_n</span></span>
<span>  <span class="op">)</span></span></code></pre></div><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></div>
</div>
<p>기본적으로 주는 알파벳 순서로 정렬됩니다. 패턴을 더 쉽게 전달하기 위해 데이터의 마지막 연도(2020)에 있는 군집 수를 기준으로 주를 정렬합니다. 먼저 데이터를 <code>2020</code>년으로 필터링하고 <code>colony_n</code> 열을 기준으로 내림차순( <strong><code>dplyr</code></strong>의 <code><a href="https://dplyr.tidyverse.org/reference/desc.html">desc()</a></code> 사용)으로 데이터를 정렬한 다음 <code><a href="https://dplyr.tidyverse.org/reference/pull.html">pull()</a></code>을 사용하여 주 열을 추출하여 해당 순서를 결정합니다. </p>
<div class="cell">
<div class="code-copy-outer-scaffold"><div class="sourceCode" id="cb9" data-source-line-numbers="nil" data-code-line-numbers="nil"><pre class="downlit sourceCode r code-with-copy"><code class="sourceCode R"><span><span class="va">state_levels</span> <span class="op">&lt;-</span> <span class="va">plot_data</span> <span class="op">|&gt;</span></span>
<span>  <span class="fu"><a href="https://dplyr.tidyverse.org/reference/filter.html">filter</a></span><span class="op">(</span><span class="va">year</span> <span class="op">==</span> <span class="fl">2020</span><span class="op">)</span> <span class="op">|&gt;</span></span>
<span>  <span class="fu"><a href="https://dplyr.tidyverse.org/reference/arrange.html">arrange</a></span><span class="op">(</span><span class="fu"><a href="https://dplyr.tidyverse.org/reference/desc.html">desc</a></span><span class="op">(</span><span class="va">colony_n</span><span class="op">)</span><span class="op">)</span> <span class="op">|&gt;</span></span>
<span>  <span class="fu"><a href="https://dplyr.tidyverse.org/reference/pull.html">pull</a></span><span class="op">(</span><span class="va">state</span><span class="op">)</span></span></code></pre></div><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></div>
</div>
<p>나중에 주 열을 팩터로 변환할 것이며, 이 <code>state_levels</code> 벡터는 팩터 레벨을 제공할 것입니다.</p>
<p>이제 <a href="#fig-bees-sketch" class="quarto-xref">Figure&nbsp;<span>4.6</span></a> 에서 스케치한 대로 각 그리드 사각형에서 꿀벌 군집 수를 나타낼 점을 생성해야 합니다. 균일 분포에서 <code>x</code> 및 <code>y</code> 좌표를 생성하는 <code><a href="https://rdrr.io/r/stats/Uniform.html">runif()</a></code> 함수를 사용하는 것과 같은 간단한 작업을 수행할 수 있습니다. 그러나 이 접근 방식은 약간 지저분해 보이는 플롯으로 이어질 가능성이 큽니다. 무작위성은 일반적으로 매우 좋아 보이지 않으며 많은 점이 겹쳐질 가능성이 큽니다. 대신 우리는 겹치지 않고 최소한 어느 정도 거리가 있는 점을 생성하고 싶습니다. 이를 위해 <em>푸아송 디스크 샘플링(Poisson disk sampling)</em>을 사용할 것입니다. </p>
</section><section id="poissoned를-사용한-푸아송-디스크-샘플링" class="level3" data-number="4.3.2"><h3 data-number="4.3.2" class="anchored" data-anchor-id="poissoned를-사용한-푸아송-디스크-샘플링">
<span class="header-section-number">4.3.2</span> <strong><code>poissoned</code></strong>를 사용한 푸아송 디스크 샘플링</h3>
<p>푸아송 디스크 샘플링은 점들이 대부분 무작위이지만 꽤 고르게 분포되는 패턴 유형인 <em>블루 노이즈(blue noise)</em>를 생성하는 한 가지 방법입니다. 푸아송 디스크 샘플링에서 모든 점은 적어도 <span class="math inline">\(r\)</span> 거리만큼 떨어져 있어야 합니다. 즉, 각 점 주위에 반경 <span class="math inline">\(r\)</span>의 <em>디스크</em>를 그리면 디스크에 다른 점이 포함되지 않습니다.</p>
<p>푸아송 디스크 샘플링에는 여러 가지 접근 방식이 있습니다. 데이터를 생성하는 순진한(매우 느린) 방법은 데이터 포인트를 샘플링하는 것입니다. 두 번째 데이터 포인트를 샘플링합니다. 기존 데이터 포인트의 <span class="math inline">\(r\)</span> 내에 있으면 버립니다. 그렇지 않으면 받아들여 데이터에 추가합니다. 반복합니다. 다행히도 계산적으로 더 효율적인 다른 접근 방식이 있으며, R에서 <strong><code>poissoned</code></strong> 패키지 <span class="citation" data-cites="poissoned">(<a href="references.html#ref-poissoned" role="doc-biblioref">mikefc 2024</a>)</span>는 <span class="citation" data-cites="bridson2007">Bridson (<a href="references.html#ref-bridson2007" role="doc-biblioref">2007</a>)</span> 에 설명된 접근 방식을 구현합니다. 이 패키지를 사용하면 2차원 또는 3차원으로 샘플을 생성할 수 있습니다(여기서는 2차원을 고수하겠습니다!).</p>
<div id="tip-bees-sampling" class="callout callout-style-default callout-tip callout-titled">
<div class="callout-header d-flex align-content-center">
<div class="callout-icon-container">
<i class="callout-icon"></i>
</div>
<div class="callout-title-container flex-fill">
Tip&nbsp;4.3: GitHub에서 R 패키지 설치하기
</div>
</div>
<div class="callout-body-container callout-body">
<p><strong><code>remotes</code> 사용하기</strong></p>
<p>이 장을 처음 작성했을 때 <strong><code>poissoned</code></strong> 패키지는 CRAN에서 사용할 수 없었으므로 GitHub에서 대신 설치해야 했습니다. <strong><code>remotes</code></strong> 패키지 <span class="citation" data-cites="remotes">(<a href="references.html#ref-remotes" role="doc-biblioref">Csárdi et al. 2024</a>)</span>를 사용하여 GitHub 또는 GitLab과 같은 원격 저장소에서 패키지를 설치할 수 있습니다. <code>"user/repository"</code> 형식의 문자열을 전달하여 <code><a href="https://remotes.r-lib.org/reference/install_github.html">install_github()</a></code> 함수를 사용할 수 있습니다: </p>
<div class="cell">
<div class="code-copy-outer-scaffold"><div class="sourceCode" id="cb10" data-source-line-numbers="nil" data-code-line-numbers="nil"><pre class="downlit sourceCode r code-with-copy"><code class="sourceCode R"><span><span class="kw"><a href="https://rdrr.io/r/base/library.html">library</a></span><span class="op">(</span><span class="va"><a href="https://remotes.r-lib.org">remotes</a></span><span class="op">)</span></span>
<span><span class="fu"><a href="https://remotes.r-lib.org/reference/install_github.html">install_github</a></span><span class="op">(</span><span class="st">"coolbutuseless/poissoned"</span><span class="op">)</span></span></code></pre></div><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></div>
</div>
<p><strong><code>pak</code> 사용하기</strong></p>
<p><strong><code>remotes</code></strong>의 대안은 <strong><code>pak</code></strong> 패키지 <span class="citation" data-cites="pak">(<a href="references.html#ref-pak" role="doc-biblioref">Csárdi and Hester 2024</a>)</span>입니다. 사실 이것은 CRAN, Bioconductor, GitHub, URL, git 저장소 또는 로컬 디렉토리에서 R 패키지를 설치하는 또 다른 방법입니다. <strong><code>pak</code></strong>을 사용하여 GitHub에서 패키지를 설치하려면 <code><a href="https://pak.r-lib.org/reference/pkg_install.html">pkg_install()</a></code> 함수를 사용하고 다시 <code>"user/repository"</code> 문자열을 전달하십시오: </p>
<div class="cell">
<div class="code-copy-outer-scaffold"><div class="sourceCode" id="cb11" data-source-line-numbers="nil" data-code-line-numbers="nil"><pre class="downlit sourceCode r code-with-copy"><code class="sourceCode R"><span><span class="kw"><a href="https://rdrr.io/r/base/library.html">library</a></span><span class="op">(</span><span class="va"><a href="https://pak.r-lib.org/">pak</a></span><span class="op">)</span></span>
<span><span class="fu"><a href="https://pak.r-lib.org/reference/pkg_install.html">pkg_install</a></span><span class="op">(</span><span class="st">"coolbutuseless/poissoned"</span><span class="op">)</span></span></code></pre></div><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></div>
</div>
<p>동일한 함수를 사용하여 CRAN에서 패키지를 설치할 수도 있습니다(예: <code>pkg_install("ggplot2")</code>).</p>
</div>
</div>
<p>각 그리드 사각형에 나타날 점의 x 및 y 좌표를 생성해야 합니다. 이를 위해 <strong><code>poissoned</code></strong>의 <code><a href="https://rdrr.io/pkg/poissoned/man/poisson2d.html">poisson2d()</a></code> 함수를 사용할 것입니다. 두 좌표(<code>x</code> 및 <code>y</code>)를 저장하고 좌표 쌍의 수가 각 그리드 사각형마다 다르므로 출력을 리스트 열에 저장할 것입니다. <strong><code>dplyr</code></strong>의 <code><a href="https://dplyr.tidyverse.org/reference/mutate.html">mutate()</a></code> 함수를 사용하여 다른 새 열을 추가하는 것과 같은 방식으로 리스트 열을 추가할 수 있습니다. 데이터의 각 <em>행</em>에 있는 <code>state</code>, <code>year</code> 및 <code>colony_n</code> 값에 따라 샘플을 생성하려고 하므로 <strong><code>dplyr</code></strong>의 <code><a href="https://dplyr.tidyverse.org/reference/rowwise.html">rowwise()</a></code> 함수를 사용합니다. 무작위 데이터를 생성하므로 코드를 실행할 때마다 동일한 플롯을 얻을 수 있도록 <code><a href="https://rdrr.io/r/base/Random.html">set.seed()</a></code>를 사용하여 랜덤 시드를 설정해야 합니다. </p>
<p>군집 수가 더 많은 곳은 더 밀집되어 더 많은 점을 포함하기를 원합니다. 즉, 군집 수가 더 많을 때 점 사이의 최소 반경이 더 작아야 합니다. 즉, <code>r</code>과 <code>colony_n</code> 사이에는 역의 관계가 있습니다. <code><a href="https://rdrr.io/pkg/poissoned/man/poisson2d.html">poisson2d()</a></code>의 기본 그리드는 두 축 모두에서 0에서 10까지입니다. <code>colony_n</code>의 값 범위는 94000에서 770000까지이므로 최소 반경을 단순히 <code>1/colony_n</code>로 설정하면 점이 0.000001298701만큼만 떨어져 있게 됩니다. 너무 작습니다! 상수 인수를 곱하여 이 거리를 늘릴 수 있습니다. 몇 번의 시행착오 끝에 <code>r</code>을 <code>200000/colony_n</code>으로 설정했습니다. </p>
<div class="cell">
<div class="code-copy-outer-scaffold"><div class="sourceCode" id="cb12" data-source-line-numbers="nil" data-code-line-numbers="nil"><pre class="downlit sourceCode r code-with-copy"><code class="sourceCode R"><span><span class="kw"><a href="https://rdrr.io/r/base/library.html">library</a></span><span class="op">(</span><span class="va"><a href="https://github.com/coolbutuseless/poissoned">poissoned</a></span><span class="op">)</span></span>
<span><span class="fu"><a href="https://rdrr.io/r/base/Random.html">set.seed</a></span><span class="op">(</span><span class="fl">123</span><span class="op">)</span></span>
<span><span class="va">bees_grid</span> <span class="op">&lt;-</span> <span class="va">plot_data</span> <span class="op">|&gt;</span></span>
<span>  <span class="fu"><a href="https://dplyr.tidyverse.org/reference/rowwise.html">rowwise</a></span><span class="op">(</span><span class="op">)</span> <span class="op">|&gt;</span></span>
<span>  <span class="fu"><a href="https://dplyr.tidyverse.org/reference/mutate.html">mutate</a></span><span class="op">(</span></span>
<span>    pts <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/list.html">list</a></span><span class="op">(</span></span>
<span>      <span class="fu"><a href="https://rdrr.io/pkg/poissoned/man/poisson2d.html">poisson2d</a></span><span class="op">(</span>r <span class="op">=</span> <span class="fl">200000</span> <span class="op">/</span> <span class="va">colony_n</span><span class="op">)</span></span>
<span>    <span class="op">)</span></span>
<span>  <span class="op">)</span></span></code></pre></div><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></div>
</div>
<p>푸아송 디스크 샘플링과 균일 샘플링의 차이를 확인하기 위해 일부 데이터를 시뮬레이션하고 플롯할 수 있습니다: </p>
<div class="code-copy-outer-scaffold"><div class="sourceCode" id="cb13" data-code-line-numbers=""><pre class="downlit sourceCode r code-with-copy"><code class="sourceCode R"><span><span class="fu"><a href="https://rdrr.io/r/base/Random.html">set.seed</a></span><span class="op">(</span><span class="fl">123</span><span class="op">)</span></span>
<span><span class="co"># Poisson disk sampling</span></span>
<span><span class="va">pts</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/pkg/poissoned/man/poisson2d.html">poisson2d</a></span><span class="op">(</span><span class="op">)</span></span>
<span><span class="fu"><a href="https://rdrr.io/r/graphics/plot.default.html">plot</a></span><span class="op">(</span></span>
<span>  x <span class="op">=</span> <span class="va">pts</span><span class="op">$</span><span class="va">x</span>, y <span class="op">=</span> <span class="va">pts</span><span class="op">$</span><span class="va">y</span>,</span>
<span>  main <span class="op">=</span> <span class="st">"푸아송 디스크 샘플링"</span></span>
<span><span class="op">)</span></span>
<span><span class="co"># Uniform sampling same number of points</span></span>
<span><span class="fu"><a href="https://rdrr.io/r/graphics/plot.default.html">plot</a></span><span class="op">(</span></span>
<span>  x <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/stats/Uniform.html">runif</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/nrow.html">nrow</a></span><span class="op">(</span><span class="va">pts</span><span class="op">)</span><span class="op">)</span>, y <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/stats/Uniform.html">runif</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/nrow.html">nrow</a></span><span class="op">(</span><span class="va">pts</span><span class="op">)</span><span class="op">)</span>,</span>
<span>  main <span class="op">=</span> <span class="st">"균일 샘플링"</span></span>
<span><span class="op">)</span></span></code></pre></div><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></div>
<div id="fig-bees-sampling" class="quarto-layout-panel">
<figure class="quarto-float quarto-float-fig figure"><div aria-describedby="fig-bees-sampling-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
<div class="quarto-layout-row">
<div class="cell-output-display quarto-layout-cell-subref quarto-layout-cell" data-ref-parent="fig-bees-sampling" style="flex-basis: 50.0%;justify-content: flex-start;">
<div id="fig-bees-sampling-1" class="quarto-float quarto-figure quarto-figure-center anchored" alt="푸아송 디스크 샘플링과 균일 샘플링의 차이를 보여주는 두 개의 나란한 플롯. 균일 샘플링에서는 일부 점이 서로 가깝고 겹치는 반면 푸아송 디스크에서는 더 고르게 간격을 두고 있습니다.">
<figure class="quarto-float quarto-subfloat-fig figure"><div aria-describedby="fig-bees-sampling-1-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
<img src="bee-colonies_files/figure-html/fig-bees-sampling-1.png" class="img-fluid figure-img" data-ref-parent="fig-bees-sampling" alt="푸아송 디스크 샘플링과 균일 샘플링의 차이를 보여주는 두 개의 나란한 플롯. 균일 샘플링에서는 일부 점이 서로 가깝고 겹치는 반면 푸아송 디스크에서는 더 고르게 간격을 두고 있습니다.">
</div>
<figcaption class="quarto-float-caption-bottom quarto-subfloat-caption quarto-subfloat-fig" id="fig-bees-sampling-1-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
(a) 푸아송 디스크 샘플링
</figcaption></figure>
</div>
</div>
<div class="cell-output-display quarto-layout-cell-subref quarto-layout-cell" data-ref-parent="fig-bees-sampling" style="flex-basis: 50.0%;justify-content: flex-start;">
<div id="fig-bees-sampling-2" class="quarto-float quarto-figure quarto-figure-center anchored" alt="푸아송 디스크 샘플링과 균일 샘플링의 차이를 보여주는 두 개의 나란한 플롯. 균일 샘플링에서는 일부 점이 서로 가깝고 겹치는 반면 푸아송 디스크에서는 더 고르게 간격을 두고 있습니다.">
<figure class="quarto-float quarto-subfloat-fig figure"><div aria-describedby="fig-bees-sampling-2-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
<img src="bee-colonies_files/figure-html/fig-bees-sampling-2.png" class="img-fluid figure-img" data-ref-parent="fig-bees-sampling" alt="푸아송 디스크 샘플링과 균일 샘플링의 차이를 보여주는 두 개의 나란한 플롯. 균일 샘플링에서는 일부 점이 서로 가깝고 겹치는 반면 푸아송 디스크에서는 더 고르게 간격을 두고 있습니다.">
</div>
<figcaption class="quarto-float-caption-bottom quarto-subfloat-caption quarto-subfloat-fig" id="fig-bees-sampling-2-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
(b) 균일 샘플링
</figcaption></figure>
</div>
</div>
</div>
</div>
<figcaption class="quarto-float-caption-bottom quarto-float-caption quarto-float-fig" id="fig-bees-sampling-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
Figure&nbsp;4.7: 푸아송 디스크 샘플링과 균일 샘플링을 사용하여 생성된 데이터를 비교하는 플롯.
</figcaption></figure>
</div>
<p><a href="#fig-bees-sampling" class="quarto-xref">Figure&nbsp;<span>4.7</span></a> 에서 푸아송 디스크 샘플링의 점 위치가 실제로는 완전히 무작위가 아니며 모양이 훨씬 더 <em>좋다</em>는 것을 알 수 있습니다.</p>
<p><code>bees_grid</code> 데이터로 돌아가서 <strong><code>tidyr</code></strong>의 <code><a href="https://tidyr.tidyverse.org/reference/unnest.html">unnest()</a></code>를 사용하여 <code>pts</code> 리스트 열을 별도의 행과 열로 확장하고 <code>state</code> 열이 앞서 정의한 <code>state_levels</code> 변수에 의해 정렬된 팩터인지 확인합니다. </p>
<div class="cell">
<div class="code-copy-outer-scaffold"><div class="sourceCode" id="cb14" data-source-line-numbers="nil" data-code-line-numbers="nil"><pre class="downlit sourceCode r code-with-copy"><code class="sourceCode R"><span><span class="va">bees_plot_data</span> <span class="op">&lt;-</span> <span class="va">bees_grid</span> <span class="op">|&gt;</span></span>
<span>  <span class="fu"><a href="https://tidyr.tidyverse.org/reference/unnest.html">unnest</a></span><span class="op">(</span><span class="va">pts</span><span class="op">)</span> <span class="op">|&gt;</span></span>
<span>  <span class="fu"><a href="https://dplyr.tidyverse.org/reference/mutate.html">mutate</a></span><span class="op">(</span></span>
<span>    state <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/factor.html">factor</a></span><span class="op">(</span><span class="va">state</span>, levels <span class="op">=</span> <span class="va">state_levels</span><span class="op">)</span></span>
<span>  <span class="op">)</span></span></code></pre></div><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></div>
</div>
<p>이것은 다음과 같은 형태의 데이터 세트를 생성합니다:</p>
<div class="cell">
<div class="code-copy-outer-scaffold"><div class="sourceCode" id="cb15" data-source-line-numbers="nil" data-code-line-numbers="nil"><pre class="downlit sourceCode r code-with-copy"><code class="sourceCode R"><span><span class="va">bees_plot_data</span></span></code></pre></div><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></div>
<div class="cell-output cell-output-stdout">
<pre data-code-line-numbers=""><code># A tibble: 7,483 × 5
    year state      colony_n     x     y
   &lt;dbl&gt; &lt;fct&gt;         &lt;dbl&gt; &lt;dbl&gt; &lt;dbl&gt;
 1  2015 California   750000  5.05  5.15
 2  2015 California   750000  5.44  4.80
 3  2015 California   750000  4.55  5.06
 4  2015 California   750000  5.17  4.66
 5  2015 California   750000  5.53  4.37
 6  2015 California   750000  5.06  4.25
 7  2015 California   750000  4.84  4.86
 8  2015 California   750000  5.66  5.07
 9  2015 California   750000  4.85  4.54
10  2015 California   750000  5.37  5.29
# ℹ 7,473 more rows</code></pre>
</div>
</div>
</section><section id="첫-번째-플롯" class="level3" data-number="4.3.3"><h3 data-number="4.3.3" class="anchored" data-anchor-id="첫-번째-플롯">
<span class="header-section-number">4.3.3</span> 첫 번째 플롯</h3>
<p>이전의 모든 장에서 했던 것처럼 <code><a href="https://ggplot2.tidyverse.org/reference/ggplot.html">ggplot()</a></code> 함수를 사용하여 플롯을 시작하고 플롯의 모든 레이어에 사용할 기본 데이터 및 미적 매핑을 전달합니다. 점을 추가하기 위해 전통적인 산점도를 만드는 것과 같은 방식으로 <code><a href="https://ggplot2.tidyverse.org/reference/geom_point.html">geom_point()</a></code>를 사용합니다. </p>
<p><a href="programming-languages.html" class="quarto-xref"><span>Chapter 2</span></a> 및 <a href="museums.html" class="quarto-xref"><span>Chapter 3</span></a> 에서 <code><a href="https://ggplot2.tidyverse.org/reference/facet_wrap.html">facet_wrap()</a></code>을 사용하여 범주형 변수의 수준을 기반으로 작은 다중 플롯을 만들었습니다. 여기서 우리는 비슷한 것을 하고 싶지만 두 범주형 변수의 수준 조합을 기반으로 분할합니다. <code><a href="https://ggplot2.tidyverse.org/reference/facet_grid.html">facet_grid()</a></code> 함수를 추가하여 작은 다중 플롯의 그리드를 만듭니다. 여기서 <code>state</code>는 그리드의 행이고 <code>year</code>는 열입니다. <code>switch = "both"</code>를 설정하면 패싯 레이블이 기본값과 반대쪽 그리드 면에 배치됩니다. 이렇게 하면 레이블이 주의 경우 왼쪽에, 연도의 경우 아래쪽에 배치됩니다. </p>
<div class="cell">
<div class="code-copy-outer-scaffold"><div class="sourceCode" id="cb17" data-source-line-numbers="nil" data-code-line-numbers="nil"><pre class="downlit sourceCode r code-with-copy"><code class="sourceCode R"><span><span class="va">basic_plot</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/ggplot.html">ggplot</a></span><span class="op">(</span></span>
<span>  data <span class="op">=</span> <span class="va">bees_plot_data</span>,</span>
<span>  mapping <span class="op">=</span> <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/aes.html">aes</a></span><span class="op">(</span>x <span class="op">=</span> <span class="va">x</span>, y <span class="op">=</span> <span class="va">y</span><span class="op">)</span></span>
<span><span class="op">)</span> <span class="op">+</span></span>
<span>  <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/geom_point.html">geom_point</a></span><span class="op">(</span><span class="op">)</span> <span class="op">+</span></span>
<span>  <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/facet_grid.html">facet_grid</a></span><span class="op">(</span><span class="va">state</span> <span class="op">~</span> <span class="va">year</span>, switch <span class="op">=</span> <span class="st">"both"</span><span class="op">)</span></span>
<span><span class="va">basic_plot</span></span></code></pre></div><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></div>
<div class="cell-output-display">
<div id="fig-bees-base-plot" class="quarto-float quarto-figure quarto-figure-center anchored" alt="각 그리드 사각형이 2015-2020년 사이의 1년과 캘리포니아, 노스다코타, 플로리다, 텍사스, 아이다호 또는 사우스다코타 중 하나를 나타내는 6x6 그리드. 각 사각형 내에서 점의 밀도는 꿀벌 군집의 수를 나타냅니다. 캘리포니아의 밀도가 높다는 것은 점들이 너무 빽빽하게 모여 있어 서로 구별할 수 없음을 의미합니다.">
<figure class="quarto-float quarto-float-fig figure"><div aria-describedby="fig-bees-base-plot-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
<img src="bee-colonies_files/figure-html/fig-bees-base-plot-1.png" class="img-fluid figure-img" alt="각 그리드 사각형이 2015-2020년 사이의 1년과 캘리포니아, 노스다코타, 플로리다, 텍사스, 아이다호 또는 사우스다코타 중 하나를 나타내는 6x6 그리드. 각 사각형 내에서 점의 밀도는 꿀벌 군집의 수를 나타냅니다. 캘리포니아의 밀도가 높다는 것은 점들이 너무 빽빽하게 모여 있어 서로 구별할 수 없음을 의미합니다.">
</div>
<figcaption class="quarto-float-caption-bottom quarto-float-caption quarto-float-fig" id="fig-bees-base-plot-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
Figure&nbsp;4.8: 각 그리드 사각형이 2015-2020년 사이의 1년과 캘리포니아, 노스다코타, 플로리다, 텍사스, 아이다호 또는 사우스다코타 중 하나를 나타내는 6x6 그리드. 각 사각형 내에서 점의 밀도는 꿀벌 군집의 수를 나타냅니다. 캘리포니아의 밀도가 높다는 것은 점들이 너무 빽빽하게 모여 있어 서로 구별할 수 없음을 의미합니다.
</figcaption></figure>
</div>
</div>
</div>
<p><a href="#fig-bees-base-plot" class="quarto-xref">Figure&nbsp;<span>4.8</span></a> 의 점이 약간 너무 크다는 것을 알 수 있습니다. 캘리포니아 데이터의 점은 점으로 구별할 수조차 없고 검은색 사각형처럼 보입니다! 다음 플롯 반복에서는 점의 크기를 줄일 것입니다.</p>
</section></section><section id="고급-스타일링" class="level2" data-number="4.4"><h2 data-number="4.4" class="anchored" data-anchor-id="고급-스타일링">
<span class="header-section-number">4.4</span> 고급 스타일링</h2>
<p>이 차트의 스타일 요소를 편집하여 더 전문적이고 시각적으로 매력적으로 보이도록 만들어 보겠습니다.</p>
<section id="색상" class="level3" data-number="4.4.1"><h3 data-number="4.4.1" class="anchored" data-anchor-id="색상">
<span class="header-section-number">4.4.1</span> 색상</h3>
<p>플롯의 색상을 선택하는 것으로 시작합니다. 열에 색상을 매핑하지는 않지만 플롯 배경색과 강조된 요소의 색상을 정의해야 합니다. 플롯을 깔끔하게 유지하기 위해 텍스트에도 동일한 색상을 사용합니다. <a href="programming-languages.html" class="quarto-xref"><span>Chapter 2</span></a> 과 유사하게 데이터 주제에 맞는 색상을 선택할 수 있습니다. 꿀벌을 생각할 때 어떤 색상이 떠오르나요? 검은색과 노란색입니다. 배경색에는 노란색을, 강조 색상에는 검은색을 사용할 것입니다. </p>
<div class="cell">
<div class="code-copy-outer-scaffold"><div class="sourceCode" id="cb18" data-source-line-numbers="nil" data-code-line-numbers="nil"><pre class="downlit sourceCode r code-with-copy"><code class="sourceCode R"><span><span class="va">bg_col</span> <span class="op">&lt;-</span> <span class="st">"#FECC27"</span></span>
<span><span class="va">highlight_col</span> <span class="op">&lt;-</span> <span class="st">"black"</span></span></code></pre></div><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></div>
</div>
<p>각 그리드 사각형 내의 점 수를 시각화하려고 하므로 그리드 사각형과 플롯 배경 사이에 명확한 구분이 있어야 합니다. 즉, 플롯 영역의 배경색을 패싯 그리드 사각형의 배경색과 다른 색으로 만들어야 합니다. 전체 플롯 배경은 노란색이어야 하지만 각 그리드 사각형은 검은색 배경이어야 하며 점은 다시 노란색이어야 합니다. 돌이켜보면 아마도 <code>highlight_col</code>이 <code>"black"</code> 색상을 나타내는 가장 좋은 이름은 아닐 것입니다!</p>
<p><a href="#fig-bees-base-plot" class="quarto-xref">Figure&nbsp;<span>4.8</span></a> 에서 <code>basic_plot</code>을 다시 만들되 <code>size</code> 인수를 사용하여 점의 <code>color</code>를 변경하고 크기를 작게 만듭니다: </p>
<div class="cell" data-source-line-numbers="6,7">
<div class="code-copy-outer-scaffold"><div class="sourceCode" id="cb19" data-source-line-numbers="6,7" data-code-line-numbers="6,7"><pre class="downlit sourceCode r code-with-copy"><code class="sourceCode R"><span><span class="va">basic_plot</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/ggplot.html">ggplot</a></span><span class="op">(</span></span>
<span>  data <span class="op">=</span> <span class="va">bees_plot_data</span>,</span>
<span>  mapping <span class="op">=</span> <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/aes.html">aes</a></span><span class="op">(</span>x <span class="op">=</span> <span class="va">x</span>, y <span class="op">=</span> <span class="va">y</span><span class="op">)</span></span>
<span><span class="op">)</span> <span class="op">+</span></span>
<span>  <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/geom_point.html">geom_point</a></span><span class="op">(</span></span>
<span>    size <span class="op">=</span> <span class="fl">0.1</span>,</span>
<span>    color <span class="op">=</span> <span class="va">bg_col</span></span>
<span>  <span class="op">)</span> <span class="op">+</span></span>
<span>  <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/facet_grid.html">facet_grid</a></span><span class="op">(</span><span class="va">state</span> <span class="op">~</span> <span class="va">year</span>, switch <span class="op">=</span> <span class="st">"both"</span><span class="op">)</span></span>
<span><span class="va">basic_plot</span></span></code></pre></div><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></div>
<div class="cell-output-display">
<div id="fig-bees-base-plot2" class="quarto-float quarto-figure quarto-figure-center anchored" alt="각 그리드 사각형이 2015-2020년 사이의 1년과 캘리포니아, 노스다코타, 플로리다, 텍사스, 아이다호 또는 사우스다코타 중 하나를 나타내는 6x6 그리드. 각 사각형 내에서 점의 밀도는 꿀벌 군집의 수를 나타냅니다. 축소된(이제 노란색) 점 크기를 통해 가장 빽빽하게 채워진 그리드 사각형에서도 점을 서로 구별할 수 있습니다.">
<figure class="quarto-float quarto-float-fig figure"><div aria-describedby="fig-bees-base-plot2-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
<img src="bee-colonies_files/figure-html/fig-bees-base-plot2-1.png" class="img-fluid figure-img" alt="각 그리드 사각형이 2015-2020년 사이의 1년과 캘리포니아, 노스다코타, 플로리다, 텍사스, 아이다호 또는 사우스다코타 중 하나를 나타내는 6x6 그리드. 각 사각형 내에서 점의 밀도는 꿀벌 군집의 수를 나타냅니다. 축소된(이제 노란색) 점 크기를 통해 가장 빽빽하게 채워진 그리드 사각형에서도 점을 서로 구별할 수 있습니다.">
</div>
<figcaption class="quarto-float-caption-bottom quarto-float-caption quarto-float-fig" id="fig-bees-base-plot2-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
Figure&nbsp;4.9: 각 그리드 사각형이 2015-2020년 사이의 1년과 캘리포니아, 노스다코타, 플로리다, 텍사스, 아이다호 또는 사우스다코타 중 하나를 나타내는 6x6 그리드. 각 사각형 내에서 점의 밀도는 꿀벌 군집의 수를 나타냅니다. 축소된(이제 노란색) 점 크기를 통해 가장 빽빽하게 채워진 그리드 사각형에서도 점을 서로 구별할 수 있습니다.
</figcaption></figure>
</div>
</div>
</div>
<p>나중에 <a href="#sec-bees-theme" class="quarto-xref"><span>Section 4.4.4</span></a> 에서 패싯 그리드 사각형의 배경색을 편집할 것입니다.</p>
</section><section id="글꼴" class="level3" data-number="4.4.2"><h3 data-number="4.4.2" class="anchored" data-anchor-id="글꼴">
<span class="header-section-number">4.4.2</span> 글꼴</h3>
<p>이것은 이미 시각적으로 꽤 복잡한 차트이므로 더 이상의 산만함을 피하고 차트의 모든 텍스트 요소에 동일한 서체를 사용할 것입니다. 즉, 단일 글꼴 변수 <code>body_font</code>만 정의합니다. 또한 간단하고 읽기 쉬운 서체를 사용할 것입니다. <em>Red Hat</em>은 산세리프 서체이며 <em>Red Hat Text</em> 버전은 특히 작은 글꼴 크기에서 가독성을 높이도록 설계되었습니다. 다시 말하지만 Google Fonts를 통해 사용할 수 있으므로 <strong><code>sysfonts</code></strong>의 <code><a href="https://rdrr.io/pkg/sysfonts/man/font_add_google.html">font_add_google()</a></code>을 사용하여 로드할 수 있으며 <code><a href="https://rdrr.io/pkg/showtext/man/showtext_auto.html">showtext_auto()</a></code>를 사용하면 플롯이 <strong><code>showtext</code></strong>를 사용하여 텍스트를 자동으로 그릴 수 있습니다. </p>
<div class="cell">
<div class="code-copy-outer-scaffold"><div class="sourceCode" id="cb20" data-source-line-numbers="nil" data-code-line-numbers="nil"><pre class="downlit sourceCode r code-with-copy"><code class="sourceCode R"><span><span class="fu"><a href="https://rdrr.io/pkg/sysfonts/man/font_add_google.html">font_add_google</a></span><span class="op">(</span></span>
<span>  name <span class="op">=</span> <span class="st">"Red Hat Text"</span>, family <span class="op">=</span> <span class="st">"red_hat"</span></span>
<span><span class="op">)</span></span>
<span><span class="fu"><a href="https://rdrr.io/pkg/showtext/man/showtext_auto.html">showtext_auto</a></span><span class="op">(</span><span class="op">)</span></span>
<span><span class="fu"><a href="https://rdrr.io/pkg/showtext/man/showtext_opts.html">showtext_opts</a></span><span class="op">(</span>dpi <span class="op">=</span> <span class="fl">300</span><span class="op">)</span></span>
<span><span class="va">body_font</span> <span class="op">&lt;-</span> <span class="st">"red_hat"</span></span></code></pre></div><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></div>
</div>
</section><section id="텍스트-추가" class="level3" data-number="4.4.3"><h3 data-number="4.4.3" class="anchored" data-anchor-id="텍스트-추가">
<span class="header-section-number">4.4.3</span> 텍스트 추가</h3>
<p>이전 장과 마찬가지로 제목, 부제목 및 캡션에 대한 텍스트를 작성하고 문자열을 변수로 저장하여 기본 플로팅 코드를 더 깔끔하게 유지합니다. 부제목은 차트가 중요한 이유에 대한 동기(꿀벌 수 감소의 영향)를 설명하고 비표준 차트를 읽는 방법(꿀벌 수가 표시되는 방식)에 대한 짧은 설명을 제공합니다. 캡션은 데이터 소스와 차트 작성자 모두에게 크레딧을 제공합니다.</p>
<div class="cell">
<div class="code-copy-outer-scaffold"><div class="sourceCode" id="cb21" data-source-line-numbers="nil" data-code-line-numbers="nil"><pre class="downlit sourceCode r code-with-copy"><code class="sourceCode R"><span><span class="va">title</span> <span class="op">&lt;-</span> <span class="st">"미국의 꿀벌 군집 손실"</span></span>
<span><span class="va">st</span> <span class="op">&lt;-</span> <span class="st">"꿀벌은 자연의 생태적 균형과 생물 다양성을 보존하는 데 필수적입니다. 서식지 손실, 오염, 살충제 사용 등의 요인으로 인해 전 세계적으로 꿀벌 개체 수가 급격히 감소하고 있습니다. 각 사각형의 점 수는 매년 10월부터 12월까지 존재하는 꿀벌 군집의 수를 나타냅니다."</span></span>
<span><span class="va">cap</span> <span class="op">&lt;-</span> <span class="st">"데이터: USDA | 그래픽: N. Rennie"</span></span></code></pre></div><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></div>
</div>
<p>그런 다음 <code><a href="https://ggplot2.tidyverse.org/reference/labs.html">labs()</a></code> 함수를 사용하여 이 텍스트를 추가하고 <code>title</code>, <code>subtitle</code> 및 <code>caption</code>을 설정할 수 있습니다. 데이터가 위치가 아닌 점의 수로 표시되므로 x축과 y축은 이 시각화에서 의미가 없습니다. <a href="#fig-bees-text-plot" class="quarto-xref">Figure&nbsp;<span>4.10</span></a> 에서 둘 다 <code>NULL</code>로 설정하여 x축 및 y축 제목을 제거합니다. </p>
<div class="cell">
<div class="code-copy-outer-scaffold"><div class="sourceCode" id="cb22" data-source-line-numbers="nil" data-code-line-numbers="nil"><pre class="downlit sourceCode r code-with-copy"><code class="sourceCode R"><span><span class="va">text_plot</span> <span class="op">&lt;-</span> <span class="va">basic_plot</span> <span class="op">+</span></span>
<span>  <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/labs.html">labs</a></span><span class="op">(</span></span>
<span>    title <span class="op">=</span> <span class="va">title</span>,</span>
<span>    subtitle <span class="op">=</span> <span class="va">st</span>,</span>
<span>    caption <span class="op">=</span> <span class="va">cap</span>,</span>
<span>    x <span class="op">=</span> <span class="cn">NULL</span>, y <span class="op">=</span> <span class="cn">NULL</span></span>
<span>  <span class="op">)</span></span>
<span><span class="va">text_plot</span></span></code></pre></div><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></div>
<div class="cell-output-display">
<div id="fig-bees-text-plot" class="quarto-float quarto-figure quarto-figure-center anchored" alt="각 그리드 사각형이 2015-2020년 사이의 1년과 캘리포니아, 노스다코타, 플로리다, 텍사스, 아이다호 또는 사우스다코타 중 하나를 나타내는 6x6 그리드. 각 사각형 내에서 점의 밀도는 꿀벌 군집의 수를 나타냅니다. 제목, 부제목 및 캡션이 추가되었지만 부제목이 페이지 측면으로 벗어납니다.">
<figure class="quarto-float quarto-float-fig figure"><div aria-describedby="fig-bees-text-plot-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
<img src="bee-colonies_files/figure-html/fig-bees-text-plot-1.png" class="img-fluid figure-img" alt="각 그리드 사각형이 2015-2020년 사이의 1년과 캘리포니아, 노스다코타, 플로리다, 텍사스, 아이다호 또는 사우스다코타 중 하나를 나타내는 6x6 그리드. 각 사각형 내에서 점의 밀도는 꿀벌 군집의 수를 나타냅니다. 제목, 부제목 및 캡션이 추가되었지만 부제목이 페이지 측면으로 벗어납니다.">
</div>
<figcaption class="quarto-float-caption-bottom quarto-float-caption quarto-float-fig" id="fig-bees-text-plot-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
Figure&nbsp;4.10: 각 그리드 사각형이 2015-2020년 사이의 1년과 캘리포니아, 노스다코타, 플로리다, 텍사스, 아이다호 또는 사우스다코타 중 하나를 나타내는 6x6 그리드. 각 사각형 내에서 점의 밀도는 꿀벌 군집의 수를 나타냅니다. 제목, 부제목 및 캡션이 추가되었지만 부제목이 페이지 측면으로 벗어납니다.
</figcaption></figure>
</div>
</div>
</div>
</section><section id="sec-bees-theme" class="level3" data-number="4.4.4"><h3 data-number="4.4.4" class="anchored" data-anchor-id="sec-bees-theme">
<span class="header-section-number">4.4.4</span> 테마 조정</h3>
<p>그런 다음 그리드 선도 제거하는 <code><a href="https://ggplot2.tidyverse.org/reference/ggtheme.html">theme_void()</a></code>를 사용하여 축 텍스트와 눈금을 제거할 수 있습니다. <code><a href="https://ggplot2.tidyverse.org/reference/ggtheme.html">theme_void()</a></code> 내에서 기본 서체를 사전 정의된 <code>body_font</code> 변수로 설정하고 패싯 레이블이 할당된 공간 내에 맞도록 크기를 줄일 수도 있습니다. </p>
<p>그리드 사각형은 x축과 y축 모두 0-10이므로 점이 한 방향으로 더 가까워 보이는 것을 피하기 위해 그리드 사각형이 직사각형이 아니라 실제로 정사각형인 것이 합리적입니다. 1:1 종횡비를 강제하기 위해 <code><a href="https://ggplot2.tidyverse.org/reference/coord_fixed.html">coord_fixed()</a></code>를 사용합니다. 플롯의 가장자리 주변의 추가 패딩을 제거하기 위해 <code>expand = FALSE</code>를 설정하면 점 밀도의 차이를 더 쉽게 볼 수 있습니다. </p>
<div class="cell">
<div class="code-copy-outer-scaffold"><div class="sourceCode" id="cb23" data-source-line-numbers="nil" data-code-line-numbers="nil"><pre class="downlit sourceCode r code-with-copy"><code class="sourceCode R"><span><span class="va">theme_plot</span> <span class="op">&lt;-</span> <span class="va">text_plot</span> <span class="op">+</span></span>
<span>  <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/coord_fixed.html">coord_fixed</a></span><span class="op">(</span>expand <span class="op">=</span> <span class="cn">FALSE</span><span class="op">)</span> <span class="op">+</span></span>
<span>  <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/ggtheme.html">theme_void</a></span><span class="op">(</span></span>
<span>    base_family <span class="op">=</span> <span class="va">body_font</span>,</span>
<span>    base_size <span class="op">=</span> <span class="fl">7.5</span></span>
<span>  <span class="op">)</span></span></code></pre></div><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></div>
</div>
<p>마지막 단계는 나머지 테마 요소를 조정하는 것입니다: </p>
<ul>
<li><p>플롯의 배경색(<code>plot.background</code>는 <code>bg_col</code>을 사용하여 노란색으로 설정)과 그리드 사각형(<code>panel.background</code>는 <code>highlight_col</code>을 사용하여 검은색으로 설정)을 편집합니다.</p></li>
<li><p>패싯 레이블의 텍스트 색상과 여백은 <code>strip.text</code> 인수를 사용하여 수정할 수 있습니다. 여기서는 텍스트에 약간 다른 여백을 추가하기 때문에(x축 패싯의 경우 위쪽 여백, y축 패싯의 경우 오른쪽 여백) 텍스트가 x 및 y 패싯 레이블에 대해 별도로 변경됩니다.</p></li>
<li><p>제목, 부제목 및 캡션 텍스트 색상을 <code>highlight_col</code>로 변경하고 <code><a href="https://ggplot2.tidyverse.org/reference/element.html">element_text()</a></code>를 사용하여 캡션을 왼쪽에 정렬합니다. 부제목은 <a href="programming-languages.html" class="quarto-xref"><span>Chapter 2</span></a> 에 설명된 대로 긴 텍스트의 자동 줄 바꿈을 활성화하기 위해 <strong><code>ggtext</code></strong>의 <code><a href="https://wilkelab.org/ggtext/reference/element_textbox.html">element_textbox_simple()</a></code>을 사용하여 정의됩니다.</p></li>
<li><p><code>plot.margin</code>을 조정하여 플롯 가장자리 주위에 공간을 추가하고 오른쪽에 약간 더 많은 공간을 추가합니다. 이렇게 하면 왼쪽의 패싯 레이블 텍스트에서 생성된 공간을 상쇄하므로 플롯이 더 균형 있게 보입니다.</p></li>
</ul>
<div class="cell">
<div class="code-copy-outer-scaffold"><div class="sourceCode" id="cb24" data-source-line-numbers="nil" data-code-line-numbers="nil"><pre class="downlit sourceCode r code-with-copy"><code class="sourceCode R"><span><span class="va">theme_plot</span> <span class="op">+</span></span>
<span>  <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/theme.html">theme</a></span><span class="op">(</span></span>
<span>    <span class="co"># background colors</span></span>
<span>    plot.background <span class="op">=</span> <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/element.html">element_rect</a></span><span class="op">(</span></span>
<span>      fill <span class="op">=</span> <span class="va">bg_col</span>, color <span class="op">=</span> <span class="va">bg_col</span></span>
<span>    <span class="op">)</span>,</span>
<span>    panel.background <span class="op">=</span> <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/element.html">element_rect</a></span><span class="op">(</span></span>
<span>      fill <span class="op">=</span> <span class="va">highlight_col</span>, color <span class="op">=</span> <span class="va">highlight_col</span></span>
<span>    <span class="op">)</span>,</span>
<span>    <span class="co"># facet labels</span></span>
<span>    strip.text.x <span class="op">=</span> <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/element.html">element_text</a></span><span class="op">(</span></span>
<span>      color <span class="op">=</span> <span class="va">highlight_col</span>,</span>
<span>      margin <span class="op">=</span> <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/element.html">margin</a></span><span class="op">(</span>t <span class="op">=</span> <span class="fl">5</span><span class="op">)</span></span>
<span>    <span class="op">)</span>,</span>
<span>    strip.text.y <span class="op">=</span> <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/element.html">element_text</a></span><span class="op">(</span></span>
<span>      color <span class="op">=</span> <span class="va">highlight_col</span>,</span>
<span>      angle <span class="op">=</span> <span class="fl">90</span>,</span>
<span>      margin <span class="op">=</span> <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/element.html">margin</a></span><span class="op">(</span>r <span class="op">=</span> <span class="fl">5</span><span class="op">)</span></span>
<span>    <span class="op">)</span>,</span>
<span>    <span class="co"># text formatting</span></span>
<span>    plot.title <span class="op">=</span> <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/element.html">element_text</a></span><span class="op">(</span></span>
<span>      color <span class="op">=</span> <span class="va">highlight_col</span>,</span>
<span>      face <span class="op">=</span> <span class="st">"bold"</span></span>
<span>    <span class="op">)</span>,</span>
<span>    plot.subtitle <span class="op">=</span> <span class="fu"><a href="https://wilkelab.org/ggtext/reference/element_textbox.html">element_textbox_simple</a></span><span class="op">(</span></span>
<span>      color <span class="op">=</span> <span class="va">highlight_col</span>,</span>
<span>      margin <span class="op">=</span> <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/element.html">margin</a></span><span class="op">(</span>t <span class="op">=</span> <span class="fl">5</span>, b <span class="op">=</span> <span class="fl">5</span><span class="op">)</span></span>
<span>    <span class="op">)</span>,</span>
<span>    plot.caption <span class="op">=</span> <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/element.html">element_text</a></span><span class="op">(</span></span>
<span>      color <span class="op">=</span> <span class="va">highlight_col</span>,</span>
<span>      margin <span class="op">=</span> <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/element.html">margin</a></span><span class="op">(</span>t <span class="op">=</span> <span class="fl">5</span><span class="op">)</span>,</span>
<span>      hjust <span class="op">=</span> <span class="fl">0</span></span>
<span>    <span class="op">)</span>,</span>
<span>    plot.margin <span class="op">=</span> <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/element.html">margin</a></span><span class="op">(</span><span class="fl">5</span>, <span class="fl">10</span>, <span class="fl">5</span>, <span class="fl">5</span><span class="op">)</span></span>
<span>  <span class="op">)</span></span></code></pre></div><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></div>
<div class="cell-output-display">
<div class="quarto-figure quarto-figure-center">
<figure class="figure"><p><img src="bee-colonies_files/figure-html/bees-theme-plot-2-1.png" class="img-fluid figure-img" alt="각 그리드 사각형이 2015-2020년 사이의 1년과 캘리포니아, 노스다코타, 플로리다, 텍사스, 아이다호 또는 사우스다코타 중 하나를 나타내는 6x6 그리드. 각 사각형 내에서 점의 밀도는 꿀벌 군집의 수를 나타냅니다. 디자인은 훨씬 더 미니멀하며 그리드 사각형의 검은색 배경으로 인해 대비가 높아져 노란색 점을 더 쉽게 볼 수 있습니다."></p>
<figcaption>각 그리드 사각형이 2015-2020년 사이의 1년과 캘리포니아, 노스다코타, 플로리다, 텍사스, 아이다호 또는 사우스다코타 중 하나를 나타내는 6x6 그리드. 각 사각형 내에서 점의 밀도는 꿀벌 군집의 수를 나타냅니다. 디자인은 훨씬 더 미니멀하며 그리드 사각형의 검은색 배경으로 인해 대비가 높아져 노란색 점을 더 쉽게 볼 수 있습니다.</figcaption></figure>
</div>
</div>
</div>
<p>이제 플롯을 완성했으며 <code><a href="https://ggplot2.tidyverse.org/reference/ggsave.html">ggsave()</a></code>로 저장할 수 있습니다. </p>
<div class="cell">
<div class="code-copy-outer-scaffold"><div class="sourceCode" id="cb25" data-source-line-numbers="nil" data-code-line-numbers="nil"><pre class="downlit sourceCode r code-with-copy"><code class="sourceCode R"><span><span class="fu"><a href="https://ggplot2.tidyverse.org/reference/ggsave.html">ggsave</a></span><span class="op">(</span></span>
<span>  filename <span class="op">=</span> <span class="st">"bee-colonies.png"</span>,</span>
<span>  width <span class="op">=</span> <span class="fl">5</span>,</span>
<span>  height <span class="op">=</span> <span class="fl">5</span></span>
<span><span class="op">)</span></span></code></pre></div><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></div>
</div>
</section></section><section id="성찰" class="level2" data-number="4.5"><h2 data-number="4.5" class="anchored" data-anchor-id="성찰">
<span class="header-section-number">4.5</span> 성찰</h2>
<p>이 차트의 비표준적 성격과 함께 꿀벌 테마의 색상은 시각적으로 흥미롭고 재미있습니다. 그러나 차트를 해석하는 방법을 이해하는 데는 조금 더 시간이 걸립니다. 이것은 저자가 차트의 작동 방식을 설명할 시간이 있는 환경에서 더 잘 작동할 시각화입니다. 예를 들어 프레젠테이션이나 <em>이 차트를 읽는 방법</em> 설명이 포함된 기사에서 그렇습니다. 설명이 없는 독립형 리플릿에서는 독자가 표시되는 내용을 이해하는 데 어려움을 겪을 수 있으므로 잘 작동하지 않을 것입니다. 차트 유형으로 시간 경과에 따른 추세를 보기는 더 어렵습니다. 간단한 선형 차트는 동일한 데이터를 보다 <em>표준적이고</em> 해석하기 쉬운 방식으로 표시할 수 있습니다. 그러나 선형 차트는 같은 방식으로 주의를 끌지 못합니다. 모든 것은 차트의 목적에 달려 있습니다. 주된 목표가 꿀벌 군집에 대한 중요한 데이터에 주의를 끌고 전반적인 추세를 보여주는 것입니까? 아니면 주된 목표가 각 연도의 군집 크기를 어느 정도의 정확도 범위 내에서 전달하는 것입니까? 이러한 질문에 대한 답이 이것이 적절한 차트 유형인지 여부를 결정할 것입니다.</p>
<p>이 차트 버전은 6개 주에 대한 데이터만 보여주지만 탐색적 분석을 통해 (거의) 모든 주에 대한 데이터를 사용할 수 있음을 알고 있습니다. 이러한 주가 선택된 이유에 대한 설명이 부제목에 추가되거나 모든 주에 대한 데이터가 표시될 수 있습니다. 비록 매우 긴 차트가 되겠지만 말입니다! 시각화는 또한 각 주에 동일한 차트 영역을 할당합니다. 아마도 각 주가 동일한 지리적 영역을 가지고 있음을 암시할 수 있지만 물론 사실이 아닙니다. 차트는 캘리포니아에 꿀벌이 많다는 것을 보여줍니다. 캘리포니아는 면적 면에서도 세 번째로 큰 주입니다 <span class="citation" data-cites="UScensus">(<a href="references.html#ref-UScensus" role="doc-biblioref">United States Census Bureau 2021b</a>)</span>. 아마도 꿀벌이 살 공간이 더 많을까요? 아마도 데이터를 주 면적(또는 주 농업 면적)으로 표준화하면 주 간의 비교가 더 쉬울 것입니다.</p>
<p>이 차트의 또 다른 단점은 단 하나의 변수, 즉 꿀벌 군집 수만 시각화한다는 것입니다. 그러나 군집 수가 적더라도 군집 크기가 크면 꿀벌 수가 크게 변하지 않는다는 것을 의미할 수 있습니다. 그러나 군집 수만 보면 그것을 알 수 없습니다. 차트를 단일 변수로 제한하면 데이터의 전체 그림을 얻을 수 없습니다.</p>
<p>이러한 유형의 시각화에는 몇 가지 단점이 있고 완벽하지는 않지만 차트 디자인에 대해 창의적으로 생각하는 방법과 R에서 구현하는 방법에 대한 아이디어를 제공하기를 바랍니다.</p>
</section><section id="연습-문제" class="level2" data-number="4.6"><h2 data-number="4.6" class="anchored" data-anchor-id="연습-문제">
<span class="header-section-number">4.6</span> 연습 문제</h2>
<ul>
<li><p><code>colony_n</code> 대신 <code>colony_max</code> 열을 사용하여 이 장의 시각화를 다시 만드십시오.</p></li>
<li><p>같은 차트에 두 열을 어떻게 시각화할 수 있습니까?</p></li>
</ul>


<div id="refs" class="references csl-bib-body hanging-indent" data-entry-spacing="0" role="list" style="display: none">
<div id="ref-Anscombe1973" class="csl-entry" role="listitem">
Anscombe, F. J. 1973. <span>“Graphs in Statistical Analysis.”</span> <em>The American Statistician</em> 27 (1): 17–21. <a href="https://doi.org/10.1080/00031305.1973.10478966">https://doi.org/10.1080/00031305.1973.10478966</a>.
</div>
<div id="ref-aphalo2024" class="csl-entry" role="listitem">
Aphalo, Pedro J. 2024. <em><span class="nocase">Learn R: As a Language</span></em>. Second Edition. CRC Press. <a href="https://www.learnr-book.info/">https://www.learnr-book.info/</a>.
</div>
<div id="ref-egg" class="csl-entry" role="listitem">
Auguie, Baptiste. 2019. <em><span class="nocase">egg: Extensions for ’ggplot2’: Custom Geom, Custom Themes, Plot Alignment, Labelled Panels, Symmetric Scales, and Fixed Panel Size</span></em>. <a href="https://CRAN.R-project.org/package=egg">https://CRAN.R-project.org/package=egg</a>.
</div>
<div id="ref-imager" class="csl-entry" role="listitem">
Barthelme, Simon. 2024. <em><span class="nocase">imager: Image Processing Library Based on ’CImg’</span></em>. <a href="https://CRAN.R-project.org/package=imager">https://CRAN.R-project.org/package=imager</a>.
</div>
<div id="ref-vandenBrandv4" class="csl-entry" role="listitem">
Brand, Teun van den. 2025. <span>“<span class="nocase">ggplot2 4.0.0</span>.”</span> <a href="https://www.tidyverse.org/blog/2025/09/ggplot2-4-0-0/" class="uri">https://www.tidyverse.org/blog/2025/09/ggplot2-4-0-0/</a>.
</div>
<div id="ref-bridson2007" class="csl-entry" role="listitem">
Bridson, Robert. 2007. <span>“Fast Poisson Disk Sampling in Arbitrary Dimensions.”</span> In <em>ACM SIGGRAPH 2007 Sketches</em>. SIGGRAPH ’07. New York, NY, USA: Association for Computing Machinery. <a href="https://doi.org/10.1145/1278780.1278807">https://doi.org/10.1145/1278780.1278807</a>.
</div>
<div id="ref-Brown2009" class="csl-entry" role="listitem">
Brown, Mark J.F., and Paxton, Robert J. 2009. <span>“The Conservation of Bees: A Global Perspective.”</span> <em>Apidologie</em> 40 (3): 410–16. <a href="https://doi.org/10.1051/apido/2009019">https://doi.org/10.1051/apido/2009019</a>.
</div>
<div id="ref-geomtextpath" class="csl-entry" role="listitem">
Cameron, Allan, and Teun van den Brand. 2024. <em><span class="nocase">geomtextpath: Curved Text in ’ggplot2’</span></em>. <a href="https://CRAN.R-project.org/package=geomtextpath">https://CRAN.R-project.org/package=geomtextpath</a>.
</div>
<div id="ref-cartocolors" class="csl-entry" role="listitem">
CARTO. 2016. <em><span>’CARTOColors’ Palettes</span></em>. <a href="https://carto.com/carto-colors/">https://carto.com/carto-colors/</a>.
</div>
<div id="ref-extrafont" class="csl-entry" role="listitem">
Chang, Winston. 2023. <em><span class="nocase">extrafont</span>: Tools for Using Fonts</em>. <a href="https://CRAN.R-project.org/package=extrafont">https://CRAN.R-project.org/package=extrafont</a>.
</div>
<div id="ref-dumbbell" class="csl-entry" role="listitem">
Cheung, Foo. 2021. <em><span class="nocase">dumbbell</span>: Displaying Changes Between Two Points Using Dumbbell Plots</em>. <a href="https://CRAN.R-project.org/package=dumbbell">https://CRAN.R-project.org/package=dumbbell</a>.
</div>
<div id="ref-ggannotate" class="csl-entry" role="listitem">
Cowgill, Matt, and John Helveston. 2021. <em><span class="nocase">ggannotate: Interactively Annotate ggplot2 Plots</span></em>. <a href="https://github.com/MattCowgill/ggannotate">https://github.com/MattCowgill/ggannotate</a>.
</div>
<div id="ref-pak" class="csl-entry" role="listitem">
Csárdi, Gábor, and Jim Hester. 2024. <em><span class="nocase">pak: Another Approach to Package Installation</span></em>. <a href="https://CRAN.R-project.org/package=pak">https://CRAN.R-project.org/package=pak</a>.
</div>
<div id="ref-remotes" class="csl-entry" role="listitem">
Csárdi, Gábor, Jim Hester, Hadley Wickham, Winston Chang, Martin Morgan, and Dan Tenenbaum. 2024. <em><span class="nocase">remotes: R Package Installation from Remote Repositories, Including ’GitHub’</span></em>. <a href="https://CRAN.R-project.org/package=remotes">https://CRAN.R-project.org/package=remotes</a>.
</div>
<div id="ref-ggview" class="csl-entry" role="listitem">
Domin, Iaroslav. 2024. <em><span class="nocase">ggview: ’ggplot2’ Picture Previewer</span></em>. <a href="https://CRAN.R-project.org/package=ggview">https://CRAN.R-project.org/package=ggview</a>.
</div>
<div id="ref-tidyplots" class="csl-entry" role="listitem">
Engler, Jan Broder. 2024. <span>“Tidyplots Empowers Life Scientists with Easy Code-Based Data Visualization.”</span> <em>bioRxiv</em>. <a href="https://doi.org/10.1101/2024.11.08.621836">https://doi.org/10.1101/2024.11.08.621836</a>.
</div>
<div id="ref-ggpattern" class="csl-entry" role="listitem">
FC, Mike, Trevor L. Davis, and ggplot2 authors. 2024. <em><span class="nocase">ggpattern: ’ggplot2’ Pattern Geoms</span></em>. <a href="https://CRAN.R-project.org/package=ggpattern">https://CRAN.R-project.org/package=ggpattern</a>.
</div>
<div id="ref-flaticon" class="csl-entry" role="listitem">
Flaticon.com. 2024. <span>“<span>Wind Power Flaticon</span>.”</span> <a href="https://www.flaticon.com/free-icon/wind-power_5670189" class="uri">https://www.flaticon.com/free-icon/wind-power_5670189</a>.
</div>
<div id="ref-fontawesome" class="csl-entry" role="listitem">
Font Awesome. 2024. <span>“<span>Font Awesome 6</span>.”</span> <a href="https://fontawesome.com/" class="uri">https://fontawesome.com/</a>.
</div>
<div id="ref-Hullman2021" class="csl-entry" role="listitem">
Franconeri, Steven L., Lace M. Padilla, Priti Shah, Jeffrey M. Zacks, and Jessica Hullman. 2021. <span>“The Science of Visual Data Communication: What Works.”</span> <em>Psychological Science in the Public Interest</em> 22 (3): 110–61. <a href="https://doi.org/10.1177/15291006211051956">https://doi.org/10.1177/15291006211051956</a>.
</div>
<div id="ref-viridis" class="csl-entry" role="listitem">
Garnier, Simon, Ross, Noam, Rudis, Robert, Camargo, et al. 2024. <em><span class="nocase">viridis(Lite)</span> - Colorblind-Friendly Color Maps for <span>R</span></em>. <a href="https://doi.org/10.5281/zenodo.4679423">https://doi.org/10.5281/zenodo.4679423</a>.
</div>
<div id="ref-ggiraph" class="csl-entry" role="listitem">
Gohel, David, and Panagiotis Skintzos. 2024. <em><span class="nocase">ggiraph: Make ’ggplot2’ Graphics Interactive</span></em>. <a href="https://CRAN.R-project.org/package=ggiraph">https://CRAN.R-project.org/package=ggiraph</a>.
</div>
<div id="ref-GAcharts" class="csl-entry" role="listitem">
Government Analysis Function. 2021. <span>“Data Visualisation: Colours.”</span> <a href="https://analysisfunction.civilservice.gov.uk/policy-store/data-visualisation-colours-in-charts/" class="uri">https://analysisfunction.civilservice.gov.uk/policy-store/data-visualisation-colours-in-charts/</a>.
</div>
<div id="ref-geofacet" class="csl-entry" role="listitem">
Hafen, Ryan. 2023. <em><span class="nocase">geofacet</span>: <span class="nocase">’ggplot2’</span> Faceting Utilities for Geographical Data</em>. <a href="https://CRAN.R-project.org/package=geofacet">https://CRAN.R-project.org/package=geofacet</a>.
</div>
<div id="ref-harmon2024" class="csl-entry" role="listitem">
Harmon, Jon. 2024. <em><span class="nocase">Web APIs with R</span></em>. <span>CRC Press</span>. <a href="https://wapir.io/">https://wapir.io/</a>.
</div>
<div id="ref-lintr" class="csl-entry" role="listitem">
Hester, Jim, Florent Angly, Russ Hyde, Michael Chirico, Kun Ren, Alexander Rosenstock, and Indrajeet Patil. 2024. <em><span class="nocase">lintr</span>: A ’Linter’ for <span>R</span> Code</em>. <a href="https://CRAN.R-project.org/package=lintr">https://CRAN.R-project.org/package=lintr</a>.
</div>
<div id="ref-glue" class="csl-entry" role="listitem">
Hester, Jim, and Jennifer Bryan. 2024. <em><span class="nocase">glue</span>: Interpreted String Literals</em>. <a href="https://glue.tidyverse.org/">https://glue.tidyverse.org/</a>.
</div>
<div id="ref-camcorder" class="csl-entry" role="listitem">
Hughes, Ellis. 2022a. <em><span class="nocase">camcorder</span>: Record Your Plot History</em>. <a href="https://CRAN.R-project.org/package=camcorder">https://CRAN.R-project.org/package=camcorder</a>.
</div>
<div id="ref-tidytuesdayR" class="csl-entry" role="listitem">
———. 2022b. <em><span class="nocase">tidytuesdayR</span>: Access the Weekly ’TidyTuesday’ Project Dataset</em>. <a href="https://CRAN.R-project.org/package=tidytuesdayR">https://CRAN.R-project.org/package=tidytuesdayR</a>.
</div>
<div id="ref-paletteer" class="csl-entry" role="listitem">
Hvitfeldt, Emil. 2021. <em><span class="nocase">paletteer</span>: Comprehensive Collection of Color Palettes</em>. <a href="https://github.com/EmilHvitfeldt/paletteer">https://github.com/EmilHvitfeldt/paletteer</a>.
</div>
<div id="ref-animalshelter" class="csl-entry" role="listitem">
———. 2025. <em><span class="nocase">animalshelter</span>: Animal Shelter Data</em>. <a href="https://github.com/EmilHvitfeldt/animalshelter">https://github.com/EmilHvitfeldt/animalshelter</a>.
</div>
<div id="ref-fontawesomeR" class="csl-entry" role="listitem">
Iannone, Richard. 2024. <em><span class="nocase">fontawesome: Easily Work with ’Font Awesome’ Icons</span></em>. <a href="https://CRAN.R-project.org/package=fontawesome">https://CRAN.R-project.org/package=fontawesome</a>.
</div>
<div id="ref-zones_data" class="csl-entry" role="listitem">
Internet Assigned Numbers Authority. 2023. <span>“The <span class="nocase">tz</span> Database: Time Zone and Daylight Saving Time Data.”</span> <span>Internet Assigned Numbers Authority</span>. <a href="https://data.iana.org/time-zones/tz-link.html">https://data.iana.org/time-zones/tz-link.html</a>.
</div>
<div id="ref-img_jax" class="csl-entry" role="listitem">
Jax (@lysrix). 2017. <span>“Lemur.”</span> <a href="https://unsplash.com/photos/red-and-white-rodent-h5xrh3CNT-k">https://unsplash.com/photos/red-and-white-rodent-h5xrh3CNT-k</a>.
</div>
<div id="ref-kays2020" class="csl-entry" role="listitem">
Kays, R., R. R. Dunn, A. W. Parsons, B. Mcdonald, T. Perkins, S. A. Powers, L. Shell, et al. 2020. <span>“The Small Home Ranges and Large Local Ecological Impacts of Pet Cats.”</span> <em>Animal Conservation</em> 23 (5): 516–23. <a href="https://doi.org/10.1111/acv.12563">https://doi.org/10.1111/acv.12563</a>.
</div>
<div id="ref-r4rest" class="csl-entry" role="listitem">
Keyes, David. 2024. <em><span class="nocase">R for the Rest of Us: A Statistics-Free Introduction</span></em>. No Starch Press. <a href="https://book.rfortherestofus.com/">https://book.rfortherestofus.com/</a>.
</div>
<div id="ref-longbeach_data" class="csl-entry" role="listitem">
Long Beach Animal Shelter. 2025. <span>“<span>Animal Shelter Data</span>.”</span> City of Long Beach Animal Care Services. <a href="https://data.longbeach.gov/explore/dataset/animal-shelter-intakes-and-outcomes/information/">https://data.longbeach.gov/explore/dataset/animal-shelter-intakes-and-outcomes/information/</a>.
</div>
<div id="ref-Vizumap" class="csl-entry" role="listitem">
Lucchesi, Lydia, and Petra Kuhnert. 2020. <em><span>Vizumap</span>: Visualizing Uncertainty in Spatial Data</em>. <a href="https://github.com/lydialucchesi/Vizumap">https://github.com/lydialucchesi/Vizumap</a>.
</div>
<div id="ref-museums_data" class="csl-entry" role="listitem">
Mapping Museums. 2021. <span>“Mapping Museums Data.”</span> <a href="https://www.mappingmuseums.org">www.mappingmuseums.org</a>.
</div>
<div id="ref-rnaturalearth" class="csl-entry" role="listitem">
Massicotte, Philippe, and Andy South. 2023. <em><span class="nocase">rnaturalearth</span>: World Map Data from Natural Earth</em>. <a href="https://docs.ropensci.org/rnaturalearth/">https://docs.ropensci.org/rnaturalearth/</a>.
</div>
<div id="ref-Matejka2017" class="csl-entry" role="listitem">
Matejka, Justin, and George Fitzmaurice. 2017. <span>“Same Stats, Different Graphs: Generating Datasets with Varied Appearance and Identical Statistics Through Simulated Annealing.”</span> In, 1290–94. <a href="https://doi.org/10.1145/3025453.3025912">https://doi.org/10.1145/3025453.3025912</a>.
</div>
<div id="ref-cats_data" class="csl-entry" role="listitem">
McDonald, J. L., and H. Cole. 2020. <span>“Data from: The Small Home Ranges and Large Local Ecological Impacts of Pet Cats [United Kingdom].”</span> Movebank data repository. <a href="https://doi.org/doi:10.5441/001/1.pf315732">https://doi.org/doi:10.5441/001/1.pf315732</a>.
</div>
<div id="ref-colorblindr" class="csl-entry" role="listitem">
McWhite, Claire D., and Claus O. Wilke. 2024. <em><span class="nocase">colorblindr: Simulate colorblindness in R figures</span></em>. <a href="https://github.com/clauswilke/colorblindr">https://github.com/clauswilke/colorblindr</a>.
</div>
<div id="ref-Apiculture" class="csl-entry" role="listitem">
Mid-Atlantic Apiculture Research and Extension Consortium. 2024. <span>“Seasonal Cycles of Activities in Colonies.”</span> <a href="https://canr.udel.edu/maarec/honey-bee-biology/seasonal-cycles-of-activities-in-colonies/" class="uri">https://canr.udel.edu/maarec/honey-bee-biology/seasonal-cycles-of-activities-in-colonies/</a>.
</div>
<div id="ref-poissoned" class="csl-entry" role="listitem">
mikefc. 2024. <em><span class="nocase">poissoned: Tileable Poisson Disc Sampling</span></em>. <a href="https://github.com/coolbutuseless/poissoned">https://github.com/coolbutuseless/poissoned</a>.
</div>
<div id="ref-MetBrewer" class="csl-entry" role="listitem">
Mills, Blake Robert. 2022. <em><span>MetBrewer</span>: Color Palettes Inspired by Works at the Metropolitan Museum of Art</em>. <a href="https://CRAN.R-project.org/package=MetBrewer">https://CRAN.R-project.org/package=MetBrewer</a>.
</div>
<div id="ref-elections_data" class="csl-entry" role="listitem">
MIT Election Data and Science Lab. 2017. <span>“<span>U.S. House 1976–2022</span>.”</span> Harvard Dataverse. <a href="https://doi.org/10.7910/DVN/IG0UN2">https://doi.org/10.7910/DVN/IG0UN2</a>.
</div>
<div id="ref-styler" class="csl-entry" role="listitem">
Müller, Kirill, and Lorenz Walthert. 2023. <em><span class="nocase">styler</span>: Non-Invasive Pretty Printing of <span>R</span> Code</em>. <a href="https://CRAN.R-project.org/package=styler">https://CRAN.R-project.org/package=styler</a>.
</div>
<div id="ref-tibble" class="csl-entry" role="listitem">
Müller, Kirill, and Hadley Wickham. 2023. <em><span class="nocase">tibble</span>: Simple Data Frames</em>. <a href="https://CRAN.R-project.org/package=tibble">https://CRAN.R-project.org/package=tibble</a>.
</div>
<div id="ref-Muth2018" class="csl-entry" role="listitem">
Muth, Lisa. 2018. <span>“An Alternative to Pink &amp; Blue: Colors for Gender Data.”</span> <a href="https://blog.datawrapper.de/gendercolor/" class="uri">https://blog.datawrapper.de/gendercolor/</a>.
</div>
<div id="ref-turbines_data" class="csl-entry" role="listitem">
Natural Resources Canada. 2021. <span>“Canadian Wind Turbine Database.”</span> Natural Resources Canada (Government of Canada). <a href="https://open.canada.ca/data/en/dataset/79fdad93-9025-49ad-ba16-c26d718cc070">https://open.canada.ca/data/en/dataset/79fdad93-9025-49ad-ba16-c26d718cc070</a>.
</div>
<div id="ref-ggbranding" class="csl-entry" role="listitem">
Noblet, Guillaume. 2025. <em><span class="nocase">ggbranding: Add Personal Branding to ’ggplot2’ Charts</span></em>. <a href="https://github.com/gnoblet/ggbranding">https://github.com/gnoblet/ggbranding</a>.
</div>
<div id="ref-rcartocolor" class="csl-entry" role="listitem">
Nowosad, Jakub. 2018. <em><span>’CARTOColors’ Palettes</span></em>. <a href="https://jakubnowosad.com/rcartocolor/">https://jakubnowosad.com/rcartocolor/</a>.
</div>
<div id="ref-magick" class="csl-entry" role="listitem">
Ooms, Jeroen. 2024. <em><span class="nocase">magick: Advanced Graphics and Image-Processing in R</span></em>. <a href="https://CRAN.R-project.org/package=magick">https://CRAN.R-project.org/package=magick</a>.
</div>
<div id="ref-doctors_data" class="csl-entry" role="listitem">
Our World in Data. 2019. <span>“Medical Doctors Per 1,000 People.”</span> <a href="https://ourworldindata.org/grapher/physicians-per-1000-people">https://ourworldindata.org/grapher/physicians-per-1000-people</a>.
</div>
<div id="ref-sf" class="csl-entry" role="listitem">
Pebesma, Edzer. 2018. <span>“<span class="nocase">Simple Features for R: Standardized Support for Spatial Vector Data</span>.”</span> <em><span>The R Journal</span></em> 10 (1): 439–46. <a href="https://doi.org/10.32614/RJ-2018-009">https://doi.org/10.32614/RJ-2018-009</a>.
</div>
<div id="ref-ggforce" class="csl-entry" role="listitem">
Pedersen, Thomas Lin. 2022. <em><span class="nocase">ggforce</span>: Accelerating <span class="nocase">’ggplot2’</span></em>. <a href="https://CRAN.R-project.org/package=ggforce">https://CRAN.R-project.org/package=ggforce</a>.
</div>
<div id="ref-patchwork" class="csl-entry" role="listitem">
———. 2024. <em><span class="nocase">patchwork</span>: The Composer of Plots</em>. <a href="https://CRAN.R-project.org/package=patchwork">https://CRAN.R-project.org/package=patchwork</a>.
</div>
<div id="ref-Pedersen2025" class="csl-entry" role="listitem">
———. 2025. <span>“<span class="nocase">Fonts in R</span>.”</span> <a href="https://www.tidyverse.org/blog/2025/05/fonts-in-r/" class="uri">https://www.tidyverse.org/blog/2025/05/fonts-in-r/</a>.
</div>
<div id="ref-marquee" class="csl-entry" role="listitem">
Pedersen, Thomas Lin, and Martin Mitáš. 2024. <em><span class="nocase">marquee: Markdown Parser and Renderer for R Graphics</span></em>. <a href="https://CRAN.R-project.org/package=marquee">https://CRAN.R-project.org/package=marquee</a>.
</div>
<div id="ref-systemfonts" class="csl-entry" role="listitem">
Pedersen, Thomas Lin, Jeroen Ooms, and Devon Govett. 2024. <em><span class="nocase">systemfonts: System Native Font Finding</span></em>. <a href="https://CRAN.R-project.org/package=systemfonts">https://CRAN.R-project.org/package=systemfonts</a>.
</div>
<div id="ref-ragg" class="csl-entry" role="listitem">
Pedersen, Thomas Lin, and Maxim Shemanarev. 2023. <em><span class="nocase">ragg</span>: Graphic Devices Based on <span>AGG</span></em>. <a href="https://CRAN.R-project.org/package=ragg">https://CRAN.R-project.org/package=ragg</a>.
</div>
<div id="ref-pldb_data" class="csl-entry" role="listitem">
PLDB contributors. 2022. <span>“<span>PLDB</span>: A Programming Language Database.”</span> <em><span>PLDB</span></em>. <a href="https://pldb.com">https://pldb.com</a>.
</div>
<div id="ref-sysfonts" class="csl-entry" role="listitem">
Qiu, Yixuan. 2022. <em><span class="nocase">sysfonts</span>: Loading Fonts into <span>R</span></em>. <a href="https://CRAN.R-project.org/package=sysfonts">https://CRAN.R-project.org/package=sysfonts</a>.
</div>
<div id="ref-showtext" class="csl-entry" role="listitem">
———. 2023. <em><span class="nocase">showtext</span>: Using Fonts More Easily in <span>R</span> Graphs</em>. <a href="https://CRAN.R-project.org/package=showtext">https://CRAN.R-project.org/package=showtext</a>.
</div>
<div id="ref-rproj" class="csl-entry" role="listitem">
R Core Team. 2024. <em><span>R</span>: A Language and Environment for Statistical Computing</em>. Vienna, Austria: R Foundation for Statistical Computing. <a href="https://www.R-project.org/">https://www.R-project.org/</a>.
</div>
<div id="ref-tidytuesday" class="csl-entry" role="listitem">
R4DS Online Learning Community. 2023. <span>“Tidy Tuesday: A Weekly Social Data Project.”</span> <a href="https://github.com/rfordatascience/tidytuesday">https://github.com/rfordatascience/tidytuesday</a>.
</div>
<div id="ref-social_icons" class="csl-entry" role="listitem">
Rennie, Nicola. 2023a. <span>“Adding Social Media Icons to Charts with <span class="nocase">ggplot2</span>.”</span> <a href="https://nrennie.rbind.io/blog/adding-social-media-icons-ggplot2/">https://nrennie.rbind.io/blog/adding-social-media-icons-ggplot2/</a>.
</div>
<div id="ref-template_files" class="csl-entry" role="listitem">
———. 2023b. <span>“Creating Template Files with <span>R</span>.”</span> <a href="https://nrennie.rbind.io/blog/script-templates-r/">https://nrennie.rbind.io/blog/script-templates-r/</a>.
</div>
<div id="ref-streamline" class="csl-entry" role="listitem">
———. 2023c. <span>“Four Ways to Streamline Your <span>R</span> Workflows.”</span> <a href="https://nrennie.rbind.io/blog/four-ways-streamline-r-workflows/">https://nrennie.rbind.io/blog/four-ways-streamline-r-workflows/</a>.
</div>
<div id="ref-ggtextcircle" class="csl-entry" role="listitem">
———. 2024a. <em><span class="nocase">ggtextcircle: Circular Text in ’ggplot2’</span></em>. <a href="https://github.com/nrennie/ggtextcircle">https://github.com/nrennie/ggtextcircle</a>.
</div>
<div id="ref-nobel" class="csl-entry" role="listitem">
———. 2024b. <em><span class="nocase">nobel: Access data from the Nobel Prize API via R</span></em>. <a href="https://github.com/nrennie/nobel">https://github.com/nrennie/nobel</a>.
</div>
<div id="ref-pkgs_data" class="csl-entry" role="listitem">
———. 2024c. <span>“<span class="nocase">tidytuesday</span>.”</span> <em>GitHub Repository</em>. GitHub. <a href="https://github.com/nrennie/tidytuesday">https://github.com/nrennie/tidytuesday</a>.
</div>
<div id="ref-signif2024a" class="csl-entry" role="listitem">
Rennie, Nicola, and Andreas Krause. 2024. <span>“<span class="nocase">Presenting data the Significance way - Part 1</span>.”</span> <em>Significance</em> 21 (3): 36–39. <a href="https://doi.org/10.1093/jrssig/qmae045">https://doi.org/10.1093/jrssig/qmae045</a>.
</div>
<div id="ref-Reynolds2025" class="csl-entry" role="listitem">
Reynolds, Gina. 2025. <span>“<span class="nocase">Everyday ggplot2 extension</span>.”</span> <a href="https://evamaerey.github.io/everyday_ggplot2_extension/" class="uri">https://evamaerey.github.io/everyday_ggplot2_extension/</a>.
</div>
<div id="ref-hex_forcats" class="csl-entry" role="listitem">
RStudio. 2018a. <span>“<span class="nocase">forcats</span> Hex Sticker.”</span> <a href="https://github.com/rstudio/hex-stickers/blob/main/PNG/forcats.png">https://github.com/rstudio/hex-stickers/blob/main/PNG/forcats.png</a>.
</div>
<div id="ref-hex_ggplot2" class="csl-entry" role="listitem">
———. 2018b. <span>“<span class="nocase">ggplot2</span> Hex Sticker.”</span> <a href="https://github.com/rstudio/hex-stickers/blob/main/PNG/ggplot2.png">https://github.com/rstudio/hex-stickers/blob/main/PNG/ggplot2.png</a>.
</div>
<div id="ref-hex_purrr" class="csl-entry" role="listitem">
———. 2018c. <span>“<span class="nocase">purrr</span> Hex Sticker.”</span> <a href="https://github.com/rstudio/hex-stickers/blob/main/PNG/purrr.png">https://github.com/rstudio/hex-stickers/blob/main/PNG/purrr.png</a>.
</div>
<div id="ref-hex_readr" class="csl-entry" role="listitem">
———. 2018d. <span>“<span class="nocase">readr</span> Hex Sticker.”</span> <a href="https://github.com/rstudio/hex-stickers/blob/main/PNG/readr.png">https://github.com/rstudio/hex-stickers/blob/main/PNG/readr.png</a>.
</div>
<div id="ref-hex_tibble" class="csl-entry" role="listitem">
———. 2018e. <span>“<span class="nocase">tibble</span> Hex Sticker.”</span> <a href="https://github.com/rstudio/hex-stickers/blob/main/PNG/tibble.png">https://github.com/rstudio/hex-stickers/blob/main/PNG/tibble.png</a>.
</div>
<div id="ref-hex_dplyr" class="csl-entry" role="listitem">
———. 2020a. <span>“<span class="nocase">dplyr</span> Hex Sticker.”</span> <a href="https://github.com/rstudio/hex-stickers/blob/main/PNG/dplyr.png">https://github.com/rstudio/hex-stickers/blob/main/PNG/dplyr.png</a>.
</div>
<div id="ref-hex_stringr" class="csl-entry" role="listitem">
———. 2020b. <span>“<span class="nocase">stringr</span> Hex Sticker.”</span> <a href="https://github.com/rstudio/hex-stickers/blob/main/PNG/stringr.png">https://github.com/rstudio/hex-stickers/blob/main/PNG/stringr.png</a>.
</div>
<div id="ref-hex_tidyr" class="csl-entry" role="listitem">
———. 2020c. <span>“<span class="nocase">tidyr</span> Hex Sticker.”</span> <a href="https://github.com/rstudio/hex-stickers/blob/main/PNG/tidyr.png">https://github.com/rstudio/hex-stickers/blob/main/PNG/tidyr.png</a>.
</div>
<div id="ref-ggalt" class="csl-entry" role="listitem">
Rudis, Bob, Ben Bolker, and Jan Schulz. 2017. <em><span class="nocase">ggalt: Extra Coordinate Systems, ’Geoms’, Statistical Transformations, Scales and Fonts for ’ggplot2’</span></em>. <a href="https://CRAN.R-project.org/package=ggalt">https://CRAN.R-project.org/package=ggalt</a>.
</div>
<div id="ref-waffle" class="csl-entry" role="listitem">
Rudis, Bob, and Dave Gandy. 2023. <em><span class="nocase">waffle</span>: Create Waffle Chart Visualizations</em>. <a href="https://CRAN.R-project.org/package=waffle">https://CRAN.R-project.org/package=waffle</a>.
</div>
<div id="ref-lattice" class="csl-entry" role="listitem">
Sarkar, Deepayan. 2008. <em>Lattice: Multivariate Data Visualization with r</em>. New York: Springer. <a href="http://lmdvr.r-forge.r-project.org">http://lmdvr.r-forge.r-project.org</a>.
</div>
<div id="ref-openxlsx" class="csl-entry" role="listitem">
Schauberger, Philipp, and Alexander Walker. 2023. <em><span class="nocase">openxlsx: Read, Write and Edit xlsx Files</span></em>. <a href="https://CRAN.R-project.org/package=openxlsx">https://CRAN.R-project.org/package=openxlsx</a>.
</div>
<div id="ref-owidapi" class="csl-entry" role="listitem">
Scheuch, Christoph. 2025. <em><span class="nocase">owidapi</span>: Access the Our World in Data Chart API</em>. <a href="https://doi.org/10.32614/CRAN.package.owidapi">https://doi.org/10.32614/CRAN.package.owidapi</a>.
</div>
<div id="ref-GGally" class="csl-entry" role="listitem">
Schloerke, Barret, Di Cook, Joseph Larmarange, Francois Briatte, Moritz Marbach, Edwin Thoen, Amos Elberg, and Jason Crowley. 2024. <em><span class="nocase">GGally: Extension to ’ggplot2’</span></em>. <a href="https://CRAN.R-project.org/package=GGally">https://CRAN.R-project.org/package=GGally</a>.
</div>
<div id="ref-Schloss" class="csl-entry" role="listitem">
Schloss, Karen B., Connor C. Gramazio, Allison T. Silverman, Madeline L. Parker, and Audrey S. Wang. 2019. <span>“Mapping Color to Meaning in Colormap Data Visualizations.”</span> <em>IEEE Transactions on Visualization and Computer Graphics</em> 25 (1): 810–19. <a href="https://doi.org/10.1109/TVCG.2018.2865147">https://doi.org/10.1109/TVCG.2018.2865147</a>.
</div>
<div id="ref-funspotr" class="csl-entry" role="listitem">
Shalloway, Bryan. 2023. <em><span class="nocase">funspotr: Spot R Functions &amp; Packages</span></em>. <a href="https://CRAN.R-project.org/package=funspotr">https://CRAN.R-project.org/package=funspotr</a>.
</div>
<div id="ref-plotly" class="csl-entry" role="listitem">
Sievert, Carson. 2020. <em>Interactive Web-Based Data Visualization with r, Plotly, and Shiny</em>. Chapman; Hall/CRC. <a href="https://plotly-r.com">https://plotly-r.com</a>.
</div>
<div id="ref-ggrepel" class="csl-entry" role="listitem">
Slowikowski, Kamil. 2024. <em><span class="nocase">ggrepel: Automatically Position Non-Overlapping Text Labels with ’ggplot2’</span></em>. <a href="https://CRAN.R-project.org/package=ggrepel">https://CRAN.R-project.org/package=ggrepel</a>.
</div>
<div id="ref-visdat" class="csl-entry" role="listitem">
Tierney, Nicholas. 2017. <span>“<span class="nocase">visdat: Visualising Whole Data Frames</span>.”</span> <em>JOSS</em> 2 (16): 355. <a href="https://doi.org/10.21105/joss.00355">https://doi.org/10.21105/joss.00355</a>.
</div>
<div id="ref-naniar" class="csl-entry" role="listitem">
Tierney, Nicholas, and Dianne Cook. 2023. <span>“Expanding Tidy Data Principles to Facilitate Missing Data Exploration, Visualization and Assessment of Imputations.”</span> <em>Journal of Statistical Software</em> 105 (7): 1–31. <a href="https://doi.org/10.18637/jss.v105.i07">https://doi.org/10.18637/jss.v105.i07</a>.
</div>
<div id="ref-Tol2021" class="csl-entry" role="listitem">
Tol, Paul. 2021. <span>“<span class="nocase">Paul Tol’s Notes: Colour schemes and templates</span>.”</span> <a href="https://sronpersonalpages.nl/~pault/" class="uri">https://sronpersonalpages.nl/~pault/</a>.
</div>
<div id="ref-UScensuspop" class="csl-entry" role="listitem">
United States Census Bureau. 2021a. <span>“Historical Population Change Data (1910-2020).”</span> <a href="https://www.census.gov/data/tables/time-series/dec/popchange-data-text.html" class="uri">https://www.census.gov/data/tables/time-series/dec/popchange-data-text.html</a>.
</div>
<div id="ref-UScensus" class="csl-entry" role="listitem">
———. 2021b. <span>“State Area Measurements and Internal Point Coordinates.”</span> <a href="https://www.census.gov/geographies/reference-files/2010/geo/state-area.html" class="uri">https://www.census.gov/geographies/reference-files/2010/geo/state-area.html</a>.
</div>
<div id="ref-bees_data" class="csl-entry" role="listitem">
United States Department of Agriculture: Economics, Statistics and Market Information System. 2022. <span>“Honey Bee Colonies.”</span> <span>USDA Economics, Statistics and Market Information System</span>. <a href="https://usda.library.cornell.edu/concern/publications/rn301137d">https://usda.library.cornell.edu/concern/publications/rn301137d</a>.
</div>
<div id="ref-crsuggest" class="csl-entry" role="listitem">
Walker, Kyle. 2022. <em><span class="nocase">crsuggest: Obtain Suggested Coordinate Reference System Information for Spatial Data</span></em>. <a href="https://CRAN.R-project.org/package=crsuggest">https://CRAN.R-project.org/package=crsuggest</a>.
</div>
<div id="ref-Wanzer2021" class="csl-entry" role="listitem">
Wanzer, Dana Linnell, Tarek Azzam, Natalie D. Jones, and Darrel Skousen. 2021. <span>“The Role of Titles in Enhancing Data Visualization.”</span> <em>Evaluation and Program Planning</em> 84: 101896. <a href="https://doi.org/10.1016/j.evalprogplan.2020.101896">https://doi.org/10.1016/j.evalprogplan.2020.101896</a>.
</div>
<div id="ref-ggplot2" class="csl-entry" role="listitem">
Wickham, Hadley. 2016. <em><span class="nocase">ggplot2</span>: Elegant Graphics for Data Analysis</em>. Springer-Verlag New York. <a href="https://ggplot2.tidyverse.org">https://ggplot2.tidyverse.org</a>.
</div>
<div id="ref-forcats" class="csl-entry" role="listitem">
———. 2023a. <em><span class="nocase">forcats</span>: Tools for Working with Categorical Variables (Factors)</em>. <a href="https://doi.org/10.32614/CRAN.package.forcats">https://doi.org/10.32614/CRAN.package.forcats</a>.
</div>
<div id="ref-stringr" class="csl-entry" role="listitem">
———. 2023b. <em><span class="nocase">stringr: Simple, Consistent Wrappers for Common String Operations</span></em>. <a href="https://CRAN.R-project.org/package=stringr">https://CRAN.R-project.org/package=stringr</a>.
</div>
<div id="ref-tidyverse" class="csl-entry" role="listitem">
Wickham, Hadley, Mara Averick, Jennifer Bryan, Winston Chang, Lucy D’Agostino McGowan, Romain François, Garrett Grolemund, et al. 2019. <span>“Welcome to the <span class="nocase">tidyverse</span>.”</span> <em>Journal of Open Source Software</em> 4 (43): 1686. <a href="https://doi.org/10.21105/joss.01686">https://doi.org/10.21105/joss.01686</a>.
</div>
<div id="ref-readxl" class="csl-entry" role="listitem">
Wickham, Hadley, and Jennifer Bryan. 2023. <em><span class="nocase">readxl: Read Excel Files</span></em>. <a href="https://CRAN.R-project.org/package=readxl">https://CRAN.R-project.org/package=readxl</a>.
</div>
<div id="ref-r4ds" class="csl-entry" role="listitem">
Wickham, Hadley, Mine Çetinkaya-Rundel, and Garrett Grolemund. 2023. <em><span>R</span> for Data Science</em>. Second Edition. O-Reilly. <a href="https://r4ds.hadley.nz">https://r4ds.hadley.nz</a>.
</div>
<div id="ref-dplyr" class="csl-entry" role="listitem">
Wickham, Hadley, Romain François, Lionel Henry, Kirill Müller, and Davis Vaughan. 2023. <em><span class="nocase">dplyr</span>: A Grammar of Data Manipulation</em>. <a href="https://CRAN.R-project.org/package=dplyr">https://CRAN.R-project.org/package=dplyr</a>.
</div>
<div id="ref-purrr" class="csl-entry" role="listitem">
Wickham, Hadley, and Lionel Henry. 2023. <em><span class="nocase">purrr</span>: Functional Programming Tools</em>. <a href="https://CRAN.R-project.org/package=purrr">https://CRAN.R-project.org/package=purrr</a>.
</div>
<div id="ref-readr" class="csl-entry" role="listitem">
Wickham, Hadley, Jim Hester, and Jennifer Bryan. 2024. <em><span class="nocase">readr</span>: Read Rectangular Text Data</em>. <a href="https://CRAN.R-project.org/package=readr">https://CRAN.R-project.org/package=readr</a>.
</div>
<div id="ref-scales" class="csl-entry" role="listitem">
Wickham, Hadley, Thomas Lin Pedersen, and Dana Seidel. 2023. <em><span class="nocase">scales</span>: Scale Functions for Visualization</em>. <a href="https://CRAN.R-project.org/package=scales">https://CRAN.R-project.org/package=scales</a>.
</div>
<div id="ref-tidyr" class="csl-entry" role="listitem">
Wickham, Hadley, Davis Vaughan, and Maximilian Girlich. 2024. <em><span class="nocase">tidyr</span>: Tidy Messy Data</em>. <a href="https://CRAN.R-project.org/package=tidyr">https://CRAN.R-project.org/package=tidyr</a>.
</div>
<div id="ref-ggtextures" class="csl-entry" role="listitem">
Wilke, Claus. 2022. <em><span class="nocase">ggtextures: Drawing Textured Rectangles and Bars with grid and ggplot2</span></em>. <a href="https://github.com/clauswilke/ggtextures">https://github.com/clauswilke/ggtextures</a>.
</div>
<div id="ref-cowplot" class="csl-entry" role="listitem">
Wilke, Claus O. 2024. <em><span class="nocase">cowplot</span>: Streamlined Plot Theme and Plot Annotations for <span class="nocase">’ggplot2’</span></em>. <a href="https://wilkelab.org/cowplot/">https://wilkelab.org/cowplot/</a>.
</div>
<div id="ref-ggtext" class="csl-entry" role="listitem">
Wilke, Claus O., and Brenton M. Wiernik. 2022. <em><span class="nocase">ggtext</span>: Improved Text Rendering Support for <span class="nocase">’ggplot2’</span></em>. <a href="https://CRAN.R-project.org/package=ggtext">https://CRAN.R-project.org/package=ggtext</a>.
</div>
<div id="ref-nobel_data" class="csl-entry" role="listitem">
www.nobelprize.org. 2024. <span>“<span>Nobel Prize API Version 2.1</span>.”</span> <a href="https://api.nobelprize.org/2.1/laureates">https://api.nobelprize.org/2.1/laureates</a>.
</div>
<div id="ref-owidR" class="csl-entry" role="listitem">
York, Piers. 2023. <em><span class="nocase">owidR</span>: Import Data from Our World in Data</em>. <a href="https://github.com/piersyork/owidR">https://github.com/piersyork/owidR</a>.
</div>
<div id="ref-ggimage" class="csl-entry" role="listitem">
Yu, Guangchuang. 2023. <em><span class="nocase">ggimage: Use Image in ’ggplot2’</span></em>. <a href="https://CRAN.R-project.org/package=ggimage">https://CRAN.R-project.org/package=ggimage</a>.
</div>
<div id="ref-gghighlight" class="csl-entry" role="listitem">
Yutani, Hiroaki. 2023. <em><span class="nocase">gghighlight</span>: Highlight Lines and Points in <span class="nocase">’ggplot2’</span></em>. <a href="https://CRAN.R-project.org/package=gghighlight">https://CRAN.R-project.org/package=gghighlight</a>.
</div>
<div id="ref-lemurs_data" class="csl-entry" role="listitem">
Zehr, Sarah M., Richard G. Roach, David Haring, Julie Taylor, Freda H. Cameron, and Anne D. Yoder. 2014. <span>“<span class="nocase">Life history profiles for 27 strepsirrhine primate taxa generated using captive data from the Duke Lemur Center</span>.”</span> <em>Scientific Data</em> 1 (1). <a href="https://doi.org/10.1038/sdata.2014.19">https://doi.org/10.1038/sdata.2014.19</a>.
</div>
</div>
</section></main><!-- /main --><script id="quarto-html-after-body" type="application/javascript">
  window.document.addEventListener("DOMContentLoaded", function (event) {
    const icon = "";
    const anchorJS = new window.AnchorJS();
    anchorJS.options = {
      placement: 'right',
      icon: icon
    };
    anchorJS.add('.anchored');
    const isCodeAnnotation = (el) => {
      for (const clz of el.classList) {
        if (clz.startsWith('code-annotation-')) {                     
          return true;
        }
      }
      return false;
    }
    const onCopySuccess = function(e) {
      // button target
      const button = e.trigger;
      // don't keep focus
      button.blur();
      // flash "checked"
      button.classList.add('code-copy-button-checked');
      var currentTitle = button.getAttribute("title");
      button.setAttribute("title", "Copied!");
      let tooltip;
      if (window.bootstrap) {
        button.setAttribute("data-bs-toggle", "tooltip");
        button.setAttribute("data-bs-placement", "left");
        button.setAttribute("data-bs-title", "Copied!");
        tooltip = new bootstrap.Tooltip(button, 
          { trigger: "manual", 
            customClass: "code-copy-button-tooltip",
            offset: [0, -8]});
        tooltip.show();    
      }
      setTimeout(function() {
        if (tooltip) {
          tooltip.hide();
          button.removeAttribute("data-bs-title");
          button.removeAttribute("data-bs-toggle");
          button.removeAttribute("data-bs-placement");
        }
        button.setAttribute("title", currentTitle);
        button.classList.remove('code-copy-button-checked');
      }, 1000);
      // clear code selection
      e.clearSelection();
    }
    const getTextToCopy = function(trigger) {
      const outerScaffold = trigger.parentElement.cloneNode(true);
      const codeEl = outerScaffold.querySelector('code');
      for (const childEl of codeEl.children) {
        if (isCodeAnnotation(childEl)) {
          childEl.remove();
        }
      }
      return codeEl.innerText;
    }
    const clipboard = new window.ClipboardJS('.code-copy-button:not([data-in-quarto-modal])', {
      text: getTextToCopy
    });
    clipboard.on('success', onCopySuccess);
    if (window.document.getElementById('quarto-embedded-source-code-modal')) {
      const clipboardModal = new window.ClipboardJS('.code-copy-button[data-in-quarto-modal]', {
        text: getTextToCopy,
        container: window.document.getElementById('quarto-embedded-source-code-modal')
      });
      clipboardModal.on('success', onCopySuccess);
    }
      var localhostRegex = new RegExp(/^(?:http|https):\/\/localhost\:?[0-9]*\//);
      var mailtoRegex = new RegExp(/^mailto:/);
        var filterRegex = new RegExp("https:\/\/nrennie\.rbind\.io\/art-of-viz\/");
      var isInternal = (href) => {
          return filterRegex.test(href) || localhostRegex.test(href) || mailtoRegex.test(href);
      }
      // Inspect non-navigation links and adorn them if external
     var links = window.document.querySelectorAll('a[href]:not(.nav-link):not(.navbar-brand):not(.toc-action):not(.sidebar-link):not(.sidebar-item-toggle):not(.pagination-link):not(.no-external):not([aria-hidden]):not(.dropdown-item):not(.quarto-navigation-tool):not(.about-link)');
      for (var i=0; i<links.length; i++) {
        const link = links[i];
        if (!isInternal(link.href)) {
          // undo the damage that might have been done by quarto-nav.js in the case of
          // links that we want to consider external
          if (link.dataset.originalHref !== undefined) {
            link.href = link.dataset.originalHref;
          }
        }
      }
    function tippyHover(el, contentFn, onTriggerFn, onUntriggerFn) {
      const config = {
        allowHTML: true,
        maxWidth: 500,
        delay: 100,
        arrow: false,
        appendTo: function(el) {
            return el.parentElement;
        },
        interactive: true,
        interactiveBorder: 10,
        theme: 'quarto',
        placement: 'bottom-start',
      };
      if (contentFn) {
        config.content = contentFn;
      }
      if (onTriggerFn) {
        config.onTrigger = onTriggerFn;
      }
      if (onUntriggerFn) {
        config.onUntrigger = onUntriggerFn;
      }
      window.tippy(el, config); 
    }
    const noterefs = window.document.querySelectorAll('a[role="doc-noteref"]');
    for (var i=0; i<noterefs.length; i++) {
      const ref = noterefs[i];
      tippyHover(ref, function() {
        // use id or data attribute instead here
        let href = ref.getAttribute('data-footnote-href') || ref.getAttribute('href');
        try { href = new URL(href).hash; } catch {}
        const id = href.replace(/^#\/?/, "");
        const note = window.document.getElementById(id);
        if (note) {
          return note.innerHTML;
        } else {
          return "";
        }
      });
    }
    const xrefs = window.document.querySelectorAll('a.quarto-xref');
    const processXRef = (id, note) => {
      // Strip column container classes
      const stripColumnClz = (el) => {
        el.classList.remove("page-full", "page-columns");
        if (el.children) {
          for (const child of el.children) {
            stripColumnClz(child);
          }
        }
      }
      stripColumnClz(note)
      if (id === null || id.startsWith('sec-')) {
        // Special case sections, only their first couple elements
        const container = document.createElement("div");
        if (note.children && note.children.length > 2) {
          container.appendChild(note.children[0].cloneNode(true));
          for (let i = 1; i < note.children.length; i++) {
            const child = note.children[i];
            if (child.tagName === "P" && child.innerText === "") {
              continue;
            } else {
              container.appendChild(child.cloneNode(true));
              break;
            }
          }
          if (window.Quarto?.typesetMath) {
            window.Quarto.typesetMath(container);
          }
          return container.innerHTML
        } else {
          if (window.Quarto?.typesetMath) {
            window.Quarto.typesetMath(note);
          }
          return note.innerHTML;
        }
      } else {
        // Remove any anchor links if they are present
        const anchorLink = note.querySelector('a.anchorjs-link');
        if (anchorLink) {
          anchorLink.remove();
        }
        if (window.Quarto?.typesetMath) {
          window.Quarto.typesetMath(note);
        }
        if (note.classList.contains("callout")) {
          return note.outerHTML;
        } else {
          return note.innerHTML;
        }
      }
    }
    for (var i=0; i<xrefs.length; i++) {
      const xref = xrefs[i];
      tippyHover(xref, undefined, function(instance) {
        instance.disable();
        let url = xref.getAttribute('href');
        let hash = undefined; 
        if (url.startsWith('#')) {
          hash = url;
        } else {
          try { hash = new URL(url).hash; } catch {}
        }
        if (hash) {
          const id = hash.replace(/^#\/?/, "");
          const note = window.document.getElementById(id);
          if (note !== null) {
            try {
              const html = processXRef(id, note.cloneNode(true));
              instance.setContent(html);
            } finally {
              instance.enable();
              instance.show();
            }
          } else {
            // See if we can fetch this
            fetch(url.split('#')[0])
            .then(res => res.text())
            .then(html => {
              const parser = new DOMParser();
              const htmlDoc = parser.parseFromString(html, "text/html");
              const note = htmlDoc.getElementById(id);
              if (note !== null) {
                const html = processXRef(id, note);
                instance.setContent(html);
              } 
            }).finally(() => {
              instance.enable();
              instance.show();
            });
          }
        } else {
          // See if we can fetch a full url (with no hash to target)
          // This is a special case and we should probably do some content thinning / targeting
          fetch(url)
          .then(res => res.text())
          .then(html => {
            const parser = new DOMParser();
            const htmlDoc = parser.parseFromString(html, "text/html");
            const note = htmlDoc.querySelector('main.content');
            if (note !== null) {
              // This should only happen for chapter cross references
              // (since there is no id in the URL)
              // remove the first header
              if (note.children.length > 0 && note.children[0].tagName === "HEADER") {
                note.children[0].remove();
              }
              const html = processXRef(null, note);
              instance.setContent(html);
            } 
          }).finally(() => {
            instance.enable();
            instance.show();
          });
        }
      }, function(instance) {
      });
    }
        let selectedAnnoteEl;
        const selectorForAnnotation = ( cell, annotation) => {
          let cellAttr = 'data-code-cell="' + cell + '"';
          let lineAttr = 'data-code-annotation="' +  annotation + '"';
          const selector = 'span[' + cellAttr + '][' + lineAttr + ']';
          return selector;
        }
        const selectCodeLines = (annoteEl) => {
          const doc = window.document;
          const targetCell = annoteEl.getAttribute("data-target-cell");
          const targetAnnotation = annoteEl.getAttribute("data-target-annotation");
          const annoteSpan = window.document.querySelector(selectorForAnnotation(targetCell, targetAnnotation));
          const lines = annoteSpan.getAttribute("data-code-lines").split(",");
          const lineIds = lines.map((line) => {
            return targetCell + "-" + line;
          })
          let top = null;
          let height = null;
          let parent = null;
          if (lineIds.length > 0) {
              //compute the position of the single el (top and bottom and make a div)
              const el = window.document.getElementById(lineIds[0]);
              top = el.offsetTop;
              height = el.offsetHeight;
              parent = el.parentElement.parentElement;
            if (lineIds.length > 1) {
              const lastEl = window.document.getElementById(lineIds[lineIds.length - 1]);
              const bottom = lastEl.offsetTop + lastEl.offsetHeight;
              height = bottom - top;
            }
            if (top !== null && height !== null && parent !== null) {
              // cook up a div (if necessary) and position it 
              let div = window.document.getElementById("code-annotation-line-highlight");
              if (div === null) {
                div = window.document.createElement("div");
                div.setAttribute("id", "code-annotation-line-highlight");
                div.style.position = 'absolute';
                parent.appendChild(div);
              }
              div.style.top = top - 2 + "px";
              div.style.height = height + 4 + "px";
              div.style.left = 0;
              let gutterDiv = window.document.getElementById("code-annotation-line-highlight-gutter");
              if (gutterDiv === null) {
                gutterDiv = window.document.createElement("div");
                gutterDiv.setAttribute("id", "code-annotation-line-highlight-gutter");
                gutterDiv.style.position = 'absolute';
                const codeCell = window.document.getElementById(targetCell);
                const gutter = codeCell.querySelector('.code-annotation-gutter');
                gutter.appendChild(gutterDiv);
              }
              gutterDiv.style.top = top - 2 + "px";
              gutterDiv.style.height = height + 4 + "px";
            }
            selectedAnnoteEl = annoteEl;
          }
        };
        const unselectCodeLines = () => {
          const elementsIds = ["code-annotation-line-highlight", "code-annotation-line-highlight-gutter"];
          elementsIds.forEach((elId) => {
            const div = window.document.getElementById(elId);
            if (div) {
              div.remove();
            }
          });
          selectedAnnoteEl = undefined;
        };
          // Handle positioning of the toggle
      window.addEventListener(
        "resize",
        throttle(() => {
          elRect = undefined;
          if (selectedAnnoteEl) {
            selectCodeLines(selectedAnnoteEl);
          }
        }, 10)
      );
      function throttle(fn, ms) {
      let throttle = false;
      let timer;
        return (...args) => {
          if(!throttle) { // first call gets through
              fn.apply(this, args);
              throttle = true;
          } else { // all the others get throttled
              if(timer) clearTimeout(timer); // cancel #2
              timer = setTimeout(() => {
                fn.apply(this, args);
                timer = throttle = false;
              }, ms);
          }
        };
      }
        // Attach click handler to the DT
        const annoteDls = window.document.querySelectorAll('dt[data-target-cell]');
        for (const annoteDlNode of annoteDls) {
          annoteDlNode.addEventListener('click', (event) => {
            const clickedEl = event.target;
            if (clickedEl !== selectedAnnoteEl) {
              unselectCodeLines();
              const activeEl = window.document.querySelector('dt[data-target-cell].code-annotation-active');
              if (activeEl) {
                activeEl.classList.remove('code-annotation-active');
              }
              selectCodeLines(clickedEl);
              clickedEl.classList.add('code-annotation-active');
            } else {
              // Unselect the line
              unselectCodeLines();
              clickedEl.classList.remove('code-annotation-active');
            }
          });
        }
    const findCites = (el) => {
      const parentEl = el.parentElement;
      if (parentEl) {
        const cites = parentEl.dataset.cites;
        if (cites) {
          return {
            el,
            cites: cites.split(' ')
          };
        } else {
          return findCites(el.parentElement)
        }
      } else {
        return undefined;
      }
    };
    var bibliorefs = window.document.querySelectorAll('a[role="doc-biblioref"]');
    for (var i=0; i<bibliorefs.length; i++) {
      const ref = bibliorefs[i];
      const citeInfo = findCites(ref);
      if (citeInfo) {
        tippyHover(citeInfo.el, function() {
          var popup = window.document.createElement('div');
          citeInfo.cites.forEach(function(cite) {
            var citeDiv = window.document.createElement('div');
            citeDiv.classList.add('hanging-indent');
            citeDiv.classList.add('csl-entry');
            var biblioDiv = window.document.getElementById('ref-' + cite);
            if (biblioDiv) {
              citeDiv.innerHTML = biblioDiv.innerHTML;
            }
            popup.appendChild(citeDiv);
          });
          return popup.innerHTML;
        });
      }
    }
  });
  </script><nav class="page-navigation"><div class="nav-page nav-page-previous">
      <a href="./museums.html" class="pagination-link" aria-label="영국 박물관: **`gghighlight`**로 선형 차트 강조하기">
        <i class="bi bi-arrow-left-short"></i> <span class="nav-page-text"><span class="chapter-number">3</span>&nbsp; <span class="chapter-title">영국 박물관: <strong><code>gghighlight</code></strong>로 선형 차트 강조하기</span></span>
      </a>          
  </div>
  <div class="nav-page nav-page-next">
      <a href="./animal-intakes.html" class="pagination-link" aria-label="동물 보호소 입소: **`ggforce`**를 사용한 게이지 차트 만들기">
        <span class="nav-page-text"><span class="chapter-number">5</span>&nbsp; <span class="chapter-title">동물 보호소 입소: <strong><code>ggforce</code></strong>를 사용한 게이지 차트 만들기</span></span> <i class="bi bi-arrow-right-short"></i>
      </a>
  </div>
</nav>
</div> <!-- /content -->



<script src="site_libs/quarto-contrib/line-highlight-1.0.0/line-highlight.js" defer="true"></script>
</body></html>